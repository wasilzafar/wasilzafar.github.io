<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="robots" content="index, archive" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Learn x86/x86-64 assembly language fundamentals. Understand what assembly is, the build pipeline (assemble, link, load, execute), object file formats (ELF vs PE), and write your first programs." />
    <meta name="author" content="Wasil Zafar" />
    <meta name="keywords" content="x86 Assembly, Assembly Fundamentals, Machine Code, ELF Format, PE Format, Assembly Build Pipeline, First Assembly Program, NASM Tutorial" />
    <meta property="og:title" content="x86 Assembly Series Part 1: Assembly Language Fundamentals & Toolchain Setup" />
    <meta property="og:description" content="Learn what assembly really is, understand the build pipeline, object file formats, and write your first x86 assembly programs for Linux and Windows." />
    <meta property="og:type" content="article" />
    <meta property="article:published_time" content="2026-02-06" />
    <meta property="article:author" content="Wasil Zafar" />
    <meta property="article:section" content="Technology" />
    
    <title>x86 Assembly Series Part 1: Assembly Language Fundamentals & Toolchain Setup - Wasil Zafar</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet" />

    <!-- Custom Styles -->
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" />

    <!-- Prism.js Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" id="prism-theme" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" id="prism-default" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-dark.min.css" id="prism-dark" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-twilight.min.css" id="prism-twilight" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css" id="prism-okaidia" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-solarizedlight.min.css" id="prism-solarizedlight" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css" />

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="../../../images/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../images/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../images/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="../../../images/favicon_io/site.webmanifest">

    <!-- Google Consent Mode v2 -->
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        
        gtag('consent', 'default', {
            'ad_storage': 'denied',
            'ad_user_data': 'denied',
            'ad_personalization': 'denied',
            'analytics_storage': 'denied',
            'region': ['AT','BE','BG','HR','CY','CZ','DK','EE','FI','FR','DE','GR','HU','IE','IT','LV','LT','LU','MT','NL','PL','PT','RO','SK','SI','ES','SE']
        });
        
        gtag('consent', 'default', {
            'ad_storage': 'granted',
            'ad_user_data': 'granted',
            'ad_personalization': 'granted',
            'analytics_storage': 'granted'
        });
        
        gtag('set', 'url_passthrough', true);
    </script>

    <!-- Google Tag Manager -->
    <script>
        (function(w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-PBS8M2JR');
    </script>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PBS8M2JR" height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>

    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="/">
                <span class="gradient-text">Wasil Zafar</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#about">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#skills">Skills</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#certifications">Certifications</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#interests">Interests</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="blog-hero">
        <div class="container py-5">
            <div class="blog-header">
                <a href="/pages/categories/technology.html" class="back-link">
                    <i class="fas fa-arrow-left me-2"></i>Back to Technology
                </a>
                <h1 class="display-4 fw-bold mb-3">x86 Assembly Series Part 1: Assembly Language Fundamentals & Toolchain Setup</h1>
                <div class="blog-meta">
                    <span><i class="fas fa-calendar me-2"></i>February 6, 2026</span>
                    <span><i class="fas fa-user me-2"></i>Wasil Zafar</span>
                    <span class="reading-time"><i class="fas fa-clock me-1"></i>25 min read</span>
                    <button onclick="window.print()" class="print-btn" title="Print this article">
                        <i class="fas fa-print"></i> Print
                    </button>
                </div>
                <p class="lead">Understand what assembly language really is, how it relates to machine code and micro-ops, and master the build pipeline from source to executable. Write your first assembly programs for Linux and Windows.</p>
            </div>
        </div>
    </section>

    <!-- Table of Contents Toggle Button -->
    <button class="toc-toggle-btn" onclick="openNav()" title="Table of Contents" aria-label="Open Table of Contents">
        <i class="fas fa-list"></i>
    </button>

    <!-- Side Navigation Overlay -->
    <div id="tocSidenav" class="sidenav-toc">
        <div class="toc-header">
            <h3><i class="fas fa-list me-2"></i>Table of Contents</h3>
            <button class="closebtn" onclick="closeNav()" aria-label="Close Table of Contents">&times;</button>
        </div>
        <ol>
            <li>
                <a href="#what-is-assembly" onclick="closeNav()">What is Assembly?</a>
                <ul>
                    <li><a href="#what-is-assembly" onclick="closeNav()">Human-Readable Machine Code</a></li>
                    <li><a href="#asm-vs-machine" onclick="closeNav()">Assembly vs Machine Code vs Micro-ops</a></li>
                    <li><a href="#why-assembly" onclick="closeNav()">Why Assembly Matters</a></li>
                </ul>
            </li>
            <li>
                <a href="#build-pipeline" onclick="closeNav()">The Build Pipeline</a>
                <ul>
                    <li><a href="#assemble" onclick="closeNav()">Assemble</a></li>
                    <li><a href="#link" onclick="closeNav()">Link</a></li>
                    <li><a href="#load-execute" onclick="closeNav()">Load & Execute</a></li>
                </ul>
            </li>
            <li>
                <a href="#object-formats" onclick="closeNav()">Object File Formats</a>
                <ul>
                    <li><a href="#elf" onclick="closeNav()">ELF (Linux)</a></li>
                    <li><a href="#pe" onclick="closeNav()">PE (Windows)</a></li>
                </ul>
            </li>
            <li>
                <a href="#first-programs" onclick="closeNav()">First Programs</a>
                <ul>
                    <li><a href="#linux-hello" onclick="closeNav()">Hello World (Linux)</a></li>
                    <li><a href="#windows-hello" onclick="closeNav()">Hello World (Windows)</a></li>
                    <li><a href="#baremetal" onclick="closeNav()">Bare Metal Basics</a></li>
                </ul>
            </li>
        </ol>
    </div>

    <!-- Overlay Backdrop -->
    <div id="tocOverlay" class="sidenav-overlay" onclick="closeNav()"></div>

    <!-- Main Content -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">

                <!-- What is Assembly Section -->
                <div id="what-is-assembly" class="blog-content">
                    <h2><i class="fas fa-microchip me-2 text-teal"></i>What Assembly Language Really Is</h2>
                    
                    <div class="highlight-box highlight-crimson">
                        <i class="fas fa-info-circle me-2"></i>
                        <strong>Core Understanding:</strong> Assembly language is a human-readable representation of machine code. Each assembly instruction typically maps to one CPU instruction, making it the lowest-level programming language that's still readable by humans.
                    </div>

                    <div class="experiment-card">
                        <h4><i class="fas fa-map-signs me-2"></i>Complete Series Navigation</h4>
                        <div class="meta mb-2">
                            <span class="badge bg-teal me-2">25-Part Series</span>
                            <span class="badge bg-crimson">x86 Assembly Mastery</span>
                        </div>
                        <div class="content">
                            <p><strong>Foundation & Environment Setup</strong></p>
                            <ol start="0">
                                <li><a href="asm-part00-environment-setup.html">Development Environment, Tooling & Workflow</a></li>
                                <li><strong>Assembly Language Fundamentals & Toolchain Setup (This Guide)</strong></li>
                                <li><a href="asm-part02-cpu-architecture.html">x86 CPU Architecture Overview</a></li>
                                <li><a href="asm-part03-registers.html">Registers – Complete Deep Dive</a></li>
                                <li><a href="asm-part04-instruction-encoding.html">Instruction Encoding & Binary Layout</a></li>
                            </ol>
                            <p class="mt-3"><strong>Assemblers, Syntax & Memory</strong></p>
                            <ol start="5">
                                <li><a href="asm-part05-nasm.html">NASM Syntax, Directives & Macros</a></li>
                                <li><a href="asm-part06-masm.html">Complete Assembler Comparison</a></li>
                                <li><a href="asm-part07-memory-addressing.html">Memory Addressing Modes</a></li>
                            </ol>
                            <p class="mt-3"><strong>Control Flow, Stack & Computation</strong></p>
                            <ol start="8">
                                <li><a href="asm-part08-stack-calling.html">Stack Internals & Calling Conventions</a></li>
                                <li><a href="asm-part09-control-flow.html">Control Flow & Procedures</a></li>
                                <li><a href="asm-part10-arithmetic.html">Integer, Bitwise & Arithmetic Operations</a></li>
                            </ol>
                            <p class="mt-3"><strong>Floating Point, SIMD & Performance</strong></p>
                            <ol start="11">
                                <li><a href="asm-part11-floating-point.html">Floating Point & SIMD Foundations</a></li>
                                <li><a href="asm-part12-simd.html">SIMD, Vectorization & Performance</a></li>
                            </ol>
                            <p class="mt-3"><strong>OS Interaction & Debugging</strong></p>
                            <ol start="13">
                                <li><a href="asm-part13-syscalls-interrupts.html">System Calls, Interrupts & Privilege Transitions</a></li>
                                <li><a href="asm-part14-debugging.html">Debugging & Reverse Engineering</a></li>
                                <li><a href="asm-part15-linking.html">Linking, Relocation & Loader Behavior</a></li>
                            </ol>
                            <p class="mt-3"><strong>Advanced Architecture & Interoperability</strong></p>
                            <ol start="16">
                                <li><a href="asm-part16-long-mode.html">x86-64 Long Mode & Advanced Features</a></li>
                                <li><a href="asm-part17-c-interop.html">Assembly + C/C++ Interoperability</a></li>
                                <li><a href="asm-part18-security.html">Memory Protection & Security Concepts</a></li>
                            </ol>
                            <p class="mt-3"><strong>Bare Metal, Kernel & Virtualization</strong></p>
                            <ol start="19">
                                <li><a href="asm-part19-bootloader.html">Bootloaders & Bare-Metal Programming</a></li>
                                <li><a href="asm-part20-kernel.html">Kernel-Level Assembly</a></li>
                                <li><a href="asm-part21-qemu.html">Complete Emulator & Simulator Guide</a></li>
                            </ol>
                            <p class="mt-3"><strong>CPU Microarchitecture & Optimization</strong></p>
                            <ol start="22">
                                <li><a href="asm-part22-optimization.html">Advanced Optimization & CPU Internals</a></li>
                            </ol>
                            <p class="mt-3"><strong>Real-World Application & Mastery</strong></p>
                            <ol start="23">
                                <li><a href="asm-part23-projects.html">Real-World Assembly Projects</a></li>
                                <li><a href="asm-part24-capstone.html">Assembly Mastery Capstone</a></li>
                            </ol>
                        </div>
                    </div>

                    <p>When you write in a high-level language like Python or C++, your code gets transformed through multiple stages before the CPU can execute it. Assembly language sits just one step above raw binary machine code.</p>

                    <div class="experiment-card">
                        <div class="card-meta mb-2">
                            <span class="badge bg-teal text-white">Concept</span>
                        </div>
                        <h4>The Language Hierarchy</h4>
                        <p>From human to machine:</p>
                        <ol>
                            <li><strong>High-Level Languages</strong> (Python, Java, C++) → Human-friendly abstractions</li>
                            <li><strong>Assembly Language</strong> → Human-readable CPU instructions</li>
                            <li><strong>Machine Code</strong> → Binary opcodes the CPU decodes</li>
                            <li><strong>Micro-operations</strong> → Internal CPU operations (invisible to programmers)</li>
                        </ol>
                    </div>

                    <h3 id="asm-vs-machine">Assembly vs Machine Code vs Micro-ops</h3>
                    
                    <p>These three levels of code representation are often confused. Let's clarify each with concrete examples:</p>

                    <div class="highlight-box">
                        <i class="fas fa-lightbulb"></i>
                        <strong>Real-World Analogy:</strong> Think of it like cooking instructions:
                        <ul class="mb-0 mt-2">
                            <li><strong>Assembly</strong> = "Sauté the onions for 5 minutes" (human instructions)</li>
                            <li><strong>Machine Code</strong> = Recipe in a foreign language you can't read (encoded instructions)</li>
                            <li><strong>Micro-ops</strong> = Individual muscle movements to chop, stir, adjust flame (internal breakdown)</li>
                        </ul>
                    </div>

                    <h4>Assembly Language</h4>
                    
                    <p>Assembly is the human-readable representation using mnemonics (short names) for operations:</p>

                    <pre><code class="language-nasm">; Assembly instruction
mov     rax, 42         ; Move the value 42 into register RAX
add     rbx, rax        ; Add RAX to RBX, store result in RBX</code></pre>

                    <h4>Machine Code</h4>
                    
                    <p>Machine code is the binary encoding of those instructions—what the CPU actually reads:</p>

                    <pre><code class="language-plaintext">Assembly:        mov rax, 42
Machine Code:    48 C7 C0 2A 00 00 00  (7 bytes)

Breakdown:
  48          REX.W prefix (indicates 64-bit operand)
  C7 C0       Opcode for MOV r64, imm32 (to RAX)
  2A 00 00 00 Immediate value 42 (0x2A) in little-endian</code></pre>

                    <div class="experiment-card">
                        <h4><i class="fas fa-eye me-2"></i>See It Yourself: Disassemble Machine Code</h4>
                        <div class="content">
                            <pre><code class="language-bash"># Write machine code bytes to a file
echo -n -e '\x48\xc7\xc0\x2a\x00\x00\x00' > raw.bin

# Disassemble with objdump
objdump -D -b binary -m i386:x86-64 raw.bin

# Output shows:
# 0:  48 c7 c0 2a 00 00 00    mov    rax,0x2a</code></pre>
                        </div>
                    </div>

                    <h4>Micro-operations (μops)</h4>
                    
                    <p>Modern x86 CPUs internally break down complex CISC instructions into simpler RISC-like micro-operations. This is invisible to programmers but affects performance:</p>

                    <pre><code class="language-plaintext">Assembly instruction:   add [rbx], rax
                        (Add RAX to memory at address in RBX)

Internal μops (simplified):
  1. μop: Load value from memory address in RBX → temp register
  2. μop: Add RAX + temp → result register  
  3. μop: Store result → memory address in RBX

This single assembly instruction becomes 3 micro-operations internally!</code></pre>

                    <div class="highlight-box highlight-crimson">
                        <i class="fas fa-exclamation-triangle"></i>
                        <strong>Why Micro-ops Matter:</strong> Instructions that look simple might decompose into many μops, affecting:
                        <ul class="mb-0 mt-2">
                            <li>Execution latency (cycles to complete)</li>
                            <li>Throughput (how many per cycle)</li>
                            <li>Out-of-order execution scheduling</li>
                        </ul>
                        We'll explore this deeply in <a href="asm-part22-optimization.html">Part 22: Advanced Optimization</a>.
                    </div>

                    <h4>Quick Comparison Table</h4>

                    <table class="table table-bordered">
                        <thead class="table-dark">
                            <tr>
                                <th>Aspect</th>
                                <th>Assembly</th>
                                <th>Machine Code</th>
                                <th>Micro-ops</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Form</td>
                                <td>Text mnemonics</td>
                                <td>Binary bytes</td>
                                <td>Internal CPU signals</td>
                            </tr>
                            <tr>
                                <td>Created by</td>
                                <td>Programmer</td>
                                <td>Assembler</td>
                                <td>CPU decoder</td>
                            </tr>
                            <tr>
                                <td>Visible to</td>
                                <td>Programmers</td>
                                <td>CPU, debuggers</td>
                                <td>CPU only (mostly)</td>
                            </tr>
                            <tr>
                                <td>Relationship</td>
                                <td>1:1 with machine code</td>
                                <td>1:1 with assembly</td>
                                <td>1:many from machine code</td>
                            </tr>
                            <tr>
                                <td>Documentation</td>
                                <td>Intel/AMD manuals</td>
                                <td>Intel/AMD manuals</td>
                                <td>Agner Fog, uops.info</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 id="why-assembly">Why and When Assembly Matters</h3>
                    
                    <div class="experiment-card">
                        <div class="card-meta mb-2">
                            <span class="badge bg-crimson text-white">Use Cases</span>
                        </div>
                        <h4>When You Need Assembly</h4>
                        <ul>
                            <li><strong>OS Kernels:</strong> Boot code, interrupt handlers, context switching</li>
                            <li><strong>Embedded Systems:</strong> Direct hardware control, minimal footprint</li>
                            <li><strong>Performance-Critical Code:</strong> SIMD optimizations, cryptography</li>
                            <li><strong>Reverse Engineering:</strong> Malware analysis, security research</li>
                            <li><strong>Compiler Development:</strong> Understanding code generation</li>
                        </ul>
                    </div>
                </div>

                <!-- Build Pipeline Section -->
                <div id="build-pipeline" class="blog-content mt-5">
                    <h2><i class="fas fa-stream me-2 text-teal"></i>The Build Pipeline</h2>
                    
                    <p>Understanding how assembly code becomes an executable is crucial. The pipeline consists of distinct stages:</p>

                    <div class="highlight-box">
                        <i class="fas fa-arrow-right"></i>
                        <strong>Pipeline:</strong> Source (.asm) → Assemble → Object (.o/.obj) → Link → Executable → Load → Execute
                    </div>

                    <h3 id="assemble">Stage 1: Assemble</h3>
                    
                    <p>The assembler converts your assembly source into an object file containing machine code and metadata:</p>
                    
                    <pre><code class="language-bash"># NASM assembling to ELF64 object file
nasm -f elf64 program.asm -o program.o

# NASM assembling to Win64 object file
nasm -f win64 program.asm -o program.obj</code></pre>

                    <h3 id="link">Stage 2: Link</h3>
                    
                    <p>The linker combines object files and resolves symbols to create an executable:</p>
                    
                    <pre><code class="language-bash"># Linux: Link with ld
ld -o program program.o

# Windows: Link with MSVC linker
link /SUBSYSTEM:CONSOLE program.obj</code></pre>

                    <h3 id="load-execute">Stage 3: Load & Execute</h3>
                    
                    <p>When you run a program, the operating system's <strong>loader</strong> performs several crucial steps before your code executes:</p>

                    <div class="highlight-box">
                        <i class="fas fa-cogs"></i>
                        <strong>What the Loader Does:</strong>
                        <ol class="mb-0 mt-2">
                            <li><strong>Parse executable header</strong> (ELF/PE) to understand memory layout</li>
                            <li><strong>Create process</strong> with new virtual address space</li>
                            <li><strong>Map sections</strong> into memory with correct permissions (read/write/execute)</li>
                            <li><strong>Perform relocations</strong> (adjust addresses if loaded at different base)</li>
                            <li><strong>Load shared libraries</strong> and resolve dynamic symbols</li>
                            <li><strong>Set up stack</strong> with command-line arguments and environment</li>
                            <li><strong>Transfer control</strong> to entry point (_start or main)</li>
                        </ol>
                    </div>

                    <h4>Process Memory Layout</h4>

                    <p>After loading, your process has a specific memory layout:</p>

                    <pre><code class="language-plaintext">High Address (e.g., 0x7FFF...)
    ┌─────────────────────────┐
    │       Stack             │  ← Grows downward (RSP)
    │         ↓               │     Local variables, return addresses
    │                         │
    │      (unmapped)         │
    │                         │
    │         ↑               │
    │       Heap              │  ← Grows upward (brk/mmap)
    │                         │     Dynamic allocations
    ├─────────────────────────┤
    │       .bss              │  ← Uninitialized data (zeroed)
    ├─────────────────────────┤
    │       .data             │  ← Initialized data (read/write)
    ├─────────────────────────┤
    │       .rodata           │  ← Read-only data (constants, strings)
    ├─────────────────────────┤
    │       .text             │  ← Code section (read/execute)
    └─────────────────────────┘
Low Address (e.g., 0x400000)</code></pre>

                    <h4>Examining the Load Process</h4>

                    <pre><code class="language-bash"># Trace system calls during program load (Linux)
strace ./hello 2>&1 | head -30

# Key syscalls you'll see:
# execve("./hello", ...)         - Execute the program
# mmap(NULL, ..., PROT_READ)     - Map ELF header
# mmap(0x400000, ..., PROT_EXEC) - Map .text section
# mmap(0x600000, ..., PROT_WRITE)- Map .data section
# write(1, "Hello, World!\n", 14)- Our actual syscall!
# exit_group(0)                  - Exit</code></pre>

                    <div class="experiment-card">
                        <h4><i class="fas fa-microscope me-2"></i>Exercise: Watch Your Program Load</h4>
                        <div class="content">
                            <pre><code class="language-bash"># Use GDB to observe the loader
gdb ./hello

(gdb) starti              # Stop at the very first instruction
                          # (This is in the dynamic linker, not your code!)

(gdb) info proc mappings  # Show memory map
(gdb) info files          # Show loaded sections

(gdb) break _start        # Break at your entry point
(gdb) continue            # Run to _start
(gdb) x/10i $rip          # Examine your code!</code></pre>
                        </div>
                    </div>

                    <h4>Entry Point vs Main</h4>
                    
                    <p>There's often confusion about where execution actually begins:</p>

                    <table class="table table-bordered">
                        <thead class="table-dark">
                            <tr>
                                <th>Program Type</th>
                                <th>True Entry Point</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Pure assembly (no libc)</td>
                                <td><code>_start</code></td>
                                <td>Directly to your code</td>
                            </tr>
                            <tr>
                                <td>C program (with libc)</td>
                                <td><code>_start</code> (in crt0)</td>
                                <td>C runtime calls <code>main()</code></td>
                            </tr>
                            <tr>
                                <td>PIE executable</td>
                                <td>Dynamic linker first</td>
                                <td>Then to <code>_start</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Object Formats Section -->
                <div id="object-formats" class="blog-content mt-5">
                    <h2><i class="fas fa-file-code me-2 text-teal"></i>Object File Formats</h2>
                    
                    <h3 id="elf">ELF (Executable and Linkable Format)</h3>
                    
                    <p>Used by Linux, BSD, and many Unix-like systems. ELF files contain organized sections for code, data, symbols, and relocation information.</p>

                    <h4>ELF Structure Overview</h4>

                    <pre><code class="language-plaintext">┌─────────────────────────────────┐
│         ELF Header              │  64 bytes (64-bit)
│    Magic: 7F 45 4C 46           │  Identifies as ELF
│    Class: 64-bit                │  
│    Entry Point: 0x401000        │  Where execution begins
├─────────────────────────────────┤
│      Program Headers            │  Describe segments for loading
│   (how to load into memory)     │  
├─────────────────────────────────┤
│      Section Headers            │  Describe sections for linking
│   (logical organization)        │  
├─────────────────────────────────┤
│         .text                   │  Executable code
├─────────────────────────────────┤
│        .rodata                  │  Read-only data (strings)
├─────────────────────────────────┤
│         .data                   │  Initialized read/write data
├─────────────────────────────────┤
│         .bss                    │  Uninitialized data (zeroed)
├─────────────────────────────────┤
│        .symtab                  │  Symbol table
├─────────────────────────────────┤
│        .strtab                  │  String table (symbol names)
└─────────────────────────────────┘</code></pre>

                    <h4>Examining ELF Files</h4>

                    <pre><code class="language-bash"># View ELF header
readelf -h hello

# Output shows:
#   Magic:   7f 45 4c 46 02 01 01 00 ...
#   Type:    EXEC (Executable file)
#   Entry point address: 0x401000

# View section headers
readelf -S hello

# View program headers (segments)
readelf -l hello

# Disassemble .text section
objdump -d hello

# View all symbols
nm hello</code></pre>

                    <div class="experiment-card">
                        <h4><i class="fas fa-search me-2"></i>Exercise: Decode the ELF Magic</h4>
                        <div class="content">
                            <pre><code class="language-bash"># Read first 16 bytes of any ELF file
xxd -l 16 hello

# 00000000: 7f45 4c46 0201 0100 0000 0000 0000 0000  .ELF............
#           │  │  │  │ │  │  │
#           │  │  │  │ │  │  └─ OS/ABI (0 = System V)
#           │  │  │  │ │  └─── Endianness (1 = little)
#           │  │  │  │ └────── ELF version (1)
#           │  │  │  └──────── Class (2 = 64-bit)
#           │  │  └─────────── 'F' (0x46)
#           │  └────────────── 'L' (0x4C)  
#           └───────────────── 'E' (0x45)
#           └───────────────── Magic: 0x7F</code></pre>
                        </div>
                    </div>

                    <h3 id="pe">PE (Portable Executable)</h3>
                    
                    <p>Used by Windows for .exe and .dll files. PE evolved from COFF format and maintains a DOS stub for backward compatibility.</p>

                    <h4>PE Structure Overview</h4>

                    <pre><code class="language-plaintext">┌─────────────────────────────────┐
│         DOS Header              │  64 bytes
│    Magic: 4D 5A ("MZ")          │  Mark Zbikowski's initials!
│    PE offset at 0x3C            │  
├─────────────────────────────────┤
│         DOS Stub                │  "This program cannot be run..."
│    (Legacy compatibility)       │  
├─────────────────────────────────┤
│       PE Signature              │  "PE\0\0" (50 45 00 00)
├─────────────────────────────────┤
│       COFF Header               │  Machine type, section count
├─────────────────────────────────┤
│    Optional Header              │  Entry point, image base, etc.
│    (not actually optional!)     │  
├─────────────────────────────────┤
│     Section Headers             │  .text, .data, .rdata, etc.
├─────────────────────────────────┤
│         .text                   │  Executable code
├─────────────────────────────────┤
│        .rdata                   │  Read-only data, imports
├─────────────────────────────────┤
│         .data                   │  Initialized data
├─────────────────────────────────┤
│        .idata                   │  Import table (DLL references)
└─────────────────────────────────┘</code></pre>

                    <h4>Examining PE Files</h4>

                    <pre><code class="language-bash"># Windows: Use dumpbin (from Visual Studio)
dumpbin /headers hello.exe
dumpbin /disasm hello.exe
dumpbin /imports hello.exe

# Linux: Use objdump with PE support
objdump -x hello.exe

# Or use pe-parse/pefile (Python)
pip install pefile
python -c "import pefile; pe = pefile.PE('hello.exe'); print(pe.dump_info())"</code></pre>

                    <div class="highlight-box highlight-navy">
                        <i class="fas fa-history"></i>
                        <strong>History Note:</strong> "MZ" in the DOS header stands for Mark Zbikowski, an architect of MS-DOS. Every Windows executable still starts with these bytes—40+ years of backward compatibility!
                    </div>

                    <h4>ELF vs PE Quick Comparison</h4>

                    <table class="table table-bordered">
                        <thead class="table-dark">
                            <tr>
                                <th>Feature</th>
                                <th>ELF (Linux)</th>
                                <th>PE (Windows)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Magic</td>
                                <td><code>7F 45 4C 46</code> (.ELF)</td>
                                <td><code>4D 5A</code> (MZ) + PE\0\0</td>
                            </tr>
                            <tr>
                                <td>Code section</td>
                                <td><code>.text</code></td>
                                <td><code>.text</code></td>
                            </tr>
                            <tr>
                                <td>Read-only data</td>
                                <td><code>.rodata</code></td>
                                <td><code>.rdata</code></td>
                            </tr>
                            <tr>
                                <td>Typical base address</td>
                                <td><code>0x400000</code></td>
                                <td><code>0x140000000</code> (64-bit)</td>
                            </tr>
                            <tr>
                                <td>Analysis tool</td>
                                <td><code>readelf</code>, <code>objdump</code></td>
                                <td><code>dumpbin</code>, PE-bear</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- First Programs Section -->
                <div id="first-programs" class="blog-content mt-5">
                    <h2><i class="fas fa-rocket me-2 text-teal"></i>Your First Assembly Programs</h2>
                    
                    <h3 id="linux-hello">Hello World (Linux x86-64)</h3>
                    
                    <pre><code class="language-nasm">; hello.asm - Linux x86-64 Hello World
; Assemble: nasm -f elf64 hello.asm -o hello.o
; Link: ld hello.o -o hello
; Run: ./hello

section .data
    msg db "Hello, World!", 10    ; String with newline
    len equ $ - msg               ; Calculate string length

section .text
    global _start

_start:
    ; Write syscall
    mov rax, 1          ; syscall: write
    mov rdi, 1          ; fd: stdout
    mov rsi, msg        ; buffer address
    mov rdx, len        ; buffer length
    syscall

    ; Exit syscall
    mov rax, 60         ; syscall: exit
    xor rdi, rdi        ; status: 0
    syscall</code></pre>

                    <h3 id="windows-hello">Hello World (Windows x86-64)</h3>
                    
                    <p>Windows uses a completely different approach—instead of direct syscalls, we call Win32 API functions through DLL imports:</p>

                    <pre><code class="language-nasm">; hello_win.asm - Windows x64 Console Hello World
; Assemble: nasm -f win64 hello_win.asm -o hello_win.obj
; Link: link /SUBSYSTEM:CONSOLE /ENTRY:main hello_win.obj kernel32.lib
; Or with GoLink: golink /console hello_win.obj kernel32.dll

bits 64
default rel

section .data
    msg db "Hello, World!", 13, 10, 0    ; CRLF + null terminator
    msg_len equ $ - msg - 1                ; Length without null

section .bss
    written resq 1                         ; Bytes written (output)

section .text
    global main
    extern GetStdHandle
    extern WriteConsoleA
    extern ExitProcess

main:
    ; Set up stack frame (shadow space required by Win64 ABI)
    sub rsp, 40                  ; 32 bytes shadow + 8 for alignment

    ; GetStdHandle(STD_OUTPUT_HANDLE)
    mov rcx, -11                 ; STD_OUTPUT_HANDLE = -11
    call GetStdHandle
    mov rbx, rax                 ; Save handle in rbx

    ; WriteConsoleA(handle, buffer, length, &written, NULL)
    mov rcx, rbx                 ; Handle
    lea rdx, [msg]               ; Buffer pointer
    mov r8d, msg_len             ; Number of chars to write
    lea r9, [written]            ; Pointer to bytes written
    mov qword [rsp+32], 0        ; Reserved (5th param on stack)
    call WriteConsoleA

    ; ExitProcess(0)
    xor rcx, rcx                 ; Exit code 0
    call ExitProcess</code></pre>

                    <div class="highlight-box">
                        <i class="fas fa-windows"></i>
                        <strong>Win64 Calling Convention:</strong>
                        <ul class="mb-0 mt-2">
                            <li><strong>Parameters:</strong> RCX, RDX, R8, R9 for first 4 arguments</li>
                            <li><strong>Shadow space:</strong> Always reserve 32 bytes on stack before calls</li>
                            <li><strong>Stack alignment:</strong> Must be 16-byte aligned at CALL instruction</li>
                            <li><strong>Return value:</strong> RAX</li>
                            <li><strong>Caller-saved:</strong> RAX, RCX, RDX, R8-R11</li>
                        </ul>
                    </div>

                    <p>Alternative approach using MASM syntax:</p>

                    <pre><code class="language-nasm">; hello_masm.asm - MASM syntax version
; Build: ml64 /c hello_masm.asm
; Link: link /SUBSYSTEM:CONSOLE hello_masm.obj kernel32.lib

extern GetStdHandle : proc
extern WriteConsoleA : proc  
extern ExitProcess : proc

.data
msg     db "Hello, World!", 13, 10, 0
msgLen  equ $ - msg - 1

.data?
written dq ?

.code
main proc
    sub rsp, 40                  ; Shadow space + alignment
    
    mov rcx, -11
    call GetStdHandle
    
    mov rcx, rax                 ; Handle
    lea rdx, msg                 ; Buffer
    mov r8d, msgLen              ; Length
    lea r9, written              ; Output count
    mov qword ptr [rsp+32], 0    ; Reserved
    call WriteConsoleA
    
    xor ecx, ecx
    call ExitProcess
main endp
end</code></pre>

                    <h3 id="baremetal">Running on Bare Metal</h3>
                    
                    <p>The ultimate assembly experience: code that runs with no OS, directly on hardware (or emulator). This boot sector prints "Hi" to the screen using BIOS interrupts:</p>

                    <pre><code class="language-nasm">; boot.asm - Simple boot sector (512 bytes, runs at 0x7C00)
; Assemble: nasm -f bin boot.asm -o boot.bin
; Run: qemu-system-x86_64 -drive format=raw,file=boot.bin

bits 16                     ; 16-bit real mode
org 0x7C00                  ; BIOS loads us here

start:
    ; Set up segments (BIOS doesn't guarantee these)
    xor ax, ax
    mov ds, ax
    mov es, ax
    mov ss, ax
    mov sp, 0x7C00          ; Stack below our code

    ; Clear screen (BIOS video interrupt)
    mov ax, 0x0003          ; 80x25 text mode
    int 0x10

    ; Print 'H'
    mov ah, 0x0E            ; Teletype output
    mov al, 'H'
    int 0x10

    ; Print 'i'
    mov al, 'i'
    int 0x10

    ; Print '!'
    mov al, '!'
    int 0x10

.halt:
    hlt                     ; Halt CPU (saves power)
    jmp .halt               ; Loop forever if interrupted

; Boot sector signature (must be at bytes 510-511)
times 510 - ($ - $$) db 0   ; Pad with zeros
dw 0xAA55                   ; Boot signature</code></pre>

                    <div class="highlight-box highlight-crimson">
                        <i class="fas fa-exclamation-triangle"></i>
                        <strong>Boot Process Explained:</strong>
                        <ol class="mb-0 mt-2">
                            <li><strong>Power on:</strong> CPU starts in 16-bit real mode at 0xFFFF0 (BIOS ROM)</li>
                            <li><strong>BIOS POST:</strong> Initializes hardware, tests memory</li>
                            <li><strong>Boot search:</strong> BIOS reads first 512 bytes from boot device</li>
                            <li><strong>Signature check:</strong> Last two bytes must be 0x55, 0xAA</li>
                            <li><strong>Load & jump:</strong> BIOS loads sector to 0x7C00 and jumps there</li>
                            <li><strong>Your code runs!</strong> You now control the entire machine</li>
                        </ol>
                    </div>

                    <h4>Slightly More Practical Boot Sector</h4>

                    <pre><code class="language-nasm">; boot_msg.asm - Boot sector with string printing
; Assemble & run same as above

bits 16
org 0x7C00

start:
    xor ax, ax
    mov ds, ax
    mov es, ax

    ; Print welcome message
    mov si, welcome_msg
    call print_string

    ; Print hex value demo
    mov si, hex_msg
    call print_string
    mov ax, 0xDEAD
    call print_hex

    jmp $                   ; Infinite loop ($ = current address)

; Print null-terminated string from SI
print_string:
    pusha                   ; Save all registers
    mov ah, 0x0E            ; BIOS teletype
.loop:
    lodsb                   ; Load byte from [SI] into AL, increment SI
    test al, al             ; Check for null terminator
    jz .done
    int 0x10                ; Print character
    jmp .loop
.done:
    popa
    ret

; Print AX as 4 hex digits
print_hex:
    pusha
    mov cx, 4               ; 4 hex digits
.loop:
    rol ax, 4               ; Rotate left, bringing high nibble to low
    mov bx, ax
    and bx, 0x0F            ; Isolate low nibble
    mov bl, [hex_chars + bx]; Convert to ASCII
    push ax
    mov ah, 0x0E
    mov al, bl
    int 0x10
    pop ax
    loop .loop
    popa
    ret

hex_chars: db "0123456789ABCDEF"
welcome_msg: db "Boot sector loaded!", 13, 10, 0
hex_msg: db "Value: 0x", 0

times 510 - ($ - $$) db 0
dw 0xAA55</code></pre>

                    <div class="experiment-card">
                        <h4><i class="fas fa-flask me-2"></i>Exercise: Your First Boot Sector</h4>
                        <div class="content">
                            <pre><code class="language-bash"># Create and test your boot sector
nasm -f bin boot.asm -o boot.bin

# Verify size (should be exactly 512 bytes)
ls -la boot.bin

# Verify boot signature
xxd boot.bin | tail -1
# Should end with: .... 55aa

# Run in QEMU (no OS, no drivers - pure bare metal!)
qemu-system-x86_64 -drive format=raw,file=boot.bin

# Debug with QEMU + GDB
qemu-system-x86_64 -drive format=raw,file=boot.bin -s -S &
gdb -ex "target remote localhost:1234" -ex "set architecture i8086"</code></pre>
                            <p class="mt-3"><strong>Challenge:</strong> Modify the boot sector to print your name, then print it in a different color (hint: use AH=0x09 with BL for color attribute).</p>
                        </div>
                    </div>
                </div>

                <!-- Next Steps -->
                <div id="next-steps" class="blog-content mt-5">
                    <h2><i class="fas fa-forward me-2 text-teal"></i>Next Steps</h2>
                    
                    <p>Now that you understand what assembly is and how the build pipeline works, we'll dive into the CPU architecture that executes these instructions.</p>

                    <!-- Related Posts -->
                    <div class="related-posts">
                        <h3><i class="fas fa-book-reader me-2"></i>Continue the Series</h3>
                        <div class="related-post-item">
                            <h5 class="mb-2">Part 0: Development Environment, Tooling & Workflow</h5>
                            <p class="text-muted small mb-2">Set up your complete assembly development environment with assemblers, debuggers, and build tools.</p>
                            <a href="asm-part00-environment-setup.html" class="text-decoration-none">Read Article <i class="fas fa-arrow-right ms-1"></i></a>
                        </div>
                        <div class="related-post-item">
                            <h5 class="mb-2">Part 2: x86 CPU Architecture Overview</h5>
                            <p class="text-muted small mb-2">Understand x86 evolution, execution modes, privilege rings, and CPU internals for effective assembly programming.</p>
                            <a href="asm-part02-cpu-architecture.html" class="text-decoration-none">Read Article <i class="fas fa-arrow-right ms-1"></i></a>
                        </div>
                        <div class="related-post-item">
                            <h5 class="mb-2">Part 3: Registers – Complete Deep Dive</h5>
                            <p class="text-muted small mb-2">Master all x86/x64 registers including general-purpose, segment, control, and debug registers.</p>
                            <a href="asm-part03-registers.html" class="text-decoration-none">Read Article <i class="fas fa-arrow-right ms-1"></i></a>
                        </div>
                    </div>
                </div>

                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="social-media" class="bg-dark text-light py-5">
        <div class="container py-5">
            <div class="row mb-4">
                <div class="col-lg-6 mb-4 mb-lg-0">
                    <h5 class="fw-bold mb-3">Let's Connect</h5>
                    <p class="text-light">I'm always interested in sharing content about my interests on different topics. Read disclaimer and feel free to share further.</p>
                </div>
                <div class="col-lg-6">
                    <h5 class="fw-bold mb-3">Follow Me</h5>
                    <div class="social-links d-flex gap-2 flex-wrap">
                        <a href="https://www.facebook.com/wasil.zafar/" target="_blank" class="social-icon" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://twitter.com/wasilzafar" target="_blank" class="social-icon" title="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.linkedin.com/in/wasilzafar" target="_blank" class="social-icon" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.youtube.com/@wasilzafar" target="_blank" class="social-icon" title="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="https://www.instagram.com/itswzee/" target="_blank" class="social-icon" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://in.pinterest.com/wasilz/" target="_blank" class="social-icon" title="Pinterest"><i class="fab fa-pinterest-p"></i></a>
                        <a href="mailto:wasil.zafar@gmail.com" class="social-icon" title="Email"><i class="fas fa-envelope"></i></a>
                    </div>
                </div>
            </div>
            <hr class="bg-secondary">
            <div class="row mt-4">
                <div class="col-md-6">
                    <p class="small"><i class="fas fa-icons me-2"></i>Icons from <a href="https://www.flaticon.com/" target="_blank" class="text-light">Flaticon</a> &amp; <a href="https://fontawesome.com/" target="_blank" class="text-light">Font Awesome</a></p>
                    <p class="small mt-3">
                        <a href="/" class="text-light text-decoration-none">Home</a> | 
                        <a href="/disclaimer.html" class="text-light text-decoration-none">Disclaimer</a> | 
                        <a href="/privacy-policy.html" class="text-light text-decoration-none">Privacy Policy</a>
                    </p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="small">Enjoying this content? ☕ <a href="https://buymeacoffee.com/itswzee" target="_blank" class="text-light" style="text-decoration: underline;">Keep me caffeinated</a> to keep the pixels flowing!</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Scroll-to-Top Button -->
    <button id="scrollToTop" class="scroll-to-top" title="Back to Top"><i class="fas fa-arrow-up"></i></button>
    
    <!-- Category Indicator -->
    <div id="categoryIndicator" class="category-indicator" title="Current Section"><i class="fas fa-tag"></i><span id="categoryText">Technology</span></div>
    
    <!-- Cookie Consent JS -->
    <script src="../../../js/cookie-consent.js"></script>
    
    <!-- Main JS -->
    <script src="../../../js/main.js"></script>

    <!-- Prism.js Syntax Highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-nasm.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
</body>
</html>
