<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kernel Development Series - Phase 17: Stability, Security & Finishing | Wasil Zafar</title>
    <meta name="description" content="Complete your OS with debugging tools, security hardening, error handling, and the final polish to create a stable, production-quality operating system.">
    <meta name="keywords" content="kernel development, security, debugging, OS hardening, kernel completion, OS development">
    <meta name="author" content="Wasil Zafar">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Kernel Development Series - Phase 17: Stability, Security & Finishing">
    <meta property="og:description" content="Complete your OS with debugging tools, security hardening, error handling, and the final polish to create a stable, production-quality operating system.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://wasilzafar.com/pages/series/kernel-development/kernel-dev-phase-17-security.html">
    <meta property="og:image" content="https://wasilzafar.com/images/og-kernel-dev.png">
    <meta property="article:published_time" content="2026-02-06">
    <meta property="article:author" content="Wasil Zafar">
    <meta property="article:section" content="Technology">

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PBS8M2JR');</script>
    
    <!-- Google Consent Mode v2 -->
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('consent', 'default', {
        'ad_storage': 'denied',
        'ad_user_data': 'denied',
        'ad_personalization': 'denied',
        'analytics_storage': 'denied',
        'wait_for_update': 500
      });
    </script>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../../../images/favicon_io/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../images/favicon_io/apple-touch-icon.png">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Poppins:wght@400;500;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Prism.js Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" id="prism-theme" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" id="prism-default" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-dark.min.css" id="prism-dark" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-twilight.min.css" id="prism-twilight" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css" id="prism-okaidia" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-solarizedlight.min.css" id="prism-solarizedlight" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css" />
    
    <!-- Main CSS -->
    <link rel="stylesheet" href="../../../css/main.css">
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PBS8M2JR" height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>

    <!-- GDPR Cookie Consent Banner -->
    <div id="cookieBanner" class="light display-bottom" style="display: none;">
        <div id="closeIcon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                <path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"></path>
            </svg>
        </div>
        
        <div class="content-wrap">
            <div class="msg-wrap">
                <div class="title-wrap">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="20" height="20">
                        <path fill="#3B9797" d="M510.52 255.82c-69.97-.85-126.47-57.69-126.47-127.86-70.17 0-127-56.49-127.86-126.45-27.26-4.14-55.13.3-79.72 12.82l-69.13 35.22a132.221 132.221 0 0 0-57.79 57.81l-35.1 68.88a132.645 132.645 0 0 0-12.82 80.95l12.08 76.27a132.521 132.521 0 0 0 37.16 70.37l54.64 54.64a132.036 132.036 0 0 0 70.37 37.16l76.27 12.15c27.51 4.36 55.7-.11 80.95-12.8l68.88-35.08a132.166 132.166 0 0 0 57.79-57.81l35.1-68.88c12.56-24.64 17.01-52.58 12.91-79.91zM176 368c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm32-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm160 128c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"></path>
                    </svg>
                    <h4 style="margin: 0; font-size: 18px; color: var(--color-navy); font-weight: 700;">Cookie Consent</h4>
                </div>
                <p style="font-size: 14px; line-height: 1.6; color: var(--color-navy); margin-bottom: 15px;">
                    We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. 
                    By clicking "Accept All", you consent to our use of cookies. See our 
                    <a href="/privacy-policy.html" style="color: var(--color-teal); border-bottom: 1px dotted var(--color-teal);">Privacy Policy</a> 
                    for more information.
                </p>
                
                <div id="cookieSettings" style="display: none;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="14" height="14">
                        <path fill="currentColor" d="M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"></path>
                    </svg>
                    <span style="margin-left: 5px; font-size: 12px; font-weight: 600; color: var(--color-navy);">Customize Settings</span>
                </div>
                
                <div id="cookieTypes" style="display: none; margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(59, 151, 151, 0.2);">
                    <h5 style="font-size: 12px; font-weight: 700; color: var(--color-navy); margin-bottom: 10px; text-transform: uppercase;">Cookie Preferences</h5>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: flex; align-items: start; cursor: pointer;">
                            <input type="checkbox" checked disabled style="margin-top: 2px; margin-right: 8px; cursor: not-allowed;">
                            <div>
                                <strong style="font-size: 13px; color: var(--color-navy); display: block; margin-bottom: 2px;">Essential Cookies (Required)</strong>
                                <span style="font-size: 12px; color: #666;">Necessary for the website to function properly.</span>
                            </div>
                        </label>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: flex; align-items: start; cursor: pointer;">
                            <input type="checkbox" id="analyticsCookies" checked style="margin-top: 2px; margin-right: 8px;">
                            <div>
                                <strong style="font-size: 13px; color: var(--color-navy); display: block; margin-bottom: 2px;">Analytics Cookies</strong>
                                <span style="font-size: 12px; color: #666;">Help us understand how you interact with the website.</span>
                            </div>
                        </label>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: flex; align-items: start; cursor: pointer;">
                            <input type="checkbox" id="marketingCookies" style="margin-top: 2px; margin-right: 8px;">
                            <div>
                                <strong style="font-size: 13px; color: var(--color-navy); display: block; margin-bottom: 2px;">Marketing Cookies</strong>
                                <span style="font-size: 12px; color: #666;">Used to deliver relevant advertisements.</span>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
            
            <div class="btn-wrap">
                <button id="cookieAccept" style="background: var(--color-teal); color: white; font-weight: 600;">Accept All</button>
                <button id="cookieReject" style="background: transparent; color: var(--color-navy); border: 2px solid var(--color-teal); font-weight: 600;">Reject All</button>
                <button id="cookieSave" style="background: var(--color-blue); color: white; font-weight: 600; display: none;">Save Preferences</button>
            </div>
        </div>
    </div>

    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="/">
                <span class="gradient-text">Wasil Zafar</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/#about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/#skills">Skills</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/#certifications">Certifications</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/#interests">Interests</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="blog-hero">
        <div class="container py-5">
            <div class="blog-header">
                <a href="/pages/categories/technology.html" class="back-link">
                    <i class="fas fa-arrow-left me-2"></i>Back to Technology
                </a>
                <h1 class="display-4 fw-bold mb-3">Phase 17: Stability, Security & Finishing</h1>
                <div class="blog-meta">
                    <span><i class="fas fa-calendar me-2"></i>February 6, 2026</span>
                    <span><i class="fas fa-user me-2"></i>Wasil Zafar</span>
                    <span class="reading-time"><i class="fas fa-clock me-1"></i>35 min read</span>
                    <button onclick="window.print()" class="print-btn" title="Print this article">
                        <i class="fas fa-print"></i> Print
                    </button>
                </div>
                <p class="lead">Complete your OS journey with debugging tools, security hardening, comprehensive error handling, and the final polish for a production-ready system.</p>
            </div>
        </div>
    </section>

    <!-- Table of Contents Toggle Button -->
    <button class="toc-toggle-btn" onclick="openNav()" title="Table of Contents" aria-label="Open Table of Contents">
        <i class="fas fa-list"></i>
    </button>

    <!-- Side Navigation Overlay -->
    <div id="tocSidenav" class="sidenav-toc">
        <div class="toc-header">
            <h3><i class="fas fa-list me-2"></i>Table of Contents</h3>
            <button class="closebtn" onclick="closeNav()" aria-label="Close Table of Contents">&times;</button>
        </div>
        <ol>
            <li>
                <a href="#introduction" onclick="closeNav()">Introduction</a>
                <ul>
                    <li><a href="#completing-journey" onclick="closeNav()">Completing the Journey</a></li>
                    <li><a href="#what-weve-built" onclick="closeNav()">What We've Built</a></li>
                </ul>
            </li>
            <li>
                <a href="#debugging" onclick="closeNav()">Debugging Tools</a>
                <ul>
                    <li><a href="#stack-traces" onclick="closeNav()">Stack Traces</a></li>
                    <li><a href="#logging" onclick="closeNav()">Kernel Logging</a></li>
                    <li><a href="#serial-debug" onclick="closeNav()">Serial Debugging</a></li>
                </ul>
            </li>
            <li>
                <a href="#security" onclick="closeNav()">Security Hardening</a>
                <ul>
                    <li><a href="#nx-bit" onclick="closeNav()">NX Bit (DEP)</a></li>
                    <li><a href="#aslr" onclick="closeNav()">Address Space Layout</a></li>
                    <li><a href="#smep-smap" onclick="closeNav()">SMEP/SMAP</a></li>
                </ul>
            </li>
            <li>
                <a href="#error-handling" onclick="closeNav()">Error Handling</a>
                <ul>
                    <li><a href="#panic" onclick="closeNav()">Kernel Panic</a></li>
                    <li><a href="#oops" onclick="closeNav()">Soft Faults</a></li>
                </ul>
            </li>
            <li>
                <a href="#finishing" onclick="closeNav()">Finishing Touches</a>
                <ul>
                    <li><a href="#init" onclick="closeNav()">Init Process</a></li>
                    <li><a href="#shutdown" onclick="closeNav()">Clean Shutdown</a></li>
                </ul>
            </li>
            <li><a href="#summary" onclick="closeNav()">Series Summary</a></li>
            <li><a href="#next" onclick="closeNav()">What's Next</a></li>
        </ol>
    </div>

    <!-- Overlay Backdrop -->
    <div id="tocOverlay" class="sidenav-overlay" onclick="closeNav()"></div>

    <!-- Main Content -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">

                <!-- Introduction -->
                <div id="introduction" class="blog-content">
                    <h2><i class="fas fa-flag-checkered me-2 text-teal"></i>Introduction: Completing Your OS</h2>
                    
                    <div class="highlight-box crimson">
                        <i class="fas fa-trophy me-2"></i>
                        <strong>Phase 17 Goals:</strong> This is the final phase! By the end, your OS will have debugging tools, security hardening, robust error handling, and a proper init/shutdown sequence. You will have built a complete operating system from scratch.
                    </div>
                    
                    <div class="experiment-card">
                        <h4><i class="fas fa-map-signs me-2"></i>Complete Series Navigation</h4>
                        <div class="meta mb-2">
                            <span class="badge bg-teal me-2">18-Part Series</span>
                            <span class="badge bg-crimson">OS Development Mastery</span>
                        </div>
                        <div class="content">
                            <ol>
                                <li><a href="kernel-dev-phase-00-orientation.html">Phase 0: Orientation & Big Picture</a> - OS fundamentals, kernel architectures, learning path</li>
                                <li><a href="kernel-dev-phase-01-boot-process.html">Phase 1: How a Computer Starts</a> - BIOS/UEFI, boot sequence, dev environment</li>
                                <li><a href="kernel-dev-phase-02-real-mode.html">Phase 2: Real Mode - First Steps</a> - Real mode, bootloader, BIOS interrupts</li>
                                <li><a href="kernel-dev-phase-03-protected-mode.html">Phase 3: Entering Protected Mode</a> - GDT, 32-bit mode, C code execution</li>
                                <li><a href="kernel-dev-phase-04-display-input.html">Phase 4: Display, Input & Output</a> - VGA text mode, keyboard handling</li>
                                <li><a href="kernel-dev-phase-05-interrupts.html">Phase 5: Interrupts & CPU Control</a> - IDT, ISRs, PIC programming</li>
                                <li><a href="kernel-dev-phase-06-memory.html">Phase 6: Memory Management</a> - Paging, virtual memory, heap allocator</li>
                                <li><a href="kernel-dev-phase-07-filesystem.html">Phase 7: Disk Access & Filesystems</a> - Block devices, FAT, VFS layer</li>
                                <li><a href="kernel-dev-phase-08-processes.html">Phase 8: Processes & User Mode</a> - Task switching, system calls, user space</li>
                                <li><a href="kernel-dev-phase-09-elf.html">Phase 9: ELF Loading & Executables</a> - ELF format, program loading</li>
                                <li><a href="kernel-dev-phase-10-stdlib-shell.html">Phase 10: Standard Library & Shell</a> - C library, command-line shell</li>
                                <li><a href="kernel-dev-phase-11-long-mode.html">Phase 11: 64-Bit Long Mode</a> - x86-64, 64-bit paging, modern architecture</li>
                                <li><a href="kernel-dev-phase-12-uefi.html">Phase 12: Modern Booting with UEFI</a> - UEFI boot services, memory maps</li>
                                <li><a href="kernel-dev-phase-13-graphics.html">Phase 13: Graphics & GUI Systems</a> - Framebuffer, windowing, drawing</li>
                                <li><a href="kernel-dev-phase-14-input-timing.html">Phase 14: Advanced Input & Timing</a> - Mouse, high-precision timers</li>
                                <li><a href="kernel-dev-phase-15-hardware-drivers.html">Phase 15: Hardware Discovery & Drivers</a> - PCI, device drivers, NVMe</li>
                                <li><a href="kernel-dev-phase-16-performance.html">Phase 16: Performance & Optimization</a> - Caching, scheduler tuning</li>
                                <li><strong>Phase 17: Stability, Security & Finishing (This Guide)</strong> - Debugging, hardening, completion</li>
                            </ol>
                        </div>
                    </div>
                    
                    <p>Welcome to the final phase of your kernel development journey! Over the past 17 phases, you've assembled every major component of a modern operating system. Now it's time to add the professional polish that separates hobby projects from production-ready systems: <strong>comprehensive debugging infrastructure</strong>, <strong>security hardening</strong>, <strong>robust error handling</strong>, and proper <strong>system lifecycle management</strong>.</p>

                    <p>Think of building an OS like constructing a skyscraper. The previous phases built the foundation (bootloader), the steel frame (kernel core), the floors (memory/processes), and the amenities (GUI/filesystem). This phase adds the fire suppression systems, security checkpoints, emergency procedures, and building management—everything that makes it safe for actual occupants.</p>

                    <!-- The Complete OS Architecture -->
                    <pre style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 20px; border-radius: 8px; font-size: 0.85rem; overflow-x: auto; border: 1px solid #3B9797;">
<span style="color: #3B9797;">┌─────────────────────────────────────────────────────────────────────────────┐</span>
<span style="color: #f8f8f2;">│</span>        <span style="color: #BF092F; font-weight: bold;">COMPLETE OPERATING SYSTEM - YOUR CREATION</span>                            <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">├─────────────────────────────────────────────────────────────────────────────┤</span>
<span style="color: #f8f8f2;">│</span>                                                                             <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #50fa7b;">┌───────────┐</span>  <span style="color: #50fa7b;">┌───────────┐</span>  <span style="color: #50fa7b;">┌───────────┐</span>  <span style="color: #50fa7b;">┌───────────┐</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #50fa7b;">│ User App  │</span>  <span style="color: #50fa7b;">│ User App  │</span>  <span style="color: #50fa7b;">│   Shell   │</span>  <span style="color: #50fa7b;">│    GUI    │</span>  <span style="color: #8be9fd;">User</span>   <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #50fa7b;">└─────┬─────┘</span>  <span style="color: #50fa7b;">└─────┬─────┘</span>  <span style="color: #50fa7b;">└─────┬─────┘</span>  <span style="color: #50fa7b;">└─────┬─────┘</span>  <span style="color: #8be9fd;">Space</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>        <span style="color: #f8f8f2;">└──────────────┴──────────────┴──────────────┘</span>                      <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                              <span style="color: #ff79c6;">│</span> <span style="color: #f8f8f2;">System Calls</span>                               <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #bd93f9;">══════════════════════════════════════════════════════════════════</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">┌─────────────────────────────────────────────────────────────────┐</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">│</span>                    <span style="color: #f8f8f2; font-weight: bold;">KERNEL</span>                                   <span style="color: #ff79c6;">│</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">│</span>  <span style="color: #8be9fd;">┌─────────┐</span> <span style="color: #8be9fd;">┌─────────┐</span> <span style="color: #8be9fd;">┌─────────┐</span> <span style="color: #8be9fd;">┌──────────┐</span>   <span style="color: #ff79c6;">│</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">│</span>  <span style="color: #8be9fd;">│Scheduler│</span> <span style="color: #8be9fd;">│ Memory  │</span> <span style="color: #8be9fd;">│Filesystem│</span> <span style="color: #8be9fd;">│ Drivers  │</span>   <span style="color: #ff79c6;">│</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">│</span>  <span style="color: #8be9fd;">└─────────┘</span> <span style="color: #8be9fd;">└─────────┘</span> <span style="color: #8be9fd;">└─────────┘</span> <span style="color: #8be9fd;">└──────────┘</span>   <span style="color: #ff79c6;">│</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">│</span>  <span style="color: #ffb86c;">┌─────────┐</span> <span style="color: #ffb86c;">┌─────────┐</span> <span style="color: #ffb86c;">┌─────────┐</span> <span style="color: #ffb86c;">┌──────────┐</span>   <span style="color: #ff79c6;">│</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">│</span>  <span style="color: #ffb86c;">│ Debug   │</span> <span style="color: #ffb86c;">│Security │</span> <span style="color: #ffb86c;">│  Error  │</span> <span style="color: #ffb86c;">│  Init/   │</span>   <span style="color: #ff79c6;">│</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">│</span>  <span style="color: #ffb86c;">│ Tools   │</span> <span style="color: #ffb86c;">│Hardening│</span> <span style="color: #ffb86c;">│ Handling│</span> <span style="color: #ffb86c;">│ Shutdown │</span>   <span style="color: #ff79c6;">│</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">│</span>  <span style="color: #ffb86c;">└─────────┘</span> <span style="color: #ffb86c;">└─────────┘</span> <span style="color: #ffb86c;">└─────────┘</span> <span style="color: #ffb86c;">└──────────┘</span>   <span style="color: #ff79c6;">│</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">│</span>            <span style="color: #bd93f9;">↑ PHASE 17 ADDITIONS ↑</span>                         <span style="color: #ff79c6;">│</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">└─────────────────────────────────────────────────────────────────┘</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #bd93f9;">══════════════════════════════════════════════════════════════════</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #f1fa8c;">┌─────────────────────────────────────────────────────────────────┐</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #f1fa8c;">│</span>                    <span style="color: #f8f8f2; font-weight: bold;">HARDWARE</span>                                 <span style="color: #f1fa8c;">│</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #f1fa8c;">│</span>    <span style="color: #f8f8f2;">CPU  •  RAM  •  Disk  •  GPU  •  Keyboard  •  Mouse</span>       <span style="color: #f1fa8c;">│</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #f1fa8c;">└─────────────────────────────────────────────────────────────────┘</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                             <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">└─────────────────────────────────────────────────────────────────────────────┘</span></pre>

                    <div class="highlight-box">
                        <i class="fas fa-lightbulb"></i>
                        <strong>Key Insight:</strong> A complete OS needs more than features—it needs stability for real-world use, security to protect users, and proper initialization and shutdown sequences. This final phase ties everything together.
                    </div>

                    <h3 id="completing-journey">Completing the Journey</h3>
                    <p>Before we dive into the final components, let's appreciate what you're about to finish. Building an operating system is one of the most challenging endeavors in computer science—you've tackled:</p>

                    <ul>
                        <li><strong>Low-level boot code</strong> that runs before the OS exists</li>
                        <li><strong>Memory management</strong> with virtual memory and paging</li>
                        <li><strong>Process scheduling</strong> for multitasking</li>
                        <li><strong>Hardware drivers</strong> for real devices</li>
                        <li><strong>Filesystem implementation</strong> for persistent storage</li>
                        <li><strong>GUI systems</strong> for user interaction</li>
                    </ul>

                    <p>The components in this final phase ensure your OS handles the unexpected gracefully. When something goes wrong (and it will), you need tools to diagnose problems. When malicious code tries to exploit your system, security features must block it. And when users want to start or stop the system, the process must be clean and safe.</p>

                    <!-- Why Stability Matters -->
                    <div class="experiment-card">
                        <h4><i class="fas fa-shield-alt me-2"></i>The Production Quality Checklist</h4>
                        <div class="meta mb-2">
                            <span class="badge bg-teal me-2">System Requirements</span>
                            <span class="badge bg-blue">Quality Gates</span>
                        </div>
                        <div class="content">
                            <table class="table table-bordered mt-3">
                                <thead><tr><th>Component</th><th>Why It Matters</th><th>Without It</th></tr></thead>
                                <tbody>
                                    <tr><td><strong>Stack Traces</strong></td><td>Identify exact location of crashes</td><td>Hours of guesswork debugging</td></tr>
                                    <tr><td><strong>Kernel Logging</strong></td><td>Record events for post-mortem analysis</td><td>Crashes leave no clues</td></tr>
                                    <tr><td><strong>NX Bit</strong></td><td>Prevent code execution from data areas</td><td>Buffer overflows become exploits</td></tr>
                                    <tr><td><strong>ASLR</strong></td><td>Randomize memory layout</td><td>Attackers know where everything is</td></tr>
                                    <tr><td><strong>Kernel Panic</strong></td><td>Graceful handling of fatal errors</td><td>Silent corruption, data loss</td></tr>
                                    <tr><td><strong>Clean Shutdown</strong></td><td>Safe filesystem unmount, cache flush</td><td>Data corruption on every poweroff</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <h3 id="what-weve-built">What We've Built</h3>
                    <p>Let's inventory the major subsystems you've implemented across all 17 phases:</p>

                    <!-- OS Component Inventory -->
                    <pre style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 20px; border-radius: 8px; font-size: 0.85rem; overflow-x: auto; border: 1px solid #3B9797;">
<span style="color: #3B9797;">┌─────────────────────────────────────────────────────────────────────────────┐</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #BF092F; font-weight: bold;">YOUR OS COMPONENT INVENTORY</span>                                              <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">├─────────────────────────────────────────────────────────────────────────────┤</span>
<span style="color: #f8f8f2;">│</span>                                                                             <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #50fa7b;">BOOT SYSTEM (Phases 1-4)</span>                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── Bootloader (Stage 1 + Stage 2)</span>                                       <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── Real Mode → Protected Mode transition</span>                                <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── GDT Setup</span>                                                            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">└── UEFI Boot (modern systems)</span>                                           <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                             <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #8be9fd;">KERNEL CORE (Phases 5-6)</span>                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── Interrupt Descriptor Table (IDT)</span>                                     <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── Exception Handlers</span>                                                   <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── Physical Memory Manager (PMM)</span>                                        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── Virtual Memory Manager (VMM)</span>                                         <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">└── Heap Allocator (kmalloc/kfree)</span>                                       <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                             <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #ff79c6;">STORAGE & FILES (Phases 7, 9-10)</span>                                         <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── Block Device Layer</span>                                                   <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── FAT Filesystem Driver</span>                                                <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── Virtual Filesystem (VFS)</span>                                             <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── ELF Executable Loader</span>                                                <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">└── Standard C Library</span>                                                   <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                             <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #ffb86c;">PROCESSES & MULTITASKING (Phase 8)</span>                                       <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── Process Control Block (PCB)</span>                                          <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── Context Switching</span>                                                    <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── User Mode / Kernel Mode</span>                                              <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">└── System Call Interface</span>                                                <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                             <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f1fa8c;">USER INTERFACE (Phases 13-14)</span>                                            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── Framebuffer Graphics</span>                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── Window Manager</span>                                                       <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── Mouse Driver</span>                                                         <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">└── Event System</span>                                                         <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                             <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #bd93f9;">HARDWARE DRIVERS (Phase 15)</span>                                              <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── PCI Bus Enumeration</span>                                                  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── AHCI/SATA Driver</span>                                                     <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── NVMe Driver</span>                                                          <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">└── Device Framework</span>                                                     <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                             <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #ff5555;">PHASE 17: STABILITY & SECURITY</span>                                           <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── Stack Trace / Symbol Lookup</span>                                          <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── Kernel Logging System</span>                                                <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── NX Bit / DEP</span>                                                         <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── SMEP / SMAP</span>                                                          <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├── Kernel Panic Handler</span>                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">└── Init/Shutdown Sequence</span>                                               <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                             <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">└─────────────────────────────────────────────────────────────────────────────┘</span></pre>

                    <p>That's <strong>over 50 major components</strong> working together! Now let's add the final pieces that make this a complete, production-quality operating system.</p>
                </div>

                <!-- Debugging Section -->
                <div id="debugging" class="blog-content mt-5">
                    <h2><i class="fas fa-bug me-2 text-teal"></i>Debugging Tools</h2>
                    
                    <p>Debugging kernel code is fundamentally different from debugging user applications. There's no debugger running inside your OS to set breakpoints—<em>you are the OS</em>. When something goes wrong, you need infrastructure to understand what happened.</p>

                    <!-- Debugging Challenges -->
                    <pre style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 20px; border-radius: 8px; font-size: 0.85rem; overflow-x: auto; border: 1px solid #3B9797;">
<span style="color: #3B9797;">┌─────────────────────────────────────────────────────────────────┐</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #BF092F; font-weight: bold;">KERNEL DEBUGGING CHALLENGES</span>                        <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">├─────────────────────────────────────────────────────────────────┤</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff5555;">User-Space Debugging:</span>       <span style="color: #50fa7b;">Kernel Debugging:</span>              <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #f8f8f2;">──────────────────────       ───────────────────</span>              <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #f8f8f2;">• gdb sets breakpoints      • No debugger inside OS</span>          <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #f8f8f2;">• OS catches signals         • Triple fault = reboot</span>          <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #f8f8f2;">• printf() always works      • Screen may not exist yet</span>       <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #f8f8f2;">• Core dumps saved           • Must build own diagnostics</span>     <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #f8f8f2;">• Crash = app terminates     • Crash = entire system down</span>     <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">└─────────────────────────────────────────────────────────────────┘</span></pre>

                    <h3 id="stack-traces">Stack Traces</h3>
                    <p>When your kernel crashes (and it will during development), the most important question is: <strong>"Where did it crash?"</strong> A stack trace answers this by walking backwards through function calls, showing exactly what code path led to the failure.</p>

                    <div class="highlight-box">
                        <i class="fas fa-lightbulb"></i>
                        <strong>Stack Frame Anatomy:</strong> Each function call pushes a "frame" onto the stack containing: the return address (where to go after the function), saved registers, and local variables. By following the chain of return addresses, we can reconstruct the call history.
                    </div>

                    <!-- Stack Frame Diagram -->
                    <pre style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 20px; border-radius: 8px; font-size: 0.85rem; overflow-x: auto; border: 1px solid #3B9797;">
<span style="color: #3B9797;">┌─────────────────────────────────────────────────────────────────┐</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #BF092F; font-weight: bold;">STACK FRAME LAYOUT (x86-64)</span>                     <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">├─────────────────────────────────────────────────────────────────┤</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">High Address (Stack grows DOWN)</span>                               <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">┌──────────────────────────────────────────────────┐</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">│</span>           <span style="color: #8be9fd;">main()</span> <span style="color: #f8f8f2;">frame</span>                    <span style="color: #f8f8f2;">│</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├──────────────────────────────────────────────────┤</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">│ return address (to _start)            │  ← RBP</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">│ saved RBP (previous frame pointer)    │</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">│ local variables                       │</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├──────────────────────────────────────────────────┤</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">│</span>           <span style="color: #50fa7b;">foo()</span> <span style="color: #f8f8f2;">frame</span>                      <span style="color: #f8f8f2;">│</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├──────────────────────────────────────────────────┤</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">│ return address (to main+0x42)         │</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">│ saved RBP ─────────────────────────┤</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">│ local variables                       │</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├──────────────────────────────────────────────────┤</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">│</span>           <span style="color: #ff79c6;">bar()</span> <span style="color: #f8f8f2;">frame</span>  <span style="color: #ff5555;">← CRASH HERE</span>     <span style="color: #f8f8f2;">│</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">├──────────────────────────────────────────────────┤</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">│ return address (to foo+0x1A)          │  ← RSP</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">│ saved RBP ─────────────────────────┤</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">└──────────────────────────────────────────────────┘</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">Low Address</span>                                                  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f1fa8c;">Unwinding: bar → foo → main → _start</span>                        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">└─────────────────────────────────────────────────────────────────┘</span></pre>

                    <p>Here's our stack frame walker implementation that traverses the call chain:

                    <pre><code class="language-c">/* Stack Frame Walker */
typedef struct stack_frame {
    struct stack_frame* ebp;  // Previous frame pointer
    uint32_t eip;             // Return address
} stack_frame_t;

/* Print stack trace */
void print_stack_trace(void) {
    stack_frame_t* frame;
    __asm__ volatile("mov %%ebp, %0" : "=r"(frame));
    
    kprintf("Stack trace:\n");
    for (int i = 0; i < 10 && frame; i++) {
        uint32_t eip = frame->eip;
        const char* name = symbol_lookup(eip);
        
        if (name) {
            kprintf("  [%d] %s (0x%08x)\n", i, name, eip);
        } else {
            kprintf("  [%d] 0x%08x\n", i, eip);
        }
        
        frame = frame->ebp;
    }
}

/* Symbol table for debugging */
typedef struct {
    uint32_t address;
    const char* name;
} symbol_t;

symbol_t symbols[] = {
    {0x00100000, "kernel_main"},
    {0x00100100, "kmalloc"},
    // ... loaded from kernel symbol table
};
</code></pre>
                    
                    <h3 id="logging">Kernel Logging</h3>
                    <p>Content will be populated here...</p>

                    <pre><code class="language-c">/* Log Levels */
enum log_level {
    LOG_DEBUG,
    LOG_INFO,
    LOG_WARN,
    LOG_ERROR,
    LOG_PANIC
};

/* Ring buffer for log storage */
#define LOG_BUFFER_SIZE 4096
char log_buffer[LOG_BUFFER_SIZE];
int log_head = 0;
int log_tail = 0;

/* Kernel log function */
void klog(enum log_level level, const char* fmt, ...) {
    static const char* level_names[] = {
        "DEBUG", "INFO", "WARN", "ERROR", "PANIC"
    };
    
    // Format: [LEVEL] timestamp: message
    char buf[256];
    va_list args;
    va_start(args, fmt);
    vsnprintf(buf, sizeof(buf), fmt, args);
    va_end(args);
    
    // Add to ring buffer
    kprintf("[%s] %llu: %s\n", level_names[level], get_ticks(), buf);
    
    // Also output to serial for debugging
    serial_printf("[%s] %s\n", level_names[level], buf);
}

#define KLOG_DEBUG(...) klog(LOG_DEBUG, __VA_ARGS__)
#define KLOG_INFO(...)  klog(LOG_INFO, __VA_ARGS__)
#define KLOG_WARN(...)  klog(LOG_WARN, __VA_ARGS__)
#define KLOG_ERROR(...) klog(LOG_ERROR, __VA_ARGS__)
</code></pre>
                    
                    <h3 id="serial-debug">Serial Debugging</h3>
                    <p>Before graphics initialization, serial output is your only window into the kernel. Serial ports are simple, reliable, and available very early in boot—making them indispensable for debugging boot issues and kernel initialization.</p>

                    <div class="highlight-box">
                        <i class="fas fa-lightbulb"></i>
                        <strong>Why Serial?</strong> Serial ports (COM1, COM2) use the 8250/16550 UART chip, initialized by BIOS. They work even when memory management, interrupts, and display drivers haven't been set up yet. QEMU can redirect serial output to your terminal with <code>-serial stdio</code>.
                    </div>

                    <!-- Serial Port Architecture -->
                    <pre style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 20px; border-radius: 8px; font-size: 0.85rem; overflow-x: auto; border: 1px solid #3B9797;">
<span style="color: #3B9797;">┌─────────────────────────────────────────────────────────────────┐</span>
<span style="color: #f8f8f2;">│</span>              <span style="color: #BF092F; font-weight: bold;">SERIAL PORT I/O</span>                              <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">├─────────────────────────────────────────────────────────────────┤</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #50fa7b;">┌──────────┐</span>     <span style="color: #8be9fd;">┌──────────────────┐</span>     <span style="color: #ffb86c;">┌──────────┐</span>     <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #50fa7b;">│  Kernel  │</span> ─→─ <span style="color: #8be9fd;">│  UART 16550     │</span> ─── <span style="color: #ffb86c;">│ Serial   │</span>     <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #50fa7b;">│  Code    │</span>     <span style="color: #8be9fd;">│  (I/O 0x3F8)    │</span>     <span style="color: #ffb86c;">│ Cable    │</span>  ───  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #50fa7b;">└──────────┘</span>     <span style="color: #8be9fd;">└──────────────────┘</span>     <span style="color: #ffb86c;">└──────────┘</span>     <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                      │          <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                      ↓          <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                             <span style="color: #ff79c6;">┌──────────────┐</span>    <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                             <span style="color: #ff79c6;">│  Host PC     │</span>    <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                             <span style="color: #ff79c6;">│  terminal    │</span>    <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                             <span style="color: #ff79c6;">│  (minicom/   │</span>    <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                             <span style="color: #ff79c6;">│   screen)    │</span>    <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                             <span style="color: #ff79c6;">└──────────────┘</span>    <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">└─────────────────────────────────────────────────────────────────┘</span></pre>

                    <pre><code class="language-c">/* Serial Port I/O Ports */
#define SERIAL_COM1_BASE    0x3F8
#define SERIAL_COM2_BASE    0x2F8

/* UART Registers (offset from base) */
#define SERIAL_DATA         0   // Data register (read/write)
#define SERIAL_INTR_ENABLE  1   // Interrupt enable
#define SERIAL_FIFO_CTRL    2   // FIFO control
#define SERIAL_LINE_CTRL    3   // Line control (baud rate, parity)
#define SERIAL_MODEM_CTRL   4   // Modem control
#define SERIAL_LINE_STATUS  5   // Line status

/* Line Status Register bits */
#define SERIAL_LSR_DR       (1 << 0)  // Data ready
#define SERIAL_LSR_THRE     (1 << 5)  // Transmit holding register empty

/* Initialize serial port */
void serial_init(uint16_t port) {
    outb(port + SERIAL_INTR_ENABLE, 0x00);  // Disable interrupts
    outb(port + SERIAL_LINE_CTRL, 0x80);    // Enable DLAB (baud divisor)
    outb(port + SERIAL_DATA, 0x03);         // Divisor low byte (38400 baud)
    outb(port + SERIAL_INTR_ENABLE, 0x00);  // Divisor high byte
    outb(port + SERIAL_LINE_CTRL, 0x03);    // 8 bits, no parity, 1 stop bit
    outb(port + SERIAL_FIFO_CTRL, 0xC7);    // Enable FIFO, 14-byte threshold
    outb(port + SERIAL_MODEM_CTRL, 0x0B);   // IRQs enabled, RTS/DSR set
    
    KLOG_INFO("Serial port 0x%x initialized", port);
}

/* Check if transmit buffer is empty */
static int serial_is_transmit_empty(uint16_t port) {
    return inb(port + SERIAL_LINE_STATUS) & SERIAL_LSR_THRE;
}

/* Write single character to serial port */
void serial_putc(uint16_t port, char c) {
    while (!serial_is_transmit_empty(port)) {
        // Busy wait - fine for debugging
        __asm__ volatile("pause");
    }
    outb(port + SERIAL_DATA, c);
}

/* Write string to serial port */
void serial_puts(uint16_t port, const char* str) {
    while (*str) {
        if (*str == '\n') {
            serial_putc(port, '\r');  // Newline needs carriage return
        }
        serial_putc(port, *str++);
    }
}

/* Printf to serial port (for early debugging) */
void serial_printf(const char* fmt, ...) {
    char buf[256];
    va_list args;
    va_start(args, fmt);
    vsnprintf(buf, sizeof(buf), fmt, args);
    va_end(args);
    
    serial_puts(SERIAL_COM1_BASE, buf);
}

/* Very early boot debugging (can call before anything else) */
void early_debug(const char* msg) {
    // Minimal initialization - just enough to send chars
    outb(SERIAL_COM1_BASE + SERIAL_LINE_CTRL, 0x03);  // 8N1
    serial_puts(SERIAL_COM1_BASE, "[EARLY] ");
    serial_puts(SERIAL_COM1_BASE, msg);
    serial_puts(SERIAL_COM1_BASE, "\n");
}
</code></pre>

                    <p>Example usage in QEMU:</p>
                    <pre><code class="language-bash"># Run with serial output to terminal
qemu-system-x86_64 -kernel myos.bin -serial stdio

# Or redirect to file for later analysis
qemu-system-x86_64 -kernel myos.bin -serial file:serial.log</code></pre>
                </div>

                <!-- Security Section -->
                <div id="security" class="blog-content mt-5">
                    <h2><i class="fas fa-shield-alt me-2 text-teal"></i>Security Hardening</h2>

                    <p>Modern CPUs include hardware security features designed to prevent common exploitation techniques. These features make it significantly harder for attackers to turn bugs into exploits, even when your code has vulnerabilities.</p>

                    <!-- Security Layers Diagram -->
                    <pre style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 20px; border-radius: 8px; font-size: 0.85rem; overflow-x: auto; border: 1px solid #3B9797;">
<span style="color: #3B9797;">┌─────────────────────────────────────────────────────────────────┐</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #BF092F; font-weight: bold;">CPU SECURITY FEATURES</span>                            <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">├─────────────────────────────────────────────────────────────────┤</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #ff5555;">Without Security</span>            <span style="color: #50fa7b;">With Security</span>               <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">────────────────────</span>            <span style="color: #f8f8f2;">───────────────────</span>               <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #ff79c6;">Buffer Overflow:</span>            <span style="color: #ff79c6;">Buffer Overflow:</span>            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">┌────────────────┐</span>            <span style="color: #f8f8f2;">┌────────────────┐</span>            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">│ Shellcode runs  │</span>            <span style="color: #f8f8f2;">│</span> <span style="color: #ff5555;">NX blocks exec</span> <span style="color: #f8f8f2;">│</span>            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">│ from stack      │</span>            <span style="color: #f8f8f2;">│ from data      │</span>            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">└───────┬────────┘</span>            <span style="color: #f8f8f2;">└───────┬────────┘</span>            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #f8f8f2;">↓</span>                             <span style="color: #f8f8f2;">↓</span>                      <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #ff79c6;">ROP Attack:</span>                 <span style="color: #ff79c6;">ROP Attack:</span>                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">┌────────────────┐</span>            <span style="color: #f8f8f2;">┌────────────────┐</span>            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">│ Known address   │</span>            <span style="color: #f8f8f2;">│</span> <span style="color: #ff5555;">ASLR randomizes</span><span style="color: #f8f8f2;">│</span>            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">│ of gadgets      │</span>            <span style="color: #f8f8f2;">│ all addresses  │</span>            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">└───────┬────────┘</span>            <span style="color: #f8f8f2;">└───────┬────────┘</span>            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #f8f8f2;">↓</span>                             <span style="color: #f8f8f2;">↓</span>                      <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #ff79c6;">Kernel Exploit:</span>             <span style="color: #ff79c6;">Kernel Exploit:</span>             <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">┌────────────────┐</span>            <span style="color: #f8f8f2;">┌────────────────┐</span>            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">│ Jump to user   │</span>            <span style="color: #f8f8f2;">│</span> <span style="color: #ff5555;">SMEP/SMAP</span>      <span style="color: #f8f8f2;">│</span>            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">│ shellcode       │</span>            <span style="color: #f8f8f2;">│</span> <span style="color: #ff5555;">blocks access</span>  <span style="color: #f8f8f2;">│</span>            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">└────────────────┘</span>            <span style="color: #f8f8f2;">└────────────────┘</span>            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">└─────────────────────────────────────────────────────────────────┘</span></pre>
                    
                    <h3 id="nx-bit">NX Bit (DEP)</h3>
                    <p>The <strong>NX (No-Execute) bit</strong>, also called <strong>DEP (Data Execution Prevention)</strong>, marks memory pages as either executable or non-executable. This prevents the classic buffer overflow attack where an attacker overwrites a return address to jump into their own code stored in a data area.</p>

                    <div class="highlight-box">
                        <i class="fas fa-lightbulb"></i>
                        <strong>The W^X Principle:</strong> Memory should be either <strong>Writable</strong> OR <strong>eXecutable</strong>, never both. Code segments are executable but read-only. Data segments are writable but non-executable. This simple rule prevents most code injection attacks.
                    </div>

                    <p>Without NX, an attacker who finds a buffer overflow can:</p>
                    <ol>
                        <li>Inject shellcode (malicious machine code) into a buffer</li>
                        <li>Overwrite the return address to point to their shellcode</li>
                        <li>When the function returns, execution jumps to the shellcode</li>
                    </ol>

                    <p>With NX enabled and data pages marked non-executable, step 3 triggers a <strong>page fault</strong>—the CPU refuses to execute code from a non-executable page, and the attack fails.</p>

                    <pre><code class="language-c">/* Enable NX (No-Execute) bit in page tables */
#define PAGE_NX (1ULL << 63)  // No-execute bit

/* Mark page as non-executable */
void page_set_nx(uint64_t* pte) {
    *pte |= PAGE_NX;
}

/* Enable NX support via IA32_EFER MSR */
void enable_nx_bit(void) {
    uint64_t efer = rdmsr(0xC0000080);  // IA32_EFER
    efer |= (1 << 11);  // NXE bit
    wrmsr(0xC0000080, efer);
}

/* Protect kernel code: executable, read-only */
void protect_kernel_code(void) {
    for (uint64_t addr = KERNEL_CODE_START; 
         addr < KERNEL_CODE_END; 
         addr += PAGE_SIZE) {
        uint64_t* pte = get_pte(addr);
        *pte &= ~PAGE_WRITE;  // Read-only
        *pte &= ~PAGE_NX;     // Executable
    }
    
    // Flush TLB
    flush_tlb();
}

/* Protect kernel data: writable, non-executable */
void protect_kernel_data(void) {
    for (uint64_t addr = KERNEL_DATA_START;
         addr < KERNEL_DATA_END;
         addr += PAGE_SIZE) {
        uint64_t* pte = get_pte(addr);
        *pte |= PAGE_NX;  // Non-executable
    }
    flush_tlb();
}
</code></pre>
                    
                    <h3 id="aslr">Address Space Layout</h3>
                    <p><strong>ASLR (Address Space Layout Randomization)</strong> makes exploitation harder by randomizing where code and data are loaded in memory. Even if an attacker finds a vulnerability, they don't know where their target functions or gadgets are located.</p>

                    <div class="highlight-box">
                        <i class="fas fa-dice"></i>
                        <strong>Randomization Entropy:</strong> ASLR effectiveness depends on how many random bits are used. With 16 bits of entropy, there are 65,536 possible locations—an attacker has a 1 in 65,536 chance of guessing correctly on each attempt. Failed guesses typically crash the program.
                    </div>

                    <!-- ASLR Diagram -->
                    <pre style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 20px; border-radius: 8px; font-size: 0.85rem; overflow-x: auto; border: 1px solid #3B9797;">
<span style="color: #3B9797;">┌─────────────────────────────────────────────────────────────────┐</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #BF092F; font-weight: bold;">ASLR: MEMORY LAYOUT RANDOMIZATION</span>               <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">├─────────────────────────────────────────────────────────────────┤</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #ff5555;">Without ASLR (predictable)</span>   <span style="color: #50fa7b;">With ASLR (randomized)</span>     <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">0xFFFF...</span>  <span style="color: #8be9fd;">┌──────────┐</span>     <span style="color: #f8f8f2;">0xFFFF...</span>  <span style="color: #8be9fd;">┌──────────┐</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>             <span style="color: #8be9fd;">│  Kernel  │</span>                <span style="color: #8be9fd;">│  Kernel  │</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">0x8000...</span> <span style="color: #8be9fd;">└──────────┘</span>     <span style="color: #f8f8f2;">0x????...</span> <span style="color: #8be9fd;">└──────────┘</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>             <span style="color: #ff79c6;">┌──────────┐</span>                <span style="color: #ff79c6;">┌──────────┐</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">0x7FFF...</span> <span style="color: #ff79c6;">│  Stack   │</span>     <span style="color: #f8f8f2;">0x????...</span> <span style="color: #ff79c6;">│  Stack   │</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>             <span style="color: #ff79c6;">└──────────┘</span>                <span style="color: #ff79c6;">└──────────┘</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>             <span style="color: #50fa7b;">┌──────────┐</span>                <span style="color: #50fa7b;">┌──────────┐</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">0x4000...</span> <span style="color: #50fa7b;">│  Heap    │</span>     <span style="color: #f8f8f2;">0x????...</span> <span style="color: #50fa7b;">│  Heap    │</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>             <span style="color: #50fa7b;">└──────────┘</span>                <span style="color: #50fa7b;">└──────────┘</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>             <span style="color: #f1fa8c;">┌──────────┐</span>                <span style="color: #f1fa8c;">┌──────────┐</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">0x0040...</span> <span style="color: #f1fa8c;">│  Code    │</span>     <span style="color: #f8f8f2;">0x????...</span> <span style="color: #f1fa8c;">│  Code    │</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>             <span style="color: #f1fa8c;">└──────────┘</span>                <span style="color: #f1fa8c;">└──────────┘</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #ff5555;">Attacker knows: 0x00401234</span>  <span style="color: #50fa7b;">Attacker sees: 0x????1234</span>    <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">└─────────────────────────────────────────────────────────────────┘</span></pre>

                    <pre><code class="language-c">/* Simple ASLR Implementation */

/* Random number generator (use hardware RNG if available) */
static uint64_t aslr_seed;

void aslr_init(void) {
    // Seed from RDTSC (timestamp counter) - not cryptographically secure
    // but good enough for basic ASLR
    aslr_seed = rdtsc() ^ (rdtsc() >> 17);
    
    // Better: use RDRAND if available
    if (cpu_has_rdrand()) {
        __asm__ volatile("rdrand %0" : "=r"(aslr_seed));
    }
}

uint64_t aslr_random(void) {
    // xorshift64 - fast PRNG
    aslr_seed ^= aslr_seed >> 12;
    aslr_seed ^= aslr_seed << 25;
    aslr_seed ^= aslr_seed >> 27;
    return aslr_seed * 0x2545F4914F6CDD1DULL;
}

/* Randomize base addresses for process loading */
uint64_t aslr_mmap_base(void) {
    // Randomize with 28 bits of entropy (256M possibilities)
    uint64_t offset = (aslr_random() & 0x0FFFFFFF) << PAGE_SHIFT;
    return MMAP_BASE_DEFAULT + offset;
}

uint64_t aslr_stack_base(void) {
    // Randomize stack with 22 bits of entropy
    uint64_t offset = (aslr_random() & 0x003FFFFF) << PAGE_SHIFT;
    return STACK_BASE_DEFAULT - offset;
}

uint64_t aslr_heap_base(void) {
    // Randomize heap start
    uint64_t offset = (aslr_random() & 0x001FFFFF) << PAGE_SHIFT;
    return HEAP_BASE_DEFAULT + offset;
}

/* During process creation */
task_t* create_process_with_aslr(const char* path) {
    task_t* task = alloc_task();
    
    // Randomize memory layout
    task->mmap_base = aslr_mmap_base();
    task->stack_base = aslr_stack_base();
    task->heap_start = aslr_heap_base();
    
    // Load executable at randomized address
    load_elf_at(path, task->mmap_base);
    
    return task;
}
</code></pre>
                    
                    <h3 id="smep-smap">SMEP/SMAP</h3>
                    <p><strong>SMEP (Supervisor Mode Execution Prevention)</strong> and <strong>SMAP (Supervisor Mode Access Prevention)</strong> are CPU features that prevent the kernel from executing code or accessing data in user-space memory. These stop a common kernel exploitation technique where an attacker places shellcode in user memory, then tricks the kernel into jumping to it.</p>

                    <div class="highlight-box highlight-crimson">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        <strong>Classic Kernel Exploit Blocked:</strong> Without SMEP/SMAP, an attacker who finds a kernel vulnerability can: (1) map shellcode at a user address, (2) trigger the vulnerability to redirect kernel execution to that address. With SMEP, the CPU faults instead of executing user code while in supervisor mode.
                    </div>

                    <!-- SMEP/SMAP Diagram -->
                    <pre style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 20px; border-radius: 8px; font-size: 0.85rem; overflow-x: auto; border: 1px solid #3B9797;">
<span style="color: #3B9797;">┌─────────────────────────────────────────────────────────────────┐</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #BF092F; font-weight: bold;">SMEP/SMAP PROTECTION</span>                              <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">├─────────────────────────────────────────────────────────────────┤</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>              <span style="color: #ff79c6;">User Space</span>          <span style="color: #8be9fd;">Kernel Space</span>              <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>              <span style="color: #f8f8f2;">(Ring 3)</span>              <span style="color: #f8f8f2;">(Ring 0)</span>                    <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #ff79c6;">┌───────────┐</span>       <span style="color: #8be9fd;">┌───────────┐</span>                   <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #ff79c6;">│ User Code │</span>       <span style="color: #8be9fd;">│  Kernel   │</span>                   <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #ff79c6;">│ (attacker │</span>  <span style="color: #ff5555;">✗</span>    <span style="color: #8be9fd;">│   Code    │</span>                   <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #ff79c6;">│ shellcode)│</span> <span style="color: #f8f8f2;">──</span>   <span style="color: #8be9fd;">│           │</span> <span style="color: #ff5555;">SMEP: No exec</span>     <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #ff79c6;">└───────────┘</span>       <span style="color: #8be9fd;">└───────────┘</span> <span style="color: #ff5555;">of user pages</span>     <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #ff79c6;">┌───────────┐</span>       <span style="color: #8be9fd;">┌───────────┐</span>                   <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #ff79c6;">│ User Data │</span>       <span style="color: #8be9fd;">│  Kernel   │</span>                   <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #ff79c6;">│ (attacker │</span>  <span style="color: #ff5555;">✗</span>    <span style="color: #8be9fd;">│   Data    │</span>                   <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #ff79c6;">│ payload)  │</span> <span style="color: #f8f8f2;">──</span>   <span style="color: #8be9fd;">│           │</span> <span style="color: #ff5555;">SMAP: No access</span>   <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #ff79c6;">└───────────┘</span>       <span style="color: #8be9fd;">└───────────┘</span> <span style="color: #ff5555;">of user pages</span>     <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #50fa7b;">Legitimate access via STAC/CLAC (copy_from_user)</span>              <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">└─────────────────────────────────────────────────────────────────┘</span></pre>

                    <p>The <code>stac()</code> and <code>clac()</code> instructions temporarily disable SMAP for legitimate kernel access to user memory (like copying data to/from user buffers). This creates a small, auditable window where the kernel can access user memory: 

                    <pre><code class="language-c">/* Enable SMEP (Supervisor Mode Execution Prevention) */
void enable_smep(void) {
    uint32_t cr4;
    __asm__ volatile("mov %%cr4, %0" : "=r"(cr4));
    cr4 |= (1 << 20);  // SMEP bit
    __asm__ volatile("mov %0, %%cr4" :: "r"(cr4));
    KLOG_INFO("SMEP enabled");
}

/* Enable SMAP (Supervisor Mode Access Prevention) */
void enable_smap(void) {
    uint32_t cr4;
    __asm__ volatile("mov %%cr4, %0" : "=r"(cr4));
    cr4 |= (1 << 21);  // SMAP bit
    __asm__ volatile("mov %0, %%cr4" :: "r"(cr4));
    KLOG_INFO("SMAP enabled");
}

/* Temporarily allow user memory access */
static inline void stac(void) {
    __asm__ volatile("stac" ::: "memory");
}

/* Restore SMAP protection */
static inline void clac(void) {
    __asm__ volatile("clac" ::: "memory");
}

/* Safe copy from user space */
int copy_from_user(void* dst, const void* src, size_t n) {
    stac();
    memcpy(dst, src, n);
    clac();
    return 0;
}
</code></pre>
                </div>

                <!-- Error Handling Section -->
                <div id="error-handling" class="blog-content mt-5">
                    <h2><i class="fas fa-exclamation-triangle me-2 text-teal"></i>Error Handling</h2>

                    <p>In user-space programming, errors can often be recovered from—catch an exception, display an error message, maybe restart the operation. In kernel code, some errors are so severe that the only safe response is to <strong>stop everything</strong>. Other errors are serious but potentially recoverable. Distinguishing between these cases is crucial for building a reliable OS.</p>

                    <!-- Error Severity Spectrum -->
                    <pre style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 20px; border-radius: 8px; font-size: 0.85rem; overflow-x: auto; border: 1px solid #3B9797;">
<span style="color: #3B9797;">┌─────────────────────────────────────────────────────────────────┐</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #BF092F; font-weight: bold;">KERNEL ERROR SEVERITY LEVELS</span>                      <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">├─────────────────────────────────────────────────────────────────┤</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #50fa7b;">WARNING</span> <span style="color: #f8f8f2;">────</span> <span style="color: #f1fa8c;">OOPS</span> <span style="color: #f8f8f2;">────</span> <span style="color: #ffb86c;">BUG()</span> <span style="color: #f8f8f2;">────</span> <span style="color: #ff5555;">PANIC</span>                   <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>     <span style="color: #f8f8f2;">↓</span>                <span style="color: #f8f8f2;">↓</span>            <span style="color: #f8f8f2;">↓</span>            <span style="color: #f8f8f2;">↓</span>               <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #50fa7b;">Log and</span>        <span style="color: #f1fa8c;">Kill bad</span>  <span style="color: #ffb86c;">Kernel bug</span>  <span style="color: #ff5555;">System</span>              <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #50fa7b;">continue</span>       <span style="color: #f1fa8c;">process</span>   <span style="color: #ffb86c;">detected</span>    <span style="color: #ff5555;">halted</span>              <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">Examples:</span>       <span style="color: #f8f8f2;">Examples:</span>     <span style="color: #f8f8f2;">Examples:</span>     <span style="color: #f8f8f2;">Examples:</span>          <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">- Low memory</span>    <span style="color: #f8f8f2;">- Page fault</span>  <span style="color: #f8f8f2;">- Invalid</span>     <span style="color: #f8f8f2;">- Memory</span>           <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">- Deprecated</span>    <span style="color: #f8f8f2;">- NULL deref</span>    <span style="color: #f8f8f2;">state</span>       <span style="color: #f8f8f2;">corruption</span>         <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>     <span style="color: #f8f8f2;">API used</span>      <span style="color: #f8f8f2;">- Division</span>    <span style="color: #f8f8f2;">- Assertion</span>   <span style="color: #f8f8f2;">- Stack</span>            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #f8f8f2;">- Timeout</span>         <span style="color: #f8f8f2;">by zero</span>       <span style="color: #f8f8f2;">fail</span>          <span style="color: #f8f8f2;">smash</span>           <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                               <span style="color: #f8f8f2;">- Hardware</span>        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                 <span style="color: #f8f8f2;">failure</span>          <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">└─────────────────────────────────────────────────────────────────┘</span></pre>
                    
                    <h3 id="panic">Kernel Panic</h3>
                    <p>A <strong>kernel panic</strong> is the kernel's last resort when it detects an unrecoverable error. Continuing would risk data corruption, security breaches, or unpredictable behavior. The safest action is to <strong>stop immediately</strong>, display diagnostic information, and halt the system.</p>

                    <div class="highlight-box highlight-crimson">
                        <i class="fas fa-skull-crossbones me-2"></i>
                        <strong>When to Panic:</strong> Only panic when continuing would make things worse. Corrupted kernel data structures, failed assertions that indicate programming errors, hardware failures that affect core systems, and security violations that could lead to privilege escalation are all valid reasons to panic.
                    </div>

                    <p>A well-designed panic handler should:</p>
                    <ol>
                        <li><strong>Disable interrupts</strong> - Prevent further code execution that might worsen the situation</li>
                        <li><strong>Display the error</strong> - Show what went wrong and where</li>
                        <li><strong>Print CPU state</strong> - Register contents help debugging</li>
                        <li><strong>Print stack trace</strong> - Show the call path that led to the panic</li>
                        <li><strong>Halt the system</strong> - Stop all CPUs safely</li>
                    </ol>

                    <pre><code class="language-c">/* Kernel panic - unrecoverable error */
__attribute__((noreturn))
void panic(const char* fmt, ...) {
    // Disable interrupts
    __asm__ volatile("cli");
    
    // Print panic message
    kprintf("\n\n");
    kprintf("================== KERNEL PANIC ==================\n");
    kprintf("Fatal error: ");
    
    va_list args;
    va_start(args, fmt);
    kvprintf(fmt, args);
    va_end(args);
    
    kprintf("\n\n");
    
    // Print register dump
    print_registers();
    
    // Print stack trace
    print_stack_trace();
    
    kprintf("==================================================\n");
    kprintf("System halted. Please restart your computer.\n");
    
    // Halt all CPUs
    for (;;) {
        __asm__ volatile("hlt");
    }
}

/* Assertion macro */
#define ASSERT(cond) do { \
    if (!(cond)) { \
        panic("Assertion failed: %s at %s:%d", \
              #cond, __FILE__, __LINE__); \
    } \
} while(0)
</code></pre>
                    
                    <h3 id="oops">Soft Faults</h3>
                    <p>Not every kernel error needs to crash the entire system. An <strong>OOPS</strong> (the term Linux uses) is a soft fault that indicates a serious error but one that might be recoverable. The kernel logs diagnostic information, kills the offending process if identifiable, and attempts to continue.</p>

                    <div class="highlight-box">
                        <i class="fas fa-lightbulb"></i>
                        <strong>OOPS vs Panic:</strong> An OOPS kills the current process and logs an error but keeps the system running. If the OOPS occurs in critical code (like the scheduler or during interrupt handling), it escalates to a panic because the system can't safely continue.
                    </div>

                    <pre><code class="language-c">/* Kernel OOPS - serious but potentially recoverable error */
typedef struct {
    const char* message;      // Error message
    const char* file;         // Source file
    int line;                 // Line number
    uint64_t ip;             // Instruction pointer
    uint64_t sp;             // Stack pointer
    task_t* task;            // Current task (if any)
    bool in_interrupt;        // Were we in an interrupt?
} oops_info_t;

void kernel_oops(oops_info_t* info) {
    // Disable preemption - don't context switch during OOPS
    preempt_disable();
    
    // Log the error
    kprintf("\n========== KERNEL OOPS ==========\n");
    kprintf("Error: %s\n", info->message);
    kprintf("Location: %s:%d\n", info->file, info->line);
    kprintf("IP: 0x%016lx  SP: 0x%016lx\n", info->ip, info->sp);
    
    // Print registers
    print_registers();
    
    // Print stack trace
    print_stack_trace();
    
    // Can we recover?
    if (info->in_interrupt) {
        kprintf("OOPS in interrupt context - escalating to panic\n");
        panic("Unrecoverable OOPS in interrupt");
    }
    
    if (info->task == NULL || info->task == &idle_task) {
        kprintf("OOPS in kernel thread - escalating to panic\n");
        panic("Unrecoverable OOPS in kernel context");
    }
    
    // Kill the offending process
    kprintf("Killing process %d (%s)\n", 
            info->task->pid, info->task->name);
    kprintf("=================================\n\n");
    
    // Send SIGKILL to the process
    send_signal(info->task, SIGKILL);
    
    preempt_enable();
    schedule();  // Switch to another task
}

/* Macros for triggering OOPS */
#define WARN(msg) do { \
    KLOG_WARN("%s at %s:%d", msg, __FILE__, __LINE__); \
} while(0)

#define WARN_ON(cond) do { \
    if (unlikely(cond)) { \
        KLOG_WARN("WARN_ON(" #cond ") at %s:%d", __FILE__, __LINE__); \
        print_stack_trace(); \
    } \
} while(0)

#define BUG() do { \
    oops_info_t info = { \
        .message = "BUG() triggered", \
        .file = __FILE__, \
        .line = __LINE__, \
        .ip = (uint64_t)__builtin_return_address(0), \
        .sp = get_sp(), \
        .task = current_task, \
        .in_interrupt = in_interrupt_context() \
    }; \
    kernel_oops(&info); \
} while(0)

#define BUG_ON(cond) do { \
    if (unlikely(cond)) { \
        BUG(); \
    } \
} while(0)

/* Example usage in kernel code */
void* kmalloc(size_t size) {
    void* ptr = do_alloc(size);
    
    // Don't panic on allocation failure - OOPS instead
    if (ptr == NULL) {
        WARN("kmalloc failed - memory pressure");
        return NULL;
    }
    
    return ptr;
}

void process_list_add(task_t* task) {
    // This should never happen - indicates a bug
    BUG_ON(task == NULL);
    BUG_ON(task->state == TASK_DEAD);
    
    list_add(&task->list, &process_list);
}
</code></pre>
                </div>

                <!-- Finishing Touches Section -->
                <div id="finishing" class="blog-content mt-5">
                    <h2><i class="fas fa-gem me-2 text-teal"></i>Finishing Touches</h2>

                    <p>A complete operating system needs proper lifecycle management. The kernel must initialize all subsystems in the right order, launch the first user process, and when the time comes, shut down cleanly without corrupting data. These bookend operations—startup and shutdown—are surprisingly complex.</p>
                    
                    <h3 id="init">Init Process</h3>
                    <p>The <strong>init process</strong> (traditionally PID 1) is the ancestor of all user processes. After the kernel finishes internal initialization, it creates and launches init, which then spawns all other user-space services. If init dies, the system typically panics because the process hierarchy becomes orphaned.</p>

                    <div class="highlight-box">
                        <i class="fas fa-lightbulb"></i>
                        <strong>Why PID 1 is Special:</strong> The init process has unique responsibilities: it adopts orphaned processes (when a parent dies, its children become init's children), it handles system-wide signals like SIGTERM for shutdown, and it's the last user process to exit during shutdown.
                    </div>

                    <!-- Boot Sequence Diagram -->
                    <pre style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 20px; border-radius: 8px; font-size: 0.85rem; overflow-x: auto; border: 1px solid #3B9797;">
<span style="color: #3B9797;">┌─────────────────────────────────────────────────────────────────┐</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #BF092F; font-weight: bold;">KERNEL BOOT TO INIT SEQUENCE</span>                       <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">├─────────────────────────────────────────────────────────────────┤</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #8be9fd;">BIOS/UEFI</span>                                                     <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>       <span style="color: #f8f8f2;">↓</span>                                                         <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #ff79c6;">Bootloader</span> <span style="color: #f8f8f2;">(stage1, stage2)</span>                                   <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>       <span style="color: #f8f8f2;">↓</span>                                                         <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   <span style="color: #50fa7b;">Kernel Entry</span> <span style="color: #f8f8f2;">(start_kernel)</span>                                   <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>       <span style="color: #f8f8f2;">│</span>                                                         <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>       <span style="color: #f8f8f2;">├── Memory init (PMM, VMM, heap)</span>                          <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>       <span style="color: #f8f8f2;">├── Interrupt setup (IDT, PIC/APIC)</span>                       <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>       <span style="color: #f8f8f2;">├── Timer init (PIT/HPET)</span>                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>       <span style="color: #f8f8f2;">├── Driver init (PCI scan, device probing)</span>                <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>       <span style="color: #f8f8f2;">├── Filesystem init (VFS, mount root)</span>                     <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>       <span style="color: #f8f8f2;">├── Scheduler init</span>                                        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>       <span style="color: #f8f8f2;">│</span>                                                         <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>       <span style="color: #f8f8f2;">└──</span> <span style="color: #f1fa8c;">kernel_main()</span>                                       <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>               <span style="color: #f8f8f2;">│</span>                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>               <span style="color: #f8f8f2;">├── Create init process (PID 1)</span>                   <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>               <span style="color: #f8f8f2;">├── Enable interrupts</span>                             <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>               <span style="color: #f8f8f2;">└── Become idle process (PID 0)</span>                   <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                       <span style="color: #f8f8f2;">↓</span>                                         <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                   <span style="color: #ffb86c;">Scheduler runs</span>                                <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                       <span style="color: #f8f8f2;">↓</span>                                         <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                   <span style="color: #ff5555;">Init starts spawning services</span>                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">└─────────────────────────────────────────────────────────────────┘</span></pre>

                    <pre><code class="language-c">/* Kernel main - after all subsystems initialized */
void kernel_main(void) {
    // Final initialization
    KLOG_INFO("Kernel initialization complete");
    KLOG_INFO("Starting init process...");
    
    // Create init process (PID 1)
    task_t* init = create_process("/bin/init", 0, NULL);
    if (!init) {
        panic("Failed to start init process");
    }
    
    KLOG_INFO("Init process started (PID %d)", init->pid);
    
    // Enable interrupts and start scheduling
    __asm__ volatile("sti");
    
    // Become idle process (PID 0)
    for (;;) {
        __asm__ volatile("hlt");
    }
}
</code></pre>
                    
                    <h3 id="shutdown">Clean Shutdown</h3>
                    <p>Shutting down is just as important as booting up. An improper shutdown can corrupt filesystems, lose data in caches, and leave hardware in undefined states. The shutdown sequence must carefully unwind everything the boot sequence set up.</p>

                    <div class="highlight-box highlight-crimson">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        <strong>Why Clean Shutdown Matters:</strong> Modern filesystems assume write caches will be flushed before power-off. Pulling the plug without unmounting can leave the filesystem in an inconsistent state, requiring repair on next boot (fsck/chkdsk). In severe cases, data loss can occur.
                    </div>

                    <!-- Shutdown Sequence Diagram -->
                    <pre style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 20px; border-radius: 8px; font-size: 0.85rem; overflow-x: auto; border: 1px solid #3B9797;">
<span style="color: #3B9797;">┌─────────────────────────────────────────────────────────────────┐</span>
<span style="color: #f8f8f2;">│</span>           <span style="color: #BF092F; font-weight: bold;">CLEAN SHUTDOWN SEQUENCE</span>                            <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">├─────────────────────────────────────────────────────────────────┤</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   1. <span style="color: #50fa7b;">Signal user processes</span> <span style="color: #f8f8f2;">(SIGTERM)</span>                            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>      <span style="color: #f8f8f2;">└─ Applications save state and exit gracefully</span>             <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   2. <span style="color: #f1fa8c;">Wait timeout</span> <span style="color: #f8f8f2;">(e.g., 5 seconds)</span>                             <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>      <span style="color: #f8f8f2;">└─ Give processes time to clean up</span>                          <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   3. <span style="color: #ffb86c;">Force kill remaining</span> <span style="color: #f8f8f2;">(SIGKILL)</span>                             <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>      <span style="color: #f8f8f2;">└─ No process survives SIGKILL</span>                              <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   4. <span style="color: #8be9fd;">Sync filesystems</span>                                            <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>      <span style="color: #f8f8f2;">└─ Flush dirty buffers to disk</span>                              <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   5. <span style="color: #ff79c6;">Unmount filesystems</span>                                         <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>      <span style="color: #f8f8f2;">└─ Mark filesystems cleanly unmounted</span>                        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   6. <span style="color: #bd93f9;">Flush disk caches</span>                                           <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>      <span style="color: #f8f8f2;">└─ Block cache writeback, disk cache flush</span>                   <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>   7. <span style="color: #ff5555;">Power off via ACPI</span>                                          <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>      <span style="color: #f8f8f2;">└─ Signal power management to cut power</span>                      <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                 <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">└─────────────────────────────────────────────────────────────────┘</span></pre>

                    <pre><code class="language-c">/* System shutdown sequence */
void system_shutdown(void) {
    KLOG_INFO("System shutdown initiated");
    
    // Stop all user processes
    KLOG_INFO("Terminating user processes...");
    kill_all_processes();
    
    // Sync filesystems
    KLOG_INFO("Syncing filesystems...");
    vfs_sync_all();
    
    // Unmount filesystems
    KLOG_INFO("Unmounting filesystems...");
    vfs_unmount_all();
    
    // Flush disk caches
    KLOG_INFO("Flushing disk caches...");
    block_cache_flush_all();
    
    KLOG_INFO("Shutdown complete. Power off now safe.");
    
    // ACPI power off
    acpi_power_off();
    
    // Fallback: halt
    __asm__ volatile("cli; hlt");
}

/* ACPI power off */
void acpi_power_off(void) {
    // Write SLP_TYPa and SLP_EN to PM1a_CNT
    outw(acpi_pm1a_cnt, (acpi_slp_typa << 10) | (1 << 13));
}
</code></pre>
                </div>

                <!-- Summary Section -->
                <div id="summary" class="blog-content mt-5">
                    <h2><i class="fas fa-graduation-cap me-2 text-teal"></i>Series Summary: What You've Built</h2>
                    
                    <div class="highlight-box">
                        <i class="fas fa-trophy me-2"></i>
                        <strong>Congratulations!</strong> You've completed the entire Kernel Development Series. You now have a complete operating system with bootloader, kernel, drivers, filesystem, processes, GUI, and security features. This is a significant achievement in systems programming.
                    </div>
                    
                    <p>Over 18 phases, you've built every major component of a modern operating system from scratch. Let's celebrate what you've accomplished and the skills you've developed.</p>

                    <!-- Complete OS Summary Diagram -->
                    <pre style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 20px; border-radius: 8px; font-size: 0.85rem; overflow-x: auto; border: 1px solid #3B9797;">
<span style="color: #3B9797;">┌─────────────────────────────────────────────────────────────────────────────┐</span>
<span style="color: #f8f8f2;">│</span>             <span style="color: #BF092F; font-weight: bold;">🎉 YOUR COMPLETE OPERATING SYSTEM 🎉</span>                            <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">├─────────────────────────────────────────────────────────────────────────────┤</span>
<span style="color: #f8f8f2;">│</span>                                                                             <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #50fa7b;">╔═════════════════════════════════════════════════════════════════════╗</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #50fa7b;">║</span>  <span style="color: #f8f8f2; font-weight: bold;">USER APPLICATIONS</span>                                                  <span style="color: #50fa7b;">║</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #50fa7b;">║</span>  <span style="color: #f8f8f2;">Shell • GUI Apps • Games • User Programs</span>                          <span style="color: #50fa7b;">║</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #50fa7b;">╚═════════════════════════════════════════════════════════════════════╝</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                    <span style="color: #f8f8f2;">│</span>                                        <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #8be9fd;">╔═══════════════════╦═══════════════╦═══════════════════════════════╗</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #8be9fd;">║</span> <span style="color: #f8f8f2; font-weight: bold;">C Library (libc)</span>  <span style="color: #8be9fd;">║</span> <span style="color: #f8f8f2; font-weight: bold;">System Calls</span>  <span style="color: #8be9fd;">║</span> <span style="color: #f8f8f2; font-weight: bold;">Window Manager</span>               <span style="color: #8be9fd;">║</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #8be9fd;">╚═══════════════════╩═══════════════╩═══════════════════════════════╝</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #f8f8f2;">═══════════════════════════════════════════════════════════════════════</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">╔═════════════════════════════════════════════════════════════════════╗</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2; font-weight: bold;">KERNEL</span>                                                             <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2;">┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐</span>   <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2;">│</span> <span style="color: #ffb86c;">Scheduler</span>   <span style="color: #f8f8f2;">│ │</span> <span style="color: #ffb86c;">Memory Mgr</span>  <span style="color: #f8f8f2;">│ │</span> <span style="color: #ffb86c;">VFS Layer</span>   <span style="color: #f8f8f2;">│ │</span> <span style="color: #ffb86c;">Security</span>    <span style="color: #f8f8f2;">│</span>   <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2;">│ (CFS/MLFQ)  │ │ (Paging)    │ │ (FAT/ext2)  │ │ (NX/SMEP)   │</span>   <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2;">└─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘</span>   <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2;">┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐</span>   <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2;">│</span> <span style="color: #ffb86c;">Interrupts</span>  <span style="color: #f8f8f2;">│ │</span> <span style="color: #ffb86c;">Debug Tools</span> <span style="color: #f8f8f2;">│ │</span> <span style="color: #ffb86c;">Error Hdlr</span>  <span style="color: #f8f8f2;">│ │</span> <span style="color: #ffb86c;">Panic/OOPS</span>  <span style="color: #f8f8f2;">│</span>   <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2;">│ (IDT/APIC)  │ │ (Logging)   │ │ (Recovery)  │ │ (Safety)    │</span>   <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2;">└─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘</span>   <span style="color: #ff79c6;">║</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #ff79c6;">╚═════════════════════════════════════════════════════════════════════╝</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #f8f8f2;">═══════════════════════════════════════════════════════════════════════</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #f1fa8c;">╔═════════════════════════════════════════════════════════════════════╗</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #f1fa8c;">║</span>  <span style="color: #f8f8f2; font-weight: bold;">DEVICE DRIVERS</span>                                                     <span style="color: #f1fa8c;">║</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #f1fa8c;">║</span>  <span style="color: #f8f8f2;">Keyboard • Mouse • VGA/Framebuffer • AHCI • NVMe • PCI • Timer</span>    <span style="color: #f1fa8c;">║</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #f1fa8c;">╚═════════════════════════════════════════════════════════════════════╝</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #f8f8f2;">═══════════════════════════════════════════════════════════════════════</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #bd93f9;">╔═════════════════════════════════════════════════════════════════════╗</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #bd93f9;">║</span>  <span style="color: #f8f8f2; font-weight: bold;">HARDWARE</span>                                                           <span style="color: #bd93f9;">║</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #bd93f9;">║</span>  <span style="color: #f8f8f2;">CPU • RAM • Storage • Display • Input Devices</span>                     <span style="color: #bd93f9;">║</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>  <span style="color: #bd93f9;">╚═════════════════════════════════════════════════════════════════════╝</span>  <span style="color: #f8f8f2;">│</span>
<span style="color: #f8f8f2;">│</span>                                                                             <span style="color: #f8f8f2;">│</span>
<span style="color: #3B9797;">└─────────────────────────────────────────────────────────────────────────────┘</span></pre>

                    <h3>Skills You've Developed</h3>
                    <p>Throughout this series, you haven't just learned about operating systems—you've developed skills that transfer to many areas of systems programming:</p>

                    <div class="experiment-card">
                        <h4><i class="fas fa-brain me-2"></i>Technical Skills Mastered</h4>
                        <div class="meta mb-2">
                            <span class="badge bg-teal me-2">Low-Level Programming</span>
                            <span class="badge bg-blue">Systems Engineering</span>
                        </div>
                        <div class="content">
                            <table class="table table-bordered mt-3">
                                <thead><tr><th>Category</th><th>Skills</th><th>Where It's Used</th></tr></thead>
                                <tbody>
                                    <tr><td><strong>Assembly</strong></td><td>Boot code, context switching, interrupt handlers</td><td>Embedded systems, drivers, security research</td></tr>
                                    <tr><td><strong>Memory Management</strong></td><td>Paging, virtual memory, allocators</td><td>Database engines, game engines, VMs</td></tr>
                                    <tr><td><strong>Concurrency</strong></td><td>Scheduling, synchronization, locks</td><td>Distributed systems, high-performance computing</td></tr>
                                    <tr><td><strong>Hardware Interfaces</strong></td><td>PCI, DMA, MMIO, interrupts</td><td>Driver development, embedded systems</td></tr>
                                    <tr><td><strong>File Systems</strong></td><td>VFS, caching, block devices</td><td>Storage systems, databases</td></tr>
                                    <tr><td><strong>Security</strong></td><td>NX, ASLR, SMEP/SMAP, privilege separation</td><td>Security engineering, malware analysis</td></tr>
                                    <tr><td><strong>Debugging</strong></td><td>Stack traces, logging, serial debugging</td><td>All software development</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <h3>Phase-by-Phase Recap</h3>
                    <table class="table table-bordered">
                        <thead><tr><th>Phase</th><th>Topic</th><th>Key Achievement</th></tr></thead>
                        <tbody>
                            <tr><td>0</td><td>Orientation</td><td>Understanding OS architecture and kernel types</td></tr>
                            <tr><td>1</td><td>Boot Process</td><td>Understanding BIOS, UEFI, and how PCs start</td></tr>
                            <tr><td>2</td><td>Real Mode</td><td>Writing a working bootloader from scratch</td></tr>
                            <tr><td>3</td><td>Protected Mode</td><td>GDT setup and 32-bit mode transition</td></tr>
                            <tr><td>4</td><td>Display & I/O</td><td>VGA text mode and keyboard input</td></tr>
                            <tr><td>5</td><td>Interrupts</td><td>IDT, ISRs, and PIC programming</td></tr>
                            <tr><td>6</td><td>Memory</td><td>Paging, virtual memory, and heap allocator</td></tr>
                            <tr><td>7</td><td>Filesystems</td><td>FAT driver and VFS layer</td></tr>
                            <tr><td>8</td><td>Processes</td><td>Multitasking and system calls</td></tr>
                            <tr><td>9</td><td>ELF Loading</td><td>Loading and executing user programs</td></tr>
                            <tr><td>10</td><td>Shell & libc</td><td>Command-line shell and C library</td></tr>
                            <tr><td>11</td><td>64-Bit Mode</td><td>Long mode and 64-bit paging</td></tr>
                            <tr><td>12</td><td>UEFI</td><td>Modern boot services and memory maps</td></tr>
                            <tr><td>13</td><td>Graphics</td><td>Framebuffer and windowing system</td></tr>
                            <tr><td>14</td><td>Input & Timing</td><td>Mouse driver and high-precision timers</td></tr>
                            <tr><td>15</td><td>Hardware Drivers</td><td>PCI enumeration, AHCI, NVMe</td></tr>
                            <tr><td>16</td><td>Performance</td><td>Caching, scheduler tuning, profiling</td></tr>
                            <tr><td>17</td><td>Security & Finishing</td><td>Hardening, debugging, init/shutdown</td></tr>
                        </tbody>
                    </table>

                    <div class="highlight-box">
                        <i class="fas fa-medal me-2"></i>
                        <strong>You've joined an elite group.</strong> Building an operating system from scratch is one of the most challenging accomplishments in computer science. Most programmers never attempt it. You not only attempted it—you completed it. That takes dedication, curiosity, and exceptional problem-solving skills.
                    </div>
                </div>

                <!-- What's Next Section -->
                <div id="next" class="blog-content mt-5">
                    <h2><i class="fas fa-rocket me-2 text-teal"></i>What's Next</h2>
                    
                    <p>Your OS development journey doesn't end here. There are many directions you can take your operating system:</p>
                    
                    <ul>
                        <li><strong>Networking:</strong> TCP/IP stack, network drivers, socket API</li>
                        <li><strong>SMP:</strong> Multi-core processor support, per-CPU data</li>
                        <li><strong>Advanced Filesystems:</strong> ext2/ext4, journaling, NTFS</li>
                        <li><strong>USB Stack:</strong> Full USB support, mass storage, HID</li>
                        <li><strong>Audio:</strong> Sound card drivers, mixing, applications</li>
                    </ul>

                    <!-- Related Posts -->
                    <div class="related-posts">
                        <h3><i class="fas fa-book-reader me-2"></i>Explore the Series</h3>
                        <div class="related-post-item">
                            <h5 class="mb-2">Phase 0: Orientation & Big Picture</h5>
                            <p class="text-muted small mb-2">Revisit where it all began.</p>
                            <a href="kernel-dev-phase-00-orientation.html" class="text-decoration-none">Read Article <i class="fas fa-arrow-right ms-1"></i></a>
                        </div>
                        <div class="related-post-item">
                            <h5 class="mb-2">Phase 16: Performance & Optimization</h5>
                            <p class="text-muted small mb-2">Review performance tuning techniques.</p>
                            <a href="kernel-dev-phase-16-performance.html" class="text-decoration-none">Read Article <i class="fas fa-arrow-right ms-1"></i></a>
                        </div>
                        <div class="related-post-item">
                            <h5 class="mb-2">System Design Series</h5>
                            <p class="text-muted small mb-2">Apply your knowledge to distributed systems.</p>
                            <a href="../system-design/system-design-introduction.html" class="text-decoration-none">Read Article <i class="fas fa-arrow-right ms-1"></i></a>
                        </div>
                    </div>
                </div>

                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="social-media" class="bg-dark text-light py-5">
        <div class="container py-5">
            <div class="row mb-4">
                <div class="col-lg-6 mb-4 mb-lg-0">
                    <h5 class="fw-bold mb-3">Let's Connect</h5>
                    <p class="text-light">
                        I'm always interested in sharing content about my interests on different topics. Read disclaimer and feel free to share further.
                    </p>
                </div>
                <div class="col-lg-6">
                    <h5 class="fw-bold mb-3">Follow Me</h5>
                    <div class="social-links d-flex gap-2 flex-wrap">
                        <a href="https://www.facebook.com/wasil.zafar/" target="_blank" class="social-icon" title="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="https://twitter.com/wasilzafar" target="_blank" class="social-icon" title="Twitter">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="https://www.linkedin.com/in/wasilzafar" target="_blank" class="social-icon" title="LinkedIn">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="https://www.youtube.com/@wasilzafar" target="_blank" class="social-icon" title="YouTube">
                            <i class="fab fa-youtube"></i>
                        </a>
                        <a href="https://www.instagram.com/itswzee/" target="_blank" class="social-icon" title="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://in.pinterest.com/wasilz/" target="_blank" class="social-icon" title="Pinterest">
                            <i class="fab fa-pinterest-p"></i>
                        </a>
                        <a href="mailto:wasil.zafar@gmail.com" class="social-icon" title="Email">
                            <i class="fas fa-envelope"></i>
                        </a>
                    </div>
                </div>
            </div>

            <hr class="bg-secondary">

            <div class="row mt-4">
                <div class="col-md-6">
                    <p class="small">
                        <i class="fas fa-icons me-2"></i>Icons from <a href="https://www.flaticon.com/" target="_blank" class="text-light">Flaticon</a> &amp; <a href="https://fontawesome.com/" target="_blank" class="text-light">Font Awesome</a>
                    </p>
                    <p class="small mt-3">
                        <a href="/" class="text-light text-decoration-none">Home</a> | 
                        <a href="/disclaimer.html" class="text-light text-decoration-none">Disclaimer</a> | 
                        <a href="/privacy-policy.html" class="text-light text-decoration-none">Privacy Policy</a>
                    </p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="small">
                        Enjoying this content? ☕ <a href="https://buymeacoffee.com/itswzee" target="_blank" class="text-light" style="text-decoration: underline;">Keep me caffeinated</a> to keep the pixels flowing!
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Scroll-to-Top Button -->
    <button id="scrollToTop" class="scroll-to-top" title="Back to Top">
        <i class="fas fa-arrow-up"></i>
    </button>
    <!-- Category Indicator -->
    <div id="categoryIndicator" class="category-indicator" title="Current Section">
        <i class="fas fa-tag"></i><span id="categoryText">Technology</span>
    </div>
    
    <!-- Cookie Consent JS -->
    <script src="../../../js/cookie-consent.js"></script>
    
    <!-- Main JS -->
    <script src="../../../js/main.js"></script>

    <!-- Prism.js Syntax Highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-nasm.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
</body>
</html>
