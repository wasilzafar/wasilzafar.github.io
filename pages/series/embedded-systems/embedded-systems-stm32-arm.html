<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="robots" content="index, archive" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Master STM32 and ARM Cortex-M development: ARM architecture deep dive, STM32 peripherals, HAL programming, GPIO, timers, UART, and hands-on microcontroller projects." />
    <meta name="author" content="Wasil Zafar" />
    <meta name="keywords" content="STM32, ARM Cortex-M, microcontroller, HAL, GPIO, UART, timers, peripherals, embedded development, STM32CubeIDE, ARM architecture" />
    <meta property="og:title" content="Embedded Systems Series Part 2: STM32 & ARM Cortex-M Development" />
    <meta property="og:description" content="Master STM32 and ARM Cortex-M development: ARM architecture, peripherals, HAL programming, and hands-on microcontroller projects." />
    <meta property="og:type" content="article" />
    <meta property="article:published_time" content="2026-01-25" />
    <meta property="article:author" content="Wasil Zafar" />
    <meta property="article:section" content="Technology" />
    
    <title>Embedded Systems Series Part 2: STM32 & ARM Cortex-M Development - Wasil Zafar</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet" />

    <!-- Custom Styles -->
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" />
    
    <!-- Prism.js Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" id="prism-theme" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" id="prism-default" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-dark.min.css" id="prism-dark" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-twilight.min.css" id="prism-twilight" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css" id="prism-okaidia" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-solarizedlight.min.css" id="prism-solarizedlight" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css" />

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="../../../images/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../images/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../images/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="../../../images/favicon_io/site.webmanifest">

    <!-- Google Consent Mode v2 -->
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        
        gtag('consent', 'default', {
            'ad_storage': 'denied',
            'ad_user_data': 'denied',
            'ad_personalization': 'denied',
            'analytics_storage': 'denied',
            'region': ['AT','BE','BG','HR','CY','CZ','DK','EE','FI','FR','DE','GR','HU','IE','IT','LV','LT','LU','MT','NL','PL','PT','RO','SK','SI','ES','SE']
        });
        
        gtag('consent', 'default', {
            'ad_storage': 'granted',
            'ad_user_data': 'granted',
            'ad_personalization': 'granted',
            'analytics_storage': 'granted'
        });
        
        gtag('set', 'url_passthrough', true);
    </script>

    <!-- Google Tag Manager -->
    <script>
        (function(w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-PBS8M2JR');
    </script>
    
    <style>
        .blog-hero { background: linear-gradient(135deg, var(--color-navy) 0%, var(--color-blue) 100%); color: white; padding: 80px 0; }
        .blog-header { margin-bottom: 2rem; }
        .blog-meta { font-size: 0.95rem; color: var(--color-teal); margin-bottom: 1rem; display: flex; align-items: center; flex-wrap: wrap; gap: 1rem; }
        .blog-meta span { margin-right: 0.5rem; }
        .print-btn { background: var(--color-teal); color: white; border: none; padding: 0.4rem 1rem; border-radius: 4px; font-size: 0.9rem; cursor: pointer; transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 0.5rem; }
        .print-btn:hover { background: var(--color-crimson); transform: translateY(-1px); }
        @media print { .print-btn, nav, .navbar, footer, .back-link, .related-posts, .scroll-to-top, .toc-toggle-btn, .sidenav-toc, .sidenav-overlay { display: none !important; } * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; } .blog-content h2 { color: var(--color-navy) !important; border-bottom: 3px solid var(--color-teal) !important; } .blog-content h3 { color: var(--color-blue) !important; } .highlight-box { background: rgba(59, 151, 151, 0.1) !important; border-left: 4px solid var(--color-teal) !important; } .experiment-card { border: 1px solid #ddd !important; } body { font-size: 12pt; line-height: 1.6; } }
        .blog-content { max-width: 900px; margin: 0 auto; font-size: 1.05rem; line-height: 1.8; color: #333; }
        .blog-content h2 { font-size: 1.8rem; font-weight: 700; margin-top: 2.5rem; margin-bottom: 1.5rem; color: var(--color-navy); border-bottom: 3px solid var(--color-teal); padding-bottom: 0.5rem; }
        .blog-content h3 { font-size: 1.3rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; color: var(--color-blue); }
        .blog-content p { margin-bottom: 1.2rem; text-align: justify; }
        .blog-content strong { color: var(--color-crimson); }
        .highlight-box { background: rgba(59, 151, 151, 0.1); border-left: 4px solid var(--color-teal); padding: 1.5rem; margin: 2rem 0; border-radius: 4px; }
        .experiment-card { background: #f8f9fa; border: 1px solid #ddd; border-radius: 8px; padding: 1.5rem; margin-bottom: 1.5rem; transition: all 0.3s ease; }
        .experiment-card:hover { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); transform: translateY(-2px); }
        .experiment-card h4 { color: var(--color-crimson); font-weight: 700; margin-bottom: 0.5rem; }
        .card-meta .badge { font-size: 0.85rem; font-weight: 600; padding: 0.5rem 1rem; margin-right: 0.5rem; }
        .bg-teal { background-color: var(--color-teal) !important; }
        .bg-crimson { background-color: var(--color-crimson) !important; }
        pre[class*="language-"] { position: relative; margin: 1.5rem 0; padding-top: 3rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); }
        code[class*="language-"] { font-family: 'Consolas', 'Monaco', 'Courier New', monospace; font-size: 0.9rem; line-height: 1.6; }
        div.code-toolbar > .toolbar { opacity: 1; display: flex; gap: 0.5rem; }
        div.code-toolbar > .toolbar > .toolbar-item > button { background: var(--color-teal); color: white; border: none; padding: 0.4rem 0.8rem; border-radius: 4px; font-size: 0.85rem; cursor: pointer; transition: all 0.3s ease; }
        div.code-toolbar > .toolbar > .toolbar-item > button:hover { background: var(--color-blue); }
        div.code-toolbar > .toolbar > .toolbar-item > select { background: var(--color-navy); color: white; border: 1px solid var(--color-teal); padding: 0.4rem 0.8rem; border-radius: 4px; font-size: 0.85rem; cursor: pointer; }
        div.code-toolbar > .toolbar > .toolbar-item > select option { background: var(--color-navy); color: white; }
        .toc-toggle-btn { position: fixed; bottom: 2rem; left: 2rem; width: 50px; height: 50px; background: var(--color-teal); color: white; border: none; border-radius: 50%; font-size: 1.2rem; cursor: pointer; box-shadow: 0 4px 12px rgba(59, 151, 151, 0.4); transition: all 0.3s ease; z-index: 1049; display: flex; align-items: center; justify-content: center; }
        .toc-toggle-btn:hover { background: var(--color-crimson); transform: scale(1.1); }
        .sidenav-toc { height: calc(100% - 64px); width: 0; position: fixed; z-index: 1050; top: 64px; left: 0; background: linear-gradient(135deg, var(--color-navy) 0%, var(--color-blue) 100%); overflow-x: hidden; overflow-y: auto; transition: width 0.4s ease; padding-top: 30px; box-shadow: 4px 0 15px rgba(0, 0, 0, 0.3); }
        .sidenav-toc.open { width: 350px; }
        .sidenav-toc .toc-header { display: flex; align-items: center; justify-content: space-between; padding: 20px 30px; margin-bottom: 20px; border-bottom: 2px solid var(--color-teal); opacity: 0; visibility: hidden; transition: all 0.3s ease; }
        .sidenav-toc.open .toc-header { opacity: 1; visibility: visible; }
        .sidenav-toc .closebtn { font-size: 32px; color: white; background: transparent; border: none; cursor: pointer; transition: all 0.3s ease; }
        .sidenav-toc .closebtn:hover { color: var(--color-crimson); transform: rotate(90deg); }
        .sidenav-toc h3 { color: white; margin: 0; font-weight: 700; font-size: 1.3rem; flex-grow: 1; }
        .sidenav-toc ol { list-style: decimal; padding-left: 30px; margin: 0; color: rgba(255, 255, 255, 0.9); }
        .sidenav-toc ol li { margin-bottom: 8px; }
        .sidenav-toc ul { list-style-type: lower-alpha; padding-left: 30px; margin-top: 8px; margin-bottom: 8px; }
        .sidenav-toc ul li { margin-bottom: 6px; }
        .sidenav-toc a { padding: 12px 30px; text-decoration: none; font-size: 0.95rem; color: rgba(255, 255, 255, 0.85); display: block; transition: all 0.3s ease; border-left: 4px solid transparent; position: relative; }
        .sidenav-toc a:hover { color: white; background: rgba(59, 151, 151, 0.2); border-left-color: var(--color-teal); padding-left: 35px; }
        .sidenav-toc a.active { color: white; background: rgba(191, 9, 47, 0.3); border-left-color: var(--color-crimson); font-weight: 600; }
        .sidenav-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 1049; }
        .sidenav-overlay.show { display: block; }
        @media (max-width: 768px) { .sidenav-toc.open { width: 280px; } .toc-toggle-btn { width: 45px; height: 45px; font-size: 1rem; left: 1rem; bottom: 1rem; } }
        html { scroll-behavior: smooth; }
        .reading-time { display: inline-block; background: var(--color-crimson); color: white; padding: 0.3rem 0.8rem; border-radius: 4px; font-size: 0.9rem; }
        .back-link { display: inline-block; color: white; text-decoration: none; transition: all 0.3s ease; margin-bottom: 1rem; opacity: 0.9; }
        .back-link:hover { color: var(--color-teal); opacity: 1; transform: translateX(-5px); }
        .related-posts { background: #f8f9fa; border-radius: 8px; padding: 2rem; margin-top: 3rem; }
        .related-posts h3 { color: var(--color-navy); margin-bottom: 1.5rem; }
        .related-post-item { padding: 1rem; border-left: 3px solid var(--color-teal); margin-bottom: 1rem; transition: all 0.3s ease; }
        .related-post-item:hover { background: white; border-left-color: var(--color-crimson); }
        .related-post-item a { color: var(--color-blue); text-decoration: none; font-weight: 600; }
        .related-post-item a:hover { color: var(--color-crimson); }
        .scroll-to-top { position: fixed; bottom: 2rem; right: 2rem; width: 50px; height: 50px; background: var(--color-teal); color: white; border: none; border-radius: 50%; font-size: 1.2rem; cursor: pointer; display: flex; align-items: center; justify-content: center; opacity: 0; visibility: hidden; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(59, 151, 151, 0.3); z-index: 999; }
        .scroll-to-top.show { opacity: 1; visibility: visible; }
        .scroll-to-top:hover { background: var(--color-crimson); transform: translateY(-3px); }
        @media (max-width: 768px) { .scroll-to-top { bottom: 1rem; right: 1rem; width: 45px; height: 45px; font-size: 1rem; } }
        /* Category Indicator */
        .category-indicator {
            position: fixed;
            bottom: 2rem;
            right: 6.5rem;
            background: var(--color-navy);
            color: white;
            padding: 0.75rem 1.25rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(19, 36, 64, 0.3);
            z-index: 998;
            max-width: 150px;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .category-indicator.show {
            opacity: 1;
            visibility: visible;
        }

        .category-indicator i {
            margin-right: 0.5rem;
            color: var(--color-teal);
        }

        @media (max-width: 768px) {
            .category-indicator {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PBS8M2JR" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <!-- GDPR Cookie Consent Banner -->
    <div id="cookieBanner" class="light display-bottom" style="display: none;">
        <div id="closeIcon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"></path></svg></div>
        <div class="content-wrap">
            <div class="msg-wrap">
                <div class="title-wrap">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="20" height="20"><path fill="#3B9797" d="M510.52 255.82c-69.97-.85-126.47-57.69-126.47-127.86-70.17 0-127-56.49-127.86-126.45-27.26-4.14-55.13.3-79.72 12.82l-69.13 35.22a132.221 132.221 0 0 0-57.79 57.81l-35.1 68.88a132.645 132.645 0 0 0-12.82 80.95l12.08 76.27a132.521 132.521 0 0 0 37.16 70.37l54.64 54.64a132.036 132.036 0 0 0 70.37 37.16l76.27 12.15c27.51 4.36 55.7-.11 80.95-12.8l68.88-35.08a132.166 132.166 0 0 0 57.79-57.81l35.1-68.88c12.56-24.64 17.01-52.58 12.91-79.91zM176 368c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm32-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm160 128c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"></path></svg>
                    <h4 style="margin: 0; font-size: 18px; color: var(--color-navy); font-weight: 700;">Cookie Consent</h4>
                </div>
                <p style="font-size: 14px; line-height: 1.6; color: var(--color-navy); margin-bottom: 15px;">We use cookies to enhance your browsing experience. See our <a href="/privacy-policy.html" style="color: var(--color-teal);">Privacy Policy</a> for more information.</p>
            </div>
            <div class="btn-wrap">
                <button id="cookieAccept" style="background: var(--color-teal); color: white; font-weight: 600;">Accept All</button>
                <button id="cookieReject" style="background: transparent; color: var(--color-navy); border: 2px solid var(--color-teal); font-weight: 600;">Reject All</button>
            </div>
        </div>
    </div>

    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="/"><span class="gradient-text">Wasil Zafar</span></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#about">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#skills">Skills</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#certifications">Certifications</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#interests">Interests</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="blog-hero">
        <div class="container py-5">
            <div class="blog-header">
                <a href="/pages/categories/technology.html" class="back-link">
                    <i class="fas fa-arrow-left me-2"></i>Back to Technology
                </a>
                <h1 class="display-4 fw-bold mb-3">Embedded Systems Series Part 2: STM32 & ARM Cortex-M Development</h1>
                <div class="blog-meta">
                    <span><i class="fas fa-calendar me-2"></i>January 25, 2026</span>
                    <span><i class="fas fa-user me-2"></i>Wasil Zafar</span>
                    <span class="reading-time"><i class="fas fa-clock me-1"></i>50 min read</span>
                    <button onclick="window.print()" class="print-btn" title="Print this article"><i class="fas fa-print"></i> Print</button>
                </div>
                <p class="lead">Dive deep into ARM Cortex-M architecture, STM32 peripherals, HAL programming, and hands-on microcontroller development with practical examples.</p>
            </div>
        </div>
    </section>

    <!-- Table of Contents Toggle Button -->
    <button class="toc-toggle-btn" onclick="openNav()" title="Table of Contents"><i class="fas fa-list"></i></button>

    <!-- Side Navigation Overlay -->
    <div id="tocSidenav" class="sidenav-toc">
        <div class="toc-header">
            <h3><i class="fas fa-list me-2"></i>Table of Contents</h3>
            <button class="closebtn" onclick="closeNav()">&times;</button>
        </div>
        <ol>
            <li><a href="#introduction" onclick="closeNav()">ARM Cortex-M Architecture</a></li>
            <li><a href="#stm32-families" onclick="closeNav()">STM32 Microcontroller Families</a></li>
            <li><a href="#development-environment" onclick="closeNav()">Development Environment Setup</a></li>
            <li><a href="#hal-programming" onclick="closeNav()">HAL Programming Fundamentals</a></li>
            <li><a href="#gpio" onclick="closeNav()">GPIO Configuration & Control</a></li>
            <li><a href="#timers" onclick="closeNav()">Timers & PWM</a></li>
            <li><a href="#uart" onclick="closeNav()">UART Communication</a></li>
            <li><a href="#adc-dac" onclick="closeNav()">ADC & DAC Peripherals</a></li>
            <li><a href="#dma" onclick="closeNav()">DMA (Direct Memory Access)</a></li>
            <li><a href="#conclusion" onclick="closeNav()">Conclusion & Next Steps</a></li>
        </ol>
    </div>

    <div id="tocOverlay" class="sidenav-overlay" onclick="closeNav()"></div>

    <!-- Main Content -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="blog-content">
                        <div id="introduction" class="blog-content">
                            <h2><i class="fas fa-microchip me-2 text-teal"></i>ARM Cortex-M Architecture</h2>
                            
                            <div class="highlight-box" style="background: rgba(191, 9, 47, 0.1); border-left-color: var(--color-crimson);">
                                <i class="fas fa-book me-2"></i>
                                <strong>Series Navigation:</strong> This is Part 2 of the 12-part Embedded Systems Series. <a href="embedded-systems-fundamentals.html">Start with Part 1: Fundamentals</a> if you haven't already.
                            </div>

                            <div class="experiment-card">
                                <h4><i class="fas fa-map-signs me-2"></i>Complete Series Navigation</h4>
                                <div class="card-meta mb-2">
                                    <span class="badge bg-teal me-2">12-Part Series</span>
                                    <span class="badge bg-crimson">Embedded Systems Mastery</span>
                                </div>
                                <div class="content">
                                    <ol>
                                        <li><a href="embedded-systems-fundamentals.html">Fundamentals & Architecture</a> - Microcontrollers, memory, interrupts</li>
                                        <li><strong>STM32 & ARM Cortex-M Development (This Guide)</strong> - ARM architecture, peripherals, HAL</li>
                                        <li><a href="embedded-systems-rtos.html">RTOS Fundamentals (FreeRTOS/Zephyr)</a> - Task management, scheduling, synchronization</li>
                                        <li><a href="embedded-systems-protocols.html">Communication Protocols Deep Dive</a> - UART, SPI, I2C, CAN, USB</li>
                                        <li><a href="embedded-systems-linux-fundamentals.html">Embedded Linux Fundamentals</a> - Linux kernel, userspace, filesystem</li>
                                        <li><a href="embedded-systems-uboot.html">U-Boot Bootloader Mastery</a> - Boot process, configuration, customization</li>
                                        <li><a href="embedded-systems-device-drivers.html">Linux Device Drivers</a> - Character, block, network drivers</li>
                                        <li><a href="embedded-systems-kernel.html">Linux Kernel Customization</a> - Kernel configuration, modules, debugging</li>
                                        <li><a href="embedded-systems-android-architecture.html">Android System Architecture</a> - Android layers, services, framework</li>
                                        <li><a href="embedded-systems-android-hal.html">Android HAL & Native Development</a> - HAL interfaces, NDK, JNI</li>
                                        <li><a href="embedded-systems-android-bsp.html">Android BSP & Kernel</a> - BSP development, kernel integration</li>
                                        <li><a href="embedded-systems-debugging.html">Debugging & Optimization</a> - JTAG, GDB, profiling, optimization</li>
                                    </ol>
                                </div>
                            </div>
                                
                            <p>The <strong>ARM Cortex-M</strong> family is the industry-leading architecture for microcontrollers, powering billions of devices from smart watches to industrial controllers. Unlike application processors (Cortex-A), Cortex-M cores are optimized for real-time, low-power embedded applications.</p>

                            <div class="experiment-card">
                                <h4><i class="fas fa-layer-group me-2"></i>Cortex-M Family Comparison</h4>
                                <div class="card-meta mb-2">
                                    <span class="badge bg-teal">M0/M0+</span>
                                    <span class="badge bg-blue">M3</span>
                                    <span class="badge bg-navy">M4</span>
                                    <span class="badge bg-crimson">M7</span>
                                </div>
                                <div class="content">
                                    <table class="table table-bordered table-sm">
                                        <thead class="table-light">
                                            <tr><th>Feature</th><th>M0/M0+</th><th>M3</th><th>M4</th><th>M7</th></tr>
                                        </thead>
                                        <tbody>
                                            <tr><td>Pipeline</td><td>2-stage</td><td>3-stage</td><td>3-stage</td><td>6-stage</td></tr>
                                            <tr><td>DSP Instructions</td><td>No</td><td>No</td><td>Yes</td><td>Yes</td></tr>
                                            <tr><td>FPU</td><td>No</td><td>No</td><td>Optional (SP)</td><td>SP + DP</td></tr>
                                            <tr><td>Cache</td><td>No</td><td>No</td><td>No</td><td>I/D Cache</td></tr>
                                            <tr><td>Max Frequency</td><td>~48MHz</td><td>~120MHz</td><td>~180MHz</td><td>~400MHz+</td></tr>
                                            <tr><td>Typical Use</td><td>Simple sensors</td><td>General MCU</td><td>Motor, Audio</td><td>High-perf DSP</td></tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <h3>Cortex-M Programmer's Model</h3>
                            
                            <p>All Cortex-M cores share a common programmer's model:</p>

                            <ul>
                                <li><strong>16 general-purpose registers:</strong> R0-R12 (general), R13 (SP), R14 (LR), R15 (PC)</li>
                                <li><strong>Program Status Registers (xPSR):</strong> Flags, exception number, thumb state</li>
                                <li><strong>Thumb-2 instruction set:</strong> Mix of 16-bit and 32-bit instructions</li>
                                <li><strong>Two stack pointers:</strong> MSP (Main) and PSP (Process) for OS support</li>
                                <li><strong>Two privilege levels:</strong> Privileged and Unprivileged (for RTOS)</li>
                            </ul>

<pre><code class="language-c">// Accessing core registers (compiler intrinsics)
#include "cmsis_gcc.h"

uint32_t stack_ptr = __get_MSP();      // Get Main Stack Pointer
uint32_t primask = __get_PRIMASK();    // Get interrupt mask

__disable_irq();  // Disable interrupts globally
// Critical section
__enable_irq();   // Re-enable interrupts

__DSB();  // Data Synchronization Barrier
__ISB();  // Instruction Synchronization Barrier
</code></pre>

                            <h2 id="stm32-families"><i class="fas fa-sitemap me-2 text-teal"></i>STM32 Microcontroller Families</h2>

                            <p><strong>STMicroelectronics' STM32</strong> is the most popular ARM Cortex-M implementation, with hundreds of variants organized into families:</p>

                            <div class="experiment-card">
                                <h4><i class="fas fa-cubes me-2"></i>STM32 Family Guide</h4>
                                <div class="card-meta mb-2">
                                    <span class="badge bg-navy">Value Line</span>
                                    <span class="badge bg-teal">Mainstream</span>
                                    <span class="badge bg-crimson">High Performance</span>
                                </div>
                                <div class="content">
                                    <ul>
                                        <li><strong>STM32F0:</strong> Cortex-M0, entry-level, ultra-low-cost ($0.30+)</li>
                                        <li><strong>STM32F1:</strong> Cortex-M3, legacy mainstream, huge ecosystem</li>
                                        <li><strong>STM32F3:</strong> Cortex-M4, analog-rich (ADC, comparators)</li>
                                        <li><strong>STM32F4:</strong> Cortex-M4F, most popular high-performance line</li>
                                        <li><strong>STM32F7:</strong> Cortex-M7, higher speed, caches, LCD controller</li>
                                        <li><strong>STM32H7:</strong> Cortex-M7 @ 480MHz, dual-core options</li>
                                        <li><strong>STM32L0/L4/L5:</strong> Ultra-low-power variants</li>
                                        <li><strong>STM32G0/G4:</strong> Newest mainstream, replaces F0/F3</li>
                                        <li><strong>STM32U5:</strong> Ultra-low-power with TrustZone security</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="highlight-box">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Choosing an STM32:</strong>
                                <ul>
                                    <li><strong>Cost-sensitive:</strong> STM32F0, STM32G0</li>
                                    <li><strong>General purpose:</strong> STM32F4 (best ecosystem)</li>
                                    <li><strong>Low power:</strong> STM32L4, STM32U5</li>
                                    <li><strong>High performance:</strong> STM32H7</li>
                                    <li><strong>Learning:</strong> STM32F4 Discovery, Nucleo boards</li>
                                </ul>
                            </div>

                            <h2 id="development-environment"><i class="fas fa-laptop-code me-2 text-teal"></i>Development Environment Setup</h2>

                            <h3>STM32CubeIDE Installation</h3>

                            <p><strong>STM32CubeIDE</strong> is ST's free, all-in-one IDE combining Eclipse, GCC toolchain, and STM32CubeMX code generator.</p>

<pre><code class="language-bash"># Download from st.com/stm32cubeide (Windows/Mac/Linux)
# Includes:
# - Eclipse-based IDE
# - ARM GCC toolchain
# - ST-Link debugger support
# - STM32CubeMX project configurator

# Alternative: PlatformIO in VS Code
pip install platformio
# Then install STM32 platform in PlatformIO
</code></pre>

                            <h3>Project Structure</h3>

<pre><code class="language-text">MySTM32Project/
├── Core/
│   ├── Inc/              # Header files
│   │   ├── main.h
│   │   └── stm32f4xx_it.h
│   └── Src/              # Source files
│       ├── main.c
│       ├── stm32f4xx_it.c   # Interrupt handlers
│       └── system_stm32f4xx.c
├── Drivers/
│   ├── CMSIS/            # ARM CMSIS headers
│   └── STM32F4xx_HAL_Driver/  # HAL library
├── STM32F446RETX_FLASH.ld   # Linker script
└── Makefile or .project
</code></pre>

                            <h2 id="hal-programming"><i class="fas fa-code me-2 text-teal"></i>HAL Programming Fundamentals</h2>

                            <p>The <strong>Hardware Abstraction Layer (HAL)</strong> provides portable APIs across STM32 families. While it adds some overhead, it dramatically speeds development.</p>

                            <div class="experiment-card">
                                <h4><i class="fas fa-layer-group me-2"></i>STM32 Software Layers</h4>
                                <div class="card-meta mb-2">
                                    <span class="badge bg-teal">HAL</span>
                                    <span class="badge bg-navy">LL</span>
                                    <span class="badge bg-crimson">Direct Register</span>
                                </div>
                                <div class="content">
                                    <ul>
                                        <li><strong>HAL (High-Level):</strong> Full abstraction, portable, callback-based</li>
                                        <li><strong>LL (Low-Level):</strong> Thin wrappers, close to hardware, faster</li>
                                        <li><strong>Direct Register:</strong> Maximum control, minimum overhead</li>
                                    </ul>
                                </div>
                            </div>

<pre><code class="language-c">// HAL initialization pattern
int main(void) {
    // 1. Reset peripherals, initialize Flash and SysTick
    HAL_Init();
    
    // 2. Configure system clock (generated by CubeMX)
    SystemClock_Config();
    
    // 3. Initialize peripherals
    MX_GPIO_Init();
    MX_USART2_UART_Init();
    MX_TIM2_Init();
    
    // 4. Application loop
    while (1) {
        // Your code here
        HAL_Delay(1000);  // Uses SysTick
    }
}

// HAL callback pattern (weak functions to override)
void HAL_GPIO_EXTI_Callback(uint16_t GPIO_Pin) {
    if (GPIO_Pin == USER_BUTTON_Pin) {
        HAL_GPIO_TogglePin(LED_GPIO_Port, LED_Pin);
    }
}
</code></pre>

                            <h2 id="gpio"><i class="fas fa-plug me-2 text-teal"></i>GPIO Configuration & Control</h2>

                            <p><strong>General Purpose Input/Output (GPIO)</strong> pins are the fundamental interface between your MCU and the external world.</p>

                            <h3>GPIO Modes</h3>

                            <div class="highlight-box">
                                <i class="fas fa-info-circle"></i>
                                <strong>STM32 GPIO Modes:</strong>
                                <ul>
                                    <li><strong>Input:</strong> Floating, Pull-up, Pull-down</li>
                                    <li><strong>Output:</strong> Push-Pull, Open-Drain</li>
                                    <li><strong>Alternate Function:</strong> UART, SPI, I2C, PWM, etc.</li>
                                    <li><strong>Analog:</strong> ADC/DAC input</li>
                                </ul>
                            </div>

<pre><code class="language-c">// GPIO configuration with HAL
void MX_GPIO_Init(void) {
    GPIO_InitTypeDef GPIO_InitStruct = {0};
    
    // Enable GPIO clock
    __HAL_RCC_GPIOA_CLK_ENABLE();
    
    // Configure PA5 as output (LED on Nucleo boards)
    GPIO_InitStruct.Pin = GPIO_PIN_5;
    GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;  // Push-Pull
    GPIO_InitStruct.Pull = GPIO_NOPULL;
    GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
    HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
    
    // Configure PC13 as input with interrupt (User button)
    GPIO_InitStruct.Pin = GPIO_PIN_13;
    GPIO_InitStruct.Mode = GPIO_MODE_IT_FALLING;  // Interrupt on falling edge
    GPIO_InitStruct.Pull = GPIO_PULLUP;
    HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);
    
    // Enable EXTI interrupt
    HAL_NVIC_SetPriority(EXTI15_10_IRQn, 0, 0);
    HAL_NVIC_EnableIRQ(EXTI15_10_IRQn);
}

// GPIO control
HAL_GPIO_WritePin(GPIOA, GPIO_PIN_5, GPIO_PIN_SET);    // Set high
HAL_GPIO_WritePin(GPIOA, GPIO_PIN_5, GPIO_PIN_RESET);  // Set low
HAL_GPIO_TogglePin(GPIOA, GPIO_PIN_5);                 // Toggle

GPIO_PinState state = HAL_GPIO_ReadPin(GPIOC, GPIO_PIN_13);  // Read
</code></pre>

                            <h2 id="timers"><i class="fas fa-clock me-2 text-teal"></i>Timers & PWM</h2>

                            <p>STM32 timers are incredibly versatile—used for delays, PWM generation, input capture, and event counting.</p>

                            <div class="experiment-card">
                                <h4><i class="fas fa-stopwatch me-2"></i>Timer Types</h4>
                                <div class="card-meta mb-2">
                                    <span class="badge bg-teal">Basic</span>
                                    <span class="badge bg-blue">General Purpose</span>
                                    <span class="badge bg-crimson">Advanced</span>
                                </div>
                                <div class="content">
                                    <ul>
                                        <li><strong>Basic (TIM6, TIM7):</strong> Simple counting, DAC triggers</li>
                                        <li><strong>General Purpose (TIM2-5):</strong> 4 channels, capture/compare, PWM</li>
                                        <li><strong>Advanced (TIM1, TIM8):</strong> Motor control, complementary outputs, break input</li>
                                    </ul>
                                </div>
                            </div>

<pre><code class="language-c">// Timer-based delay (using TIM2)
void TIM2_Init(void) {
    __HAL_RCC_TIM2_CLK_ENABLE();
    
    htim2.Instance = TIM2;
    htim2.Init.Prescaler = 84 - 1;      // 84MHz / 84 = 1MHz (1µs ticks)
    htim2.Init.CounterMode = TIM_COUNTERMODE_UP;
    htim2.Init.Period = 0xFFFFFFFF;     // 32-bit timer
    htim2.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
    HAL_TIM_Base_Init(&htim2);
    HAL_TIM_Base_Start(&htim2);
}

void delay_us(uint32_t us) {
    uint32_t start = __HAL_TIM_GET_COUNTER(&htim2);
    while ((__HAL_TIM_GET_COUNTER(&htim2) - start) < us);
}

// PWM Generation (LED brightness control)
void PWM_Init(void) {
    TIM_OC_InitTypeDef sConfigOC = {0};
    
    htim3.Instance = TIM3;
    htim3.Init.Prescaler = 84 - 1;      // 1µs resolution
    htim3.Init.Period = 1000 - 1;       // 1kHz PWM frequency
    HAL_TIM_PWM_Init(&htim3);
    
    sConfigOC.OCMode = TIM_OCMODE_PWM1;
    sConfigOC.Pulse = 500;              // 50% duty cycle
    sConfigOC.OCPolarity = TIM_OCPOLARITY_HIGH;
    HAL_TIM_PWM_ConfigChannel(&htim3, &sConfigOC, TIM_CHANNEL_1);
    
    HAL_TIM_PWM_Start(&htim3, TIM_CHANNEL_1);
}

// Change duty cycle at runtime
void set_brightness(uint16_t duty) {  // 0-1000
    __HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_1, duty);
}
</code></pre>

                            <h2 id="uart"><i class="fas fa-exchange-alt me-2 text-teal"></i>UART Communication</h2>

                            <p><strong>UART</strong> is the simplest serial protocol—essential for debugging, console output, and communication with sensors and modules.</p>

<pre><code class="language-c">// UART initialization (115200 baud, 8N1)
UART_HandleTypeDef huart2;

void MX_USART2_UART_Init(void) {
    huart2.Instance = USART2;
    huart2.Init.BaudRate = 115200;
    huart2.Init.WordLength = UART_WORDLENGTH_8B;
    huart2.Init.StopBits = UART_STOPBITS_1;
    huart2.Init.Parity = UART_PARITY_NONE;
    huart2.Init.Mode = UART_MODE_TX_RX;
    huart2.Init.HwFlowCtl = UART_HWCONTROL_NONE;
    HAL_UART_Init(&huart2);
}

// Blocking transmit
char msg[] = "Hello STM32!\r\n";
HAL_UART_Transmit(&huart2, (uint8_t*)msg, strlen(msg), HAL_MAX_DELAY);

// Blocking receive
uint8_t rx_buffer[64];
HAL_UART_Receive(&huart2, rx_buffer, 10, 1000);  // 1s timeout

// Interrupt-driven receive (non-blocking)
void start_uart_rx(void) {
    HAL_UART_Receive_IT(&huart2, &rx_byte, 1);
}

void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart) {
    if (huart == &huart2) {
        process_byte(rx_byte);
        HAL_UART_Receive_IT(&huart2, &rx_byte, 1);  // Restart
    }
}

// printf redirect (for debugging)
int _write(int file, char *ptr, int len) {
    HAL_UART_Transmit(&huart2, (uint8_t*)ptr, len, HAL_MAX_DELAY);
    return len;
}
</code></pre>

                            <h2 id="adc-dac"><i class="fas fa-wave-square me-2 text-teal"></i>ADC & DAC Peripherals</h2>

                            <h3>ADC (Analog-to-Digital Converter)</h3>

                            <p>STM32 ADCs convert analog voltages to digital values—essential for reading sensors like temperature, light, and potentiometers.</p>

<pre><code class="language-c">// ADC configuration (12-bit, single conversion)
ADC_HandleTypeDef hadc1;

void MX_ADC1_Init(void) {
    ADC_ChannelConfTypeDef sConfig = {0};
    
    hadc1.Instance = ADC1;
    hadc1.Init.ClockPrescaler = ADC_CLOCK_SYNC_PCLK_DIV4;
    hadc1.Init.Resolution = ADC_RESOLUTION_12B;
    hadc1.Init.ScanConvMode = DISABLE;
    hadc1.Init.ContinuousConvMode = DISABLE;
    hadc1.Init.ExternalTrigConvEdge = ADC_EXTERNALTRIGCONVEDGE_NONE;
    hadc1.Init.DataAlign = ADC_DATAALIGN_RIGHT;
    hadc1.Init.NbrOfConversion = 1;
    HAL_ADC_Init(&hadc1);
    
    // Configure channel (PA0 = ADC1_IN0)
    sConfig.Channel = ADC_CHANNEL_0;
    sConfig.Rank = 1;
    sConfig.SamplingTime = ADC_SAMPLETIME_84CYCLES;
    HAL_ADC_ConfigChannel(&hadc1, &sConfig);
}

// Read ADC value
uint16_t read_adc(void) {
    HAL_ADC_Start(&hadc1);
    HAL_ADC_PollForConversion(&hadc1, HAL_MAX_DELAY);
    return HAL_ADC_GetValue(&hadc1);  // 0-4095 for 12-bit
}

// Convert to voltage (assuming 3.3V reference)
float read_voltage(void) {
    return (read_adc() * 3.3f) / 4095.0f;
}
</code></pre>

                            <h3>DAC (Digital-to-Analog Converter)</h3>

<pre><code class="language-c">// DAC configuration
DAC_HandleTypeDef hdac;

void MX_DAC_Init(void) {
    DAC_ChannelConfTypeDef sConfig = {0};
    
    hdac.Instance = DAC;
    HAL_DAC_Init(&hdac);
    
    sConfig.DAC_Trigger = DAC_TRIGGER_NONE;
    sConfig.DAC_OutputBuffer = DAC_OUTPUTBUFFER_ENABLE;
    HAL_DAC_ConfigChannel(&hdac, &sConfig, DAC_CHANNEL_1);
    
    HAL_DAC_Start(&hdac, DAC_CHANNEL_1);
}

// Output voltage (0-3.3V mapped to 0-4095)
void set_dac_voltage(float voltage) {
    uint32_t value = (uint32_t)((voltage / 3.3f) * 4095.0f);
    HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, value);
}
</code></pre>

                            <h2 id="dma"><i class="fas fa-exchange-alt me-2 text-teal"></i>DMA (Direct Memory Access)</h2>

                            <p><strong>DMA</strong> transfers data between memory and peripherals without CPU involvement—crucial for high-throughput applications like audio, ADC streaming, and communication.</p>

                            <div class="highlight-box">
                                <i class="fas fa-rocket"></i>
                                <strong>Why Use DMA?</strong>
                                <ul>
                                    <li>CPU is free to do other work during transfers</li>
                                    <li>Higher throughput than interrupt-driven I/O</li>
                                    <li>Essential for audio, video, high-speed comms</li>
                                    <li>Lower latency for peripheral-to-memory transfers</li>
                                </ul>
                            </div>

<pre><code class="language-c">// DMA-based UART transmit
DMA_HandleTypeDef hdma_usart2_tx;

void DMA_Init(void) {
    __HAL_RCC_DMA1_CLK_ENABLE();
    
    hdma_usart2_tx.Instance = DMA1_Stream6;
    hdma_usart2_tx.Init.Channel = DMA_CHANNEL_4;
    hdma_usart2_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
    hdma_usart2_tx.Init.PeriphInc = DMA_PINC_DISABLE;
    hdma_usart2_tx.Init.MemInc = DMA_MINC_ENABLE;
    hdma_usart2_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
    hdma_usart2_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
    hdma_usart2_tx.Init.Mode = DMA_NORMAL;
    hdma_usart2_tx.Init.Priority = DMA_PRIORITY_LOW;
    HAL_DMA_Init(&hdma_usart2_tx);
    
    __HAL_LINKDMA(&huart2, hdmatx, hdma_usart2_tx);
}

// Non-blocking transmit with DMA
uint8_t large_buffer[1024];
HAL_UART_Transmit_DMA(&huart2, large_buffer, 1024);

// Callback when DMA transfer complete
void HAL_UART_TxCpltCallback(UART_HandleTypeDef *huart) {
    // Transfer complete, start next or signal completion
}

// DMA-based ADC continuous conversion (circular mode)
uint16_t adc_buffer[100];

void start_adc_dma(void) {
    HAL_ADC_Start_DMA(&hadc1, (uint32_t*)adc_buffer, 100);
}

void HAL_ADC_ConvCpltCallback(ADC_HandleTypeDef* hadc) {
    // Buffer full, process or signal
}
</code></pre>

                            <h2 id="conclusion"><i class="fas fa-flag-checkered me-2 text-teal"></i>Conclusion & What's Next</h2>

                            <p>You've now mastered the core STM32 development skills—understanding ARM Cortex-M architecture, configuring GPIO, timers, UART, ADC/DAC, and DMA. These fundamentals apply across all STM32 families and most ARM-based microcontrollers.</p>

                            <div class="highlight-box" style="background: rgba(191, 9, 47, 0.1); border-left-color: var(--color-crimson);">
                                <i class="fas fa-rocket"></i>
                                <strong>Key Takeaways:</strong>
                                <ul>
                                    <li>Cortex-M0/M3/M4/M7 differ in performance and features (DSP, FPU)</li>
                                    <li>STM32CubeIDE + HAL libraries accelerate development</li>
                                    <li>GPIO modes: Input, Output, Alternate Function, Analog</li>
                                    <li>Timers are versatile: delays, PWM, capture, counting</li>
                                    <li>DMA offloads data transfers from the CPU</li>
                                </ul>
                            </div>

                            <p>In <strong>Part 3</strong>, we'll dive into Real-Time Operating Systems (RTOS) with FreeRTOS and Zephyr—essential for complex multi-tasking embedded applications.</p>

                            <div id="next-steps" class="blog-content mt-5">
                                <h2><i class="fas fa-arrow-right me-2 text-teal"></i>Next Steps</h2>
                                
                                <div class="related-posts">
                                    <h3><i class="fas fa-book-reader me-2"></i>Continue the Series</h3>
                                    <div class="related-post-item">
                                        <h5 class="mb-2">Part 1: Fundamentals & Architecture</h5>
                                        <p class="text-muted small mb-2">Review microcontroller fundamentals and memory architectures.</p>
                                        <a href="embedded-systems-fundamentals.html">Read Article <i class="fas fa-arrow-right ms-1"></i></a>
                                    </div>
                                    <div class="related-post-item">
                                        <h5 class="mb-2">Part 3: RTOS Fundamentals (FreeRTOS/Zephyr)</h5>
                                        <p class="text-muted small mb-2">Master real-time operating systems—task management and scheduling.</p>
                                        <a href="embedded-systems-rtos.html">Read Article <i class="fas fa-arrow-right ms-1"></i></a>
                                    </div>
                                    <div class="related-post-item">
                                        <h5 class="mb-2">Part 4: Communication Protocols Deep Dive</h5>
                                        <p class="text-muted small mb-2">UART, SPI, I2C, CAN, USB—understand when to use each protocol.</p>
                                        <a href="embedded-systems-protocols.html">Read Article <i class="fas fa-arrow-right ms-1"></i></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="social-media" class="bg-dark text-light py-5">
        <div class="container py-5">
            <div class="row mb-4">
                <div class="col-lg-6 mb-4 mb-lg-0">
                    <h5 class="fw-bold mb-3">Let's Connect</h5>
                    <p class="text-light">I'm always interested in sharing content about my interests on different topics. Read disclaimer and feel free to share further.</p>
                </div>
                <div class="col-lg-6">
                    <h5 class="fw-bold mb-3">Follow Me</h5>
                    <div class="social-links d-flex gap-2 flex-wrap">
                        <a href="https://www.facebook.com/wasil.zafar/" target="_blank" class="social-icon" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://twitter.com/wasilzafar" target="_blank" class="social-icon" title="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.linkedin.com/in/wasilzafar" target="_blank" class="social-icon" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.youtube.com/@wasilzafar" target="_blank" class="social-icon" title="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="https://www.instagram.com/itswzee/" target="_blank" class="social-icon" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://in.pinterest.com/wasilz/" target="_blank" class="social-icon" title="Pinterest"><i class="fab fa-pinterest-p"></i></a>
                        <a href="mailto:wasil.zafar@gmail.com" class="social-icon" title="Email"><i class="fas fa-envelope"></i></a>
                    </div>
                </div>
            </div>
            <hr class="bg-secondary">
            <div class="row mt-4">
                <div class="col-md-6">
                    <p class="small"><i class="fas fa-icons me-2"></i>Icons from <a href="https://www.flaticon.com/" target="_blank" class="text-light">Flaticon</a> &amp; <a href="https://fontawesome.com/" target="_blank" class="text-light">Font Awesome</a></p>
                    <p class="small mt-3"><a href="/" class="text-light text-decoration-none">Home</a> | <a href="/disclaimer.html" class="text-light text-decoration-none">Disclaimer</a> | <a href="/privacy-policy.html" class="text-light text-decoration-none">Privacy Policy</a></p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="small">Enjoying this content? ☕ <a href="https://buymeacoffee.com/itswzee" target="_blank" class="text-light" style="text-decoration: underline;">Keep me caffeinated</a> to keep the pixels flowing!</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <button id="scrollToTop" class="scroll-to-top" title="Back to Top"><i class="fas fa-arrow-up"></i></button>
    <!-- Category Indicator -->
    <div id="categoryIndicator" class="category-indicator" title="Current Section">
        <i class="fas fa-tag"></i><span id="categoryText">Technology</span>
    </div>
    <script src="../../../js/cookie-consent.js"></script>
    <script src="../../../js/main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const scrollToTopBtn = document.getElementById('scrollToTop');
            window.addEventListener('scroll', function() { if (window.scrollY > 300) { scrollToTopBtn.classList.add('show'); } else { scrollToTopBtn.classList.remove('show'); } });
            scrollToTopBtn.addEventListener('click', function() { window.scrollTo({ top: 0, behavior: 'smooth' }); });
        });
    </script>

    <script>
        function openNav() { document.getElementById('tocSidenav').classList.add('open'); document.getElementById('tocOverlay').classList.add('show'); document.body.style.overflow = 'hidden'; }
        function closeNav() { document.getElementById('tocSidenav').classList.remove('open'); document.getElementById('tocOverlay').classList.remove('show'); document.body.style.overflow = 'auto'; }
        document.addEventListener('keydown', function(e) { if (e.key === 'Escape') { closeNav(); } });
        document.addEventListener('DOMContentLoaded', function() {
            const sections = document.querySelectorAll('[id]');
            const tocLinks = document.querySelectorAll('.sidenav-toc a');
            function highlightActiveSection() { let currentSection = ''; sections.forEach(section => { if (window.scrollY >= section.offsetTop - 200) { currentSection = section.getAttribute('id'); } }); tocLinks.forEach(link => { link.classList.remove('active'); if (link.getAttribute('href') === '#' + currentSection) { link.classList.add('active'); } }); }
            window.addEventListener('scroll', highlightActiveSection);
            highlightActiveSection();
            tocLinks.forEach(link => { link.addEventListener('click', function(e) { e.preventDefault(); const targetSection = document.querySelector(this.getAttribute('href')); if (targetSection) { window.scrollTo({ top: targetSection.offsetTop - 80, behavior: 'smooth' }); } setTimeout(closeNav, 300); }); });
        });
    </script>

    <script>
        const themes = { 'prism-theme': 'Tomorrow Night', 'prism-default': 'Default', 'prism-dark': 'Dark', 'prism-twilight': 'Twilight', 'prism-okaidia': 'Okaidia', 'prism-solarizedlight': 'Solarized Light' };
        const savedTheme = localStorage.getItem('prism-theme') || 'prism-theme';
        function switchTheme(themeId) { Object.keys(themes).forEach(id => { const link = document.getElementById(id); if (link) { link.disabled = true; } }); const selectedLink = document.getElementById(themeId); if (selectedLink) { selectedLink.disabled = false; localStorage.setItem('prism-theme', themeId); } document.querySelectorAll('div.code-toolbar select').forEach(dropdown => { dropdown.value = themeId; }); setTimeout(() => { Prism.highlightAll(); }, 10); }
        document.addEventListener('DOMContentLoaded', function() { switchTheme(savedTheme); });
        Prism.plugins.toolbar.registerButton('theme-switcher', function(env) { const select = document.createElement('select'); select.className = 'prism-theme-selector'; Object.keys(themes).forEach(themeId => { const option = document.createElement('option'); option.value = themeId; option.textContent = themes[themeId]; if (themeId === savedTheme) { option.selected = true; } select.appendChild(option); }); select.addEventListener('change', function(e) { switchTheme(e.target.value); }); return select; });
    </script>

            <!-- Scroll-to-Top and Category Indicator Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const scrollToTopBtn = document.getElementById('scrollToTop');
            const categoryIndicator = document.getElementById('categoryIndicator');
            const categoryText = document.getElementById('categoryText');
            
            // Auto-detect H2 sections in the article (works with or without id)
            const h2Elements = document.querySelectorAll('.blog-content h2');
            const sections = [];
            h2Elements.forEach(function(h2, index) {
                // Get text without icon
                let text = h2.textContent.trim().replace(/^\d+\.\s*/, '');
                // Truncate to 25 chars
                if (text.length > 25) text = text.substring(0, 22) + '...';
                sections.push({ element: h2, name: text });
            });
            
            // Fallback to article category if no sections found
            const articleCategory = categoryText ? categoryText.textContent : 'Article';
            
            // Show/hide button on scroll and update section
            window.addEventListener('scroll', function() {
                if (window.scrollY > 300) {
                    if (scrollToTopBtn) scrollToTopBtn.classList.add('show');
                    if (categoryIndicator) categoryIndicator.classList.add('show');
                } else {
                    if (scrollToTopBtn) scrollToTopBtn.classList.remove('show');
                    if (categoryIndicator) categoryIndicator.classList.remove('show');
                }
                
                // Update current section
                updateCurrentSection();
            });
            
            // Update section based on viewport position
            function updateCurrentSection() {
                if (!categoryText || sections.length === 0) return;
                
                let currentSection = articleCategory;
                
                for (let section of sections) {
                    const rect = section.element.getBoundingClientRect();
                    if (rect.top <= window.innerHeight / 2) {
                        currentSection = section.name;
                    }
                }
                
                categoryText.textContent = currentSection;
            }
            
            // Smooth scroll to top on click
            if (scrollToTopBtn) {
                scrollToTopBtn.addEventListener('click', function() {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            }
        });
    </script>
</body>
</html>