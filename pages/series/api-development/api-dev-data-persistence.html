<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="robots" content="index, archive" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Master API data persistence - PostgreSQL, MongoDB, DynamoDB integration, CRUD patterns, transactions, indexing, event sourcing, CQRS, and Redis caching." />
    <meta name="author" content="Wasil Zafar" />
    <meta name="keywords" content="Database Integration, PostgreSQL, MongoDB, DynamoDB, CRUD, Transactions, Redis, CQRS, Event Sourcing" />
    <meta property="og:title" content="API Development Series Part 2: Data Layer & Persistence" />
    <meta property="og:description" content="Master database integration, CRUD patterns, transactions, and caching for APIs." />
    <meta property="og:type" content="article" />
    <meta property="article:published_time" content="2026-01-31" />
    <meta property="article:author" content="Wasil Zafar" />
    <meta property="article:section" content="Technology" />
    
    <title>API Development Series Part 2: Data Layer & Persistence - Wasil Zafar</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" />

    <!-- Prism.js Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" id="prism-theme" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" id="prism-default" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-dark.min.css" id="prism-dark" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-twilight.min.css" id="prism-twilight" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css" id="prism-okaidia" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-solarizedlight.min.css" id="prism-solarizedlight" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css" />

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="../../../images/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../images/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../images/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="../../../images/favicon_io/site.webmanifest">

    <!-- Google Consent Mode v2 -->
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('consent', 'default', {
            'ad_storage': 'denied', 'ad_user_data': 'denied', 'ad_personalization': 'denied', 'analytics_storage': 'denied',
            'region': ['AT','BE','BG','HR','CY','CZ','DK','EE','FI','FR','DE','GR','HU','IE','IT','LV','LT','LU','MT','NL','PL','PT','RO','SK','SI','ES','SE']
        });
        gtag('consent', 'default', { 'ad_storage': 'granted', 'ad_user_data': 'granted', 'ad_personalization': 'granted', 'analytics_storage': 'granted' });
        gtag('set', 'url_passthrough', true);
    </script>

    <!-- Google Tag Manager -->
    <script>
        (function(w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
            var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true; j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-PBS8M2JR');
    </script>
</head>
<body>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PBS8M2JR" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <!-- GDPR Cookie Consent Banner -->
    <div id="cookieBanner" class="light display-bottom" style="display: none;">
        <div id="closeIcon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"></path></svg></div>
        <div class="content-wrap">
            <div class="msg-wrap">
                <div class="title-wrap">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="20" height="20"><path fill="#3B9797" d="M510.52 255.82c-69.97-.85-126.47-57.69-126.47-127.86-70.17 0-127-56.49-127.86-126.45-27.26-4.14-55.13.3-79.72 12.82l-69.13 35.22a132.221 132.221 0 0 0-57.79 57.81l-35.1 68.88a132.645 132.645 0 0 0-12.82 80.95l12.08 76.27a132.521 132.521 0 0 0 37.16 70.37l54.64 54.64a132.036 132.036 0 0 0 70.37 37.16l76.27 12.15c27.51 4.36 55.7-.11 80.95-12.8l68.88-35.08a132.166 132.166 0 0 0 57.79-57.81l35.1-68.88c12.56-24.64 17.01-52.58 12.91-79.91zM176 368c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm32-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm160 128c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"></path></svg>
                    <h4 style="margin: 0; font-size: 18px; color: var(--color-navy); font-weight: 700;">Cookie Consent</h4>
                </div>
                <p style="font-size: 14px; line-height: 1.6; color: var(--color-navy); margin-bottom: 15px;">We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies. See our <a href="/privacy-policy.html" style="color: var(--color-teal); border-bottom: 1px dotted var(--color-teal);">Privacy Policy</a> for more information.</p>
                <div id="cookieSettings" style="display: none;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="14" height="14"><path fill="currentColor" d="M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"></path></svg><span style="margin-left: 5px; font-size: 12px; font-weight: 600; color: var(--color-navy);">Customize Settings</span></div>
                <div id="cookieTypes" style="display: none; margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(59, 151, 151, 0.2);">
                    <h5 style="font-size: 12px; font-weight: 700; color: var(--color-navy); margin-bottom: 10px; text-transform: uppercase;">Cookie Preferences</h5>
                    <div style="margin-bottom: 12px;"><label style="display: flex; align-items: start; cursor: pointer;"><input type="checkbox" checked disabled style="margin-top: 2px; margin-right: 8px; cursor: not-allowed;"><div><strong style="font-size: 13px; color: var(--color-navy); display: block; margin-bottom: 2px;">Essential Cookies (Required)</strong><span style="font-size: 12px; color: #666;">Necessary for the website to function properly.</span></div></label></div>
                    <div style="margin-bottom: 12px;"><label style="display: flex; align-items: start; cursor: pointer;"><input type="checkbox" id="analyticsCookies" checked style="margin-top: 2px; margin-right: 8px;"><div><strong style="font-size: 13px; color: var(--color-navy); display: block; margin-bottom: 2px;">Analytics Cookies</strong><span style="font-size: 12px; color: #666;">Help us understand how you interact with the website.</span></div></label></div>
                    <div style="margin-bottom: 12px;"><label style="display: flex; align-items: start; cursor: pointer;"><input type="checkbox" id="marketingCookies" style="margin-top: 2px; margin-right: 8px;"><div><strong style="font-size: 13px; color: var(--color-navy); display: block; margin-bottom: 2px;">Marketing Cookies</strong><span style="font-size: 12px; color: #666;">Used to deliver relevant advertisements.</span></div></label></div>
                </div>
            </div>
            <div class="btn-wrap">
                <button id="cookieAccept" style="background: var(--color-teal); color: white; font-weight: 600;">Accept All</button>
                <button id="cookieReject" style="background: transparent; color: var(--color-navy); border: 2px solid var(--color-teal); font-weight: 600;">Reject All</button>
                <button id="cookieSave" style="background: var(--color-blue); color: white; font-weight: 600; display: none;">Save Preferences</button>
            </div>
        </div>
    </div>

    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="/"><span class="gradient-text">Wasil Zafar</span></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#about">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#skills">Skills</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#certifications">Certifications</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#interests">Interests</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="blog-hero">
        <div class="container py-5">
            <div class="blog-header">
                <a href="../../categories/technology.html" class="back-link"><i class="fas fa-arrow-left me-2"></i>Back to Technology</a>
                <h1 class="display-4 fw-bold mb-3">API Development Series Part 2: Data Layer & Persistence</h1>
                <div class="blog-meta">
                    <span><i class="fas fa-calendar me-2"></i>January 31, 2026</span>
                    <span><i class="fas fa-user me-2"></i>Wasil Zafar</span>
                    <span class="reading-time"><i class="fas fa-clock me-1"></i>30 min read</span>
                    <button onclick="window.print()" class="print-btn" title="Print this article"><i class="fas fa-print"></i> Print</button>
                </div>
                <p class="lead">Master API data persistence including PostgreSQL, MongoDB, DynamoDB integration, CRUD patterns, transactions, indexing, event sourcing, CQRS, and Redis caching.</p>
            </div>
        </div>
    </section>

    <!-- Table of Contents Toggle Button -->
    <button class="toc-toggle-btn" onclick="openNav()" title="Table of Contents" aria-label="Open Table of Contents"><i class="fas fa-list"></i></button>

    <!-- Side Navigation TOC -->
    <div id="tocSidenav" class="sidenav-toc">
        <div class="toc-header"><h3><i class="fas fa-list me-2"></i>Table of Contents</h3><button class="closebtn" onclick="closeNav()" aria-label="Close Table of Contents">&times;</button></div>
        <ol>
            <li><a href="#relational-dbs" onclick="closeNav()">Relational Databases</a></li>
            <li><a href="#nosql-dbs" onclick="closeNav()">NoSQL Databases</a></li>
            <li><a href="#crud-patterns" onclick="closeNav()">CRUD vs DDD Patterns</a></li>
            <li><a href="#transactions" onclick="closeNav()">Transactions & Indexing</a></li>
            <li><a href="#event-sourcing" onclick="closeNav()">Event Sourcing & CQRS</a></li>
            <li><a href="#redis-caching" onclick="closeNav()">Redis Caching</a></li>
        </ol>
    </div>
    <div id="tocOverlay" class="sidenav-overlay" onclick="closeNav()"></div>

    <!-- Main Content -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                <div class="blog-content">
                    
                    <div class="highlight-box highlight-crimson">
                        <i class="fas fa-rocket me-2"></i>
                        <strong>Series Navigation:</strong> This is Part 2 of the 17-part API Development Series. <a href="api-dev-backend-fundamentals.html">Start with Part 1: Backend Fundamentals</a> if you haven't already.
                    </div>

                    <div class="experiment-card">
                        <h4><i class="fas fa-map-signs me-2"></i>Complete Series Navigation</h4>
                        <div class="meta mb-2">
                            <span class="badge bg-teal me-2">17-Part Series</span>
                            <span class="badge bg-crimson">API Development Mastery</span>
                        </div>
                        <div class="content">
                            <ol>
                                <li><a href="api-dev-backend-fundamentals.html">Backend API Fundamentals</a> - REST, HTTP, status codes, URI design</li>
                                <li><strong>Data Layer & Persistence (This Guide)</strong> - Database integration, CRUD, transactions, Redis</li>
                                <li><a href="api-dev-openapi-specification.html">OpenAPI Specification</a> - Contract-first design, OpenAPI 3.0/3.1</li>
                                <li><a href="api-dev-documentation-dx.html">Documentation & DX</a> - Swagger UI, Redoc, developer portals</li>
                                <li><a href="api-dev-authentication-authorization.html">Authentication & Authorization</a> - OAuth 2.0, JWT, RBAC, ABAC</li>
                                <li><a href="api-dev-security-hardening.html">Security Hardening</a> - OWASP Top 10, input validation, CORS</li>
                                <li><a href="api-dev-aws-api-gateway.html">AWS API Gateway</a> - REST/HTTP APIs, Lambda integration, WAF</li>
                                <li><a href="api-dev-azure-apim.html">Azure API Management</a> - Policies, products, developer portal</li>
                                <li><a href="api-dev-gcp-apigee.html">GCP Apigee</a> - API proxies, monetization, analytics</li>
                                <li><a href="api-dev-architecture-patterns.html">Architecture Patterns</a> - Gateway, BFF, microservices, DDD</li>
                                <li><a href="api-dev-versioning-governance.html">Versioning & Governance</a> - SemVer, deprecation, lifecycle</li>
                                <li><a href="api-dev-monitoring-analytics.html">Monitoring & Analytics</a> - Observability, tracing, SLIs/SLOs</li>
                                <li><a href="api-dev-performance-rate-limiting.html">Performance & Rate Limiting</a> - Caching, throttling, load testing</li>
                                <li><a href="api-dev-graphql-grpc.html">GraphQL & gRPC</a> - Alternative API styles, Protocol Buffers</li>
                                <li><a href="api-dev-testing-contracts.html">Testing & Contracts</a> - Contract testing, Pact, Postman/Newman</li>
                                <li><a href="api-dev-cicd-automation.html">CI/CD & Automation</a> - Spectral, GitHub Actions, Terraform</li>
                                <li><a href="api-dev-product-management.html">API Product Management</a> - API as Product, monetization, ecosystems</li>
                            </ol>
                        </div>
                    </div>

                    <h2 id="relational-dbs"><i class="fas fa-database me-2 text-teal"></i>Relational Databases</h2>
                    
                    <h3>Understanding SQL Databases</h3>
                    <p><strong>Relational databases</strong> store data in tables with predefined schemas and relationships. They use SQL (Structured Query Language) for data manipulation and are ideal when data integrity and complex queries are priorities.</p>

                    <div class="highlight-box">
                        <i class="fas fa-lightbulb me-2"></i>
                        <strong>When to Use SQL:</strong> Choose relational databases when you need ACID transactions, complex joins, strict data consistency, or have well-defined, structured data with clear relationships.
                    </div>

                    <h4>Popular Relational Databases</h4>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Database</th>
                                <th>Best For</th>
                                <th>Cloud Options</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>PostgreSQL</strong></td>
                                <td>Complex queries, JSON support, extensibility</td>
                                <td>AWS RDS, Azure Database, Cloud SQL</td>
                            </tr>
                            <tr>
                                <td><strong>MySQL/MariaDB</strong></td>
                                <td>Web applications, read-heavy workloads</td>
                                <td>AWS RDS, Azure Database, Cloud SQL</td>
                            </tr>
                            <tr>
                                <td><strong>SQL Server</strong></td>
                                <td>Enterprise, .NET integration</td>
                                <td>Azure SQL, AWS RDS</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3>Database Schema Design</h3>
<pre><code class="language-sql">-- Example: E-commerce database schema
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    email VARCHAR(255) UNIQUE NOT NULL,
    name VARCHAR(100) NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    status VARCHAR(20) DEFAULT 'active',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE products (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    description TEXT,
    price DECIMAL(10, 2) NOT NULL,
    stock_quantity INTEGER DEFAULT 0,
    category_id INTEGER REFERENCES categories(id),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE orders (
    id SERIAL PRIMARY KEY,
    user_id INTEGER NOT NULL REFERENCES users(id),
    status VARCHAR(50) DEFAULT 'pending',
    total_amount DECIMAL(10, 2) NOT NULL,
    shipping_address JSONB,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE order_items (
    id SERIAL PRIMARY KEY,
    order_id INTEGER NOT NULL REFERENCES orders(id) ON DELETE CASCADE,
    product_id INTEGER NOT NULL REFERENCES products(id),
    quantity INTEGER NOT NULL CHECK (quantity > 0),
    unit_price DECIMAL(10, 2) NOT NULL,
    UNIQUE(order_id, product_id)
);

-- Indexes for common queries
CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_orders_user_id ON orders(user_id);
CREATE INDEX idx_orders_status ON orders(status);
CREATE INDEX idx_order_items_order_id ON order_items(order_id);</code></pre>

                    <h3>Connecting from Node.js</h3>
<pre><code class="language-javascript">// database/connection.js
const { Pool } = require('pg');

// Connection pool configuration
const pool = new Pool({
  host: process.env.DB_HOST,
  port: process.env.DB_PORT || 5432,
  database: process.env.DB_NAME,
  user: process.env.DB_USER,
  password: process.env.DB_PASSWORD,
  max: 20,               // Maximum connections in pool
  idleTimeoutMillis: 30000,
  connectionTimeoutMillis: 2000,
  ssl: process.env.NODE_ENV === 'production' ? { rejectUnauthorized: false } : false
});

// Test connection
pool.on('connect', () => {
  console.log('Connected to PostgreSQL database');
});

pool.on('error', (err) => {
  console.error('Database pool error:', err);
  process.exit(-1);
});

module.exports = {
  query: (text, params) => pool.query(text, params),
  getClient: () => pool.connect(),
  pool
};</code></pre>

                    <h2 id="nosql-dbs"><i class="fas fa-leaf me-2 text-teal"></i>NoSQL Databases</h2>

                    <h3>Types of NoSQL Databases</h3>
                    
                    <div class="experiment-card">
                        <h4><i class="fas fa-database me-2"></i>NoSQL Database Categories</h4>
                        <div class="meta mb-2">
                            <span class="badge bg-teal me-2">Reference</span>
                        </div>
                        <div class="content">
                            <table class="table table-bordered">
                                <thead class="table-dark">
                                    <tr>
                                        <th>Type</th>
                                        <th>Examples</th>
                                        <th>Best For</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>Document</strong></td>
                                        <td>MongoDB, CouchDB, Firebase</td>
                                        <td>Flexible schemas, nested data, rapid development</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Key-Value</strong></td>
                                        <td>Redis, DynamoDB, Memcached</td>
                                        <td>Caching, sessions, simple lookups</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Wide-Column</strong></td>
                                        <td>Cassandra, HBase, Bigtable</td>
                                        <td>Time-series, write-heavy workloads</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Graph</strong></td>
                                        <td>Neo4j, Neptune, ArangoDB</td>
                                        <td>Social networks, recommendations</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <h3>MongoDB: Document Database</h3>
<pre><code class="language-javascript">// database/mongodb.js
const { MongoClient } = require('mongodb');

const uri = process.env.MONGODB_URI;
const client = new MongoClient(uri, {
  maxPoolSize: 50,
  wtimeoutMS: 2500,
  useNewUrlParser: true,
  useUnifiedTopology: true
});

let db;

async function connectDB() {
  try {
    await client.connect();
    db = client.db(process.env.DB_NAME);
    console.log('Connected to MongoDB');
    
    // Create indexes
    await db.collection('users').createIndex({ email: 1 }, { unique: true });
    await db.collection('orders').createIndex({ userId: 1, createdAt: -1 });
    
    return db;
  } catch (error) {
    console.error('MongoDB connection error:', error);
    process.exit(1);
  }
}

function getDB() {
  if (!db) throw new Error('Database not initialized');
  return db;
}

module.exports = { connectDB, getDB };</code></pre>

<pre><code class="language-javascript">// repositories/userRepository.mongodb.js
const { ObjectId } = require('mongodb');
const { getDB } = require('../database/mongodb');

class UserRepository {
  constructor() {
    this.collection = () => getDB().collection('users');
  }

  async findAll({ limit = 10, cursor, filters = {} }) {
    const query = { ...filters };
    
    if (cursor) {
      query._id = { $lt: new ObjectId(cursor) };
    }
    
    const results = await this.collection()
      .find(query)
      .sort({ _id: -1 })
      .limit(limit + 1)
      .toArray();
    
    const hasMore = results.length > limit;
    const data = hasMore ? results.slice(0, -1) : results;
    
    return {
      data: data.map(this.mapToUser),
      pagination: {
        next_cursor: hasMore ? data[data.length - 1]._id.toString() : null,
        has_more: hasMore
      }
    };
  }

  async findById(id) {
    const doc = await this.collection().findOne({ _id: new ObjectId(id) });
    return doc ? this.mapToUser(doc) : null;
  }

  async create(userData) {
    const doc = {
      ...userData,
      createdAt: new Date(),
      updatedAt: new Date()
    };
    
    const result = await this.collection().insertOne(doc);
    return this.findById(result.insertedId);
  }

  async update(id, updates) {
    const result = await this.collection().findOneAndUpdate(
      { _id: new ObjectId(id) },
      { 
        $set: { ...updates, updatedAt: new Date() }
      },
      { returnDocument: 'after' }
    );
    
    return result.value ? this.mapToUser(result.value) : null;
  }

  mapToUser(doc) {
    return {
      id: doc._id.toString(),
      email: doc.email,
      name: doc.name,
      status: doc.status,
      created_at: doc.createdAt,
      updated_at: doc.updatedAt
    };
  }
}

module.exports = new UserRepository();</code></pre>

                    <div class="highlight-box highlight-crimson">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        <strong>SQL vs NoSQL Decision:</strong> Don't choose based on hype. Consider: Do you need ACID transactions? Complex joins? Flexible schemas? Write-heavy or read-heavy? Many successful APIs use PostgreSQL with JSONB columns for the best of both worlds.
                    </div>

                    <h2 id="crud-patterns"><i class="fas fa-cogs me-2 text-teal"></i>CRUD vs DDD Patterns</h2>

                    <h3>Traditional CRUD Repository</h3>
                    <p>CRUD (Create, Read, Update, Delete) is a simple pattern that maps directly to database operations. It works well for straightforward data management.</p>

<pre><code class="language-javascript">// repositories/productRepository.js
const db = require('../database');

class ProductRepository {
  // CREATE
  async create(productData) {
    const [id] = await db('products').insert({
      name: productData.name,
      description: productData.description,
      price: productData.price,
      stock_quantity: productData.stockQuantity,
      category_id: productData.categoryId
    });
    return this.findById(id);
  }

  // READ (single)
  async findById(id) {
    return db('products')
      .where('id', id)
      .first();
  }

  // READ (collection)
  async findAll({ limit = 10, offset = 0, categoryId }) {
    let query = db('products').select('*').limit(limit).offset(offset);
    
    if (categoryId) {
      query = query.where('category_id', categoryId);
    }
    
    return query;
  }

  // UPDATE
  async update(id, updates) {
    await db('products')
      .where('id', id)
      .update({
        ...updates,
        updated_at: new Date()
      });
    return this.findById(id);
  }

  // DELETE
  async delete(id) {
    return db('products')
      .where('id', id)
      .del();
  }
}

module.exports = new ProductRepository();</code></pre>

                    <h3>Domain-Driven Design (DDD) Approach</h3>
                    <p>For complex business domains, DDD separates domain logic from infrastructure concerns. Entities encapsulate business rules, and repositories handle persistence.</p>

<pre><code class="language-javascript">// domain/entities/Order.js
class Order {
  constructor({ id, userId, items = [], status = 'draft', createdAt }) {
    this.id = id;
    this.userId = userId;
    this.items = items;
    this.status = status;
    this.createdAt = createdAt || new Date();
  }

  // Business logic encapsulated in the entity
  addItem(product, quantity) {
    if (this.status !== 'draft') {
      throw new Error('Cannot modify a submitted order');
    }
    
    const existingItem = this.items.find(i => i.productId === product.id);
    
    if (existingItem) {
      existingItem.quantity += quantity;
    } else {
      this.items.push({
        productId: product.id,
        name: product.name,
        quantity,
        unitPrice: product.price
      });
    }
  }

  removeItem(productId) {
    if (this.status !== 'draft') {
      throw new Error('Cannot modify a submitted order');
    }
    this.items = this.items.filter(i => i.productId !== productId);
  }

  calculateTotal() {
    return this.items.reduce(
      (sum, item) => sum + (item.unitPrice * item.quantity), 
      0
    );
  }

  submit() {
    if (this.items.length === 0) {
      throw new Error('Cannot submit an empty order');
    }
    if (this.status !== 'draft') {
      throw new Error('Order already submitted');
    }
    this.status = 'pending';
    this.submittedAt = new Date();
  }

  markPaid() {
    if (this.status !== 'pending') {
      throw new Error('Only pending orders can be paid');
    }
    this.status = 'paid';
    this.paidAt = new Date();
  }

  cancel() {
    if (['shipped', 'delivered'].includes(this.status)) {
      throw new Error('Cannot cancel shipped or delivered orders');
    }
    this.status = 'cancelled';
    this.cancelledAt = new Date();
  }
}

module.exports = Order;</code></pre>

<pre><code class="language-javascript">// domain/repositories/OrderRepository.js (Interface/Port)
class OrderRepository {
  async findById(id) { throw new Error('Not implemented'); }
  async findByUserId(userId) { throw new Error('Not implemented'); }
  async save(order) { throw new Error('Not implemented'); }
  async delete(id) { throw new Error('Not implemented'); }
}

// infrastructure/repositories/PostgresOrderRepository.js
const db = require('../../database');
const Order = require('../../domain/entities/Order');

class PostgresOrderRepository {
  async findById(id) {
    const orderData = await db('orders').where('id', id).first();
    if (!orderData) return null;
    
    const items = await db('order_items').where('order_id', id);
    
    return new Order({
      id: orderData.id,
      userId: orderData.user_id,
      status: orderData.status,
      items: items.map(i => ({
        productId: i.product_id,
        name: i.name,
        quantity: i.quantity,
        unitPrice: parseFloat(i.unit_price)
      })),
      createdAt: orderData.created_at
    });
  }

  async save(order) {
    const trx = await db.transaction();
    
    try {
      if (order.id) {
        // Update existing order
        await trx('orders')
          .where('id', order.id)
          .update({
            status: order.status,
            total_amount: order.calculateTotal(),
            updated_at: new Date()
          });
        
        // Replace items
        await trx('order_items').where('order_id', order.id).del();
      } else {
        // Insert new order
        const [id] = await trx('orders').insert({
          user_id: order.userId,
          status: order.status,
          total_amount: order.calculateTotal(),
          created_at: order.createdAt
        });
        order.id = id;
      }
      
      // Insert items
      if (order.items.length > 0) {
        await trx('order_items').insert(
          order.items.map(item => ({
            order_id: order.id,
            product_id: item.productId,
            name: item.name,
            quantity: item.quantity,
            unit_price: item.unitPrice
          }))
        );
      }
      
      await trx.commit();
      return order;
    } catch (error) {
      await trx.rollback();
      throw error;
    }
  }
}

module.exports = PostgresOrderRepository;</code></pre>

                    <h2 id="transactions"><i class="fas fa-sync-alt me-2 text-teal"></i>Transactions & Indexing</h2>

                    <h3>Understanding ACID Transactions</h3>
                    <div class="highlight-box">
                        <i class="fas fa-info-circle me-2"></i>
                        <strong>ACID Properties:</strong>
                        <ul>
                            <li><strong>Atomicity:</strong> All operations succeed or all fail</li>
                            <li><strong>Consistency:</strong> Database remains in a valid state</li>
                            <li><strong>Isolation:</strong> Concurrent transactions don't interfere</li>
                            <li><strong>Durability:</strong> Committed transactions survive failures</li>
                        </ul>
                    </div>

                    <h4>Transaction Implementation</h4>
<pre><code class="language-javascript">// services/orderService.js
const db = require('../database');

class OrderService {
  async createOrder(userId, items) {
    const trx = await db.transaction();
    
    try {
      // 1. Validate stock availability
      for (const item of items) {
        const product = await trx('products')
          .where('id', item.productId)
          .forUpdate()  // Lock the row
          .first();
        
        if (!product) {
          throw new Error(`Product ${item.productId} not found`);
        }
        
        if (product.stock_quantity < item.quantity) {
          throw new Error(`Insufficient stock for ${product.name}`);
        }
      }
      
      // 2. Calculate total
      const total = items.reduce((sum, item) => 
        sum + (item.unitPrice * item.quantity), 0
      );
      
      // 3. Create order
      const [orderId] = await trx('orders').insert({
        user_id: userId,
        status: 'pending',
        total_amount: total,
        created_at: new Date()
      });
      
      // 4. Create order items
      await trx('order_items').insert(
        items.map(item => ({
          order_id: orderId,
          product_id: item.productId,
          quantity: item.quantity,
          unit_price: item.unitPrice
        }))
      );
      
      // 5. Reduce stock
      for (const item of items) {
        await trx('products')
          .where('id', item.productId)
          .decrement('stock_quantity', item.quantity);
      }
      
      // 6. Commit transaction
      await trx.commit();
      
      return { orderId, total };
      
    } catch (error) {
      // Rollback on any error
      await trx.rollback();
      throw error;
    }
  }
}

module.exports = new OrderService();</code></pre>

                    <h3>Database Indexing</h3>
                    <p>Indexes dramatically improve query performance but add write overhead. Choose indexes based on your query patterns.</p>

<pre><code class="language-sql">-- B-Tree indexes (default) - Good for equality and range queries
CREATE INDEX idx_products_category ON products(category_id);
CREATE INDEX idx_orders_created ON orders(created_at DESC);

-- Composite indexes - Order matters! Left-to-right prefix matching
CREATE INDEX idx_orders_user_status ON orders(user_id, status);
-- This index helps: WHERE user_id = ? AND status = ?
-- Also helps: WHERE user_id = ?
-- Does NOT help: WHERE status = ? (needs separate index)

-- Partial indexes - Index only relevant rows
CREATE INDEX idx_orders_pending ON orders(user_id) 
WHERE status = 'pending';

-- Expression indexes
CREATE INDEX idx_users_lower_email ON users(LOWER(email));

-- GIN indexes for JSON (PostgreSQL)
CREATE INDEX idx_orders_shipping ON orders USING GIN (shipping_address);

-- Full-text search
CREATE INDEX idx_products_search ON products 
USING GIN (to_tsvector('english', name || ' ' || description));</code></pre>

                    <div class="experiment-card">
                        <h4><i class="fas fa-search me-2"></i>Index Analysis with EXPLAIN</h4>
                        <div class="meta mb-2">
                            <span class="badge bg-teal">Performance</span>
                        </div>
                        <div class="content">
<pre><code class="language-sql">-- Check if your query uses indexes
EXPLAIN ANALYZE 
SELECT * FROM orders 
WHERE user_id = 123 AND status = 'pending';

-- Output shows:
-- Index Scan using idx_orders_user_status on orders
--   Index Cond: ((user_id = 123) AND (status = 'pending'))
--   Execution Time: 0.05 ms

-- vs Sequential Scan (bad for large tables):
-- Seq Scan on orders
--   Filter: ((user_id = 123) AND (status = 'pending'))
--   Execution Time: 150 ms</code></pre>
                        </div>
                    </div>

                    <h2 id="event-sourcing"><i class="fas fa-stream me-2 text-teal"></i>Event Sourcing & CQRS</h2>

                    <h3>Understanding Event Sourcing</h3>
                    <p>Instead of storing current state, <strong>Event Sourcing</strong> stores all events that led to the current state. This provides a complete audit trail and enables powerful patterns like temporal queries and event replay.</p>

<pre><code class="language-javascript">// events/orderEvents.js
class OrderCreated {
  constructor(orderId, userId, items, timestamp = new Date()) {
    this.type = 'OrderCreated';
    this.aggregateId = orderId;
    this.payload = { userId, items };
    this.timestamp = timestamp;
  }
}

class ItemAddedToOrder {
  constructor(orderId, productId, quantity, unitPrice) {
    this.type = 'ItemAddedToOrder';
    this.aggregateId = orderId;
    this.payload = { productId, quantity, unitPrice };
    this.timestamp = new Date();
  }
}

class OrderSubmitted {
  constructor(orderId) {
    this.type = 'OrderSubmitted';
    this.aggregateId = orderId;
    this.payload = {};
    this.timestamp = new Date();
  }
}

// Event Store
class EventStore {
  constructor(db) {
    this.db = db;
  }

  async append(event) {
    await this.db('events').insert({
      aggregate_id: event.aggregateId,
      type: event.type,
      payload: JSON.stringify(event.payload),
      timestamp: event.timestamp
    });
  }

  async getEvents(aggregateId) {
    const rows = await this.db('events')
      .where('aggregate_id', aggregateId)
      .orderBy('timestamp', 'asc');
    
    return rows.map(row => ({
      type: row.type,
      aggregateId: row.aggregate_id,
      payload: JSON.parse(row.payload),
      timestamp: row.timestamp
    }));
  }
}

// Order Aggregate - Rebuilds state from events
class OrderAggregate {
  constructor() {
    this.id = null;
    this.userId = null;
    this.items = [];
    this.status = 'draft';
  }

  // Apply events to rebuild state
  apply(event) {
    switch (event.type) {
      case 'OrderCreated':
        this.id = event.aggregateId;
        this.userId = event.payload.userId;
        this.status = 'draft';
        break;
      case 'ItemAddedToOrder':
        this.items.push(event.payload);
        break;
      case 'OrderSubmitted':
        this.status = 'pending';
        break;
    }
    return this;
  }

  // Rebuild from event stream
  static fromEvents(events) {
    const order = new OrderAggregate();
    events.forEach(e => order.apply(e));
    return order;
  }
}</code></pre>

                    <h3>CQRS Pattern</h3>
                    <p><strong>CQRS (Command Query Responsibility Segregation)</strong> separates read and write models. Commands modify data, queries read dataâ€”often from different optimized stores.</p>

<pre><code class="language-javascript">// Write side - Commands
class CreateOrderCommand {
  constructor(userId, items) {
    this.userId = userId;
    this.items = items;
  }
}

class OrderCommandHandler {
  constructor(eventStore) {
    this.eventStore = eventStore;
  }

  async handle(command) {
    if (command instanceof CreateOrderCommand) {
      const orderId = generateId();
      const event = new OrderCreated(
        orderId, 
        command.userId, 
        command.items
      );
      await this.eventStore.append(event);
      return orderId;
    }
  }
}

// Read side - Projections
class OrderProjection {
  constructor(db) {
    this.db = db;
  }

  // Update read model when events occur
  async project(event) {
    switch (event.type) {
      case 'OrderCreated':
        await this.db('order_read_model').insert({
          id: event.aggregateId,
          user_id: event.payload.userId,
          status: 'draft',
          total: 0,
          item_count: 0,
          created_at: event.timestamp
        });
        break;
        
      case 'ItemAddedToOrder':
        await this.db('order_read_model')
          .where('id', event.aggregateId)
          .increment('item_count', 1)
          .increment('total', 
            event.payload.quantity * event.payload.unitPrice
          );
        break;
        
      case 'OrderSubmitted':
        await this.db('order_read_model')
          .where('id', event.aggregateId)
          .update({ status: 'pending' });
        break;
    }
  }
}

// Query Handler - Fast reads from denormalized view
class OrderQueryHandler {
  constructor(db) {
    this.db = db;
  }

  async getOrderSummary(orderId) {
    return this.db('order_read_model')
      .where('id', orderId)
      .first();
  }

  async getUserOrders(userId, status) {
    return this.db('order_read_model')
      .where('user_id', userId)
      .modify(query => {
        if (status) query.where('status', status);
      })
      .orderBy('created_at', 'desc');
  }
}</code></pre>

                    <h2 id="redis-caching"><i class="fas fa-bolt me-2 text-teal"></i>Redis Caching</h2>

                    <h3>Why Cache?</h3>
                    <p>Caching dramatically reduces database load and improves response times. Redis is an in-memory data store perfect for caching, sessions, and real-time features.</p>

                    <div class="highlight-box highlight-navy">
                        <i class="fas fa-info-circle me-2"></i>
                        <strong>Cache Hit Ratio:</strong> Aim for 90%+ cache hit ratio. A well-cached API can handle 10-100x more traffic without scaling the database.
                    </div>

                    <h3>Redis Connection Setup</h3>
<pre><code class="language-javascript">// cache/redis.js
const Redis = require('ioredis');

const redis = new Redis({
  host: process.env.REDIS_HOST,
  port: process.env.REDIS_PORT || 6379,
  password: process.env.REDIS_PASSWORD,
  maxRetriesPerRequest: 3,
  retryDelayOnFailover: 100,
  enableReadyCheck: true
});

redis.on('connect', () => console.log('Redis connected'));
redis.on('error', (err) => console.error('Redis error:', err));

module.exports = redis;</code></pre>

                    <h3>Caching Patterns</h3>

                    <h4>Cache-Aside (Lazy Loading)</h4>
<pre><code class="language-javascript">// services/productService.js
const redis = require('../cache/redis');
const productRepository = require('../repositories/productRepository');

class ProductService {
  constructor() {
    this.CACHE_TTL = 3600; // 1 hour
  }

  async getProduct(id) {
    const cacheKey = `product:${id}`;
    
    // 1. Try cache first
    const cached = await redis.get(cacheKey);
    if (cached) {
      console.log('Cache HIT:', cacheKey);
      return JSON.parse(cached);
    }
    
    console.log('Cache MISS:', cacheKey);
    
    // 2. Fetch from database
    const product = await productRepository.findById(id);
    if (!product) return null;
    
    // 3. Store in cache
    await redis.setex(cacheKey, this.CACHE_TTL, JSON.stringify(product));
    
    return product;
  }

  async updateProduct(id, updates) {
    const product = await productRepository.update(id, updates);
    
    // Invalidate cache
    await redis.del(`product:${id}`);
    
    return product;
  }
}</code></pre>

                    <h4>Write-Through Cache</h4>
<pre><code class="language-javascript">// Write-through: Update cache immediately on write
async createProduct(data) {
  // 1. Write to database
  const product = await productRepository.create(data);
  
  // 2. Write to cache immediately
  const cacheKey = `product:${product.id}`;
  await redis.setex(cacheKey, this.CACHE_TTL, JSON.stringify(product));
  
  return product;
}</code></pre>

                    <h4>Caching Collections with Tags</h4>
<pre><code class="language-javascript">// Cache list with tags for invalidation
async getProductsByCategory(categoryId) {
  const cacheKey = `products:category:${categoryId}`;
  
  const cached = await redis.get(cacheKey);
  if (cached) return JSON.parse(cached);
  
  const products = await productRepository.findByCategory(categoryId);
  
  // Store with tag for bulk invalidation
  const pipeline = redis.pipeline();
  pipeline.setex(cacheKey, this.CACHE_TTL, JSON.stringify(products));
  pipeline.sadd(`tags:category:${categoryId}`, cacheKey);
  await pipeline.exec();
  
  return products;
}

// Invalidate all caches for a category
async invalidateCategoryCache(categoryId) {
  const tagKey = `tags:category:${categoryId}`;
  const keys = await redis.smembers(tagKey);
  
  if (keys.length > 0) {
    await redis.del(...keys, tagKey);
  }
}</code></pre>

                    <h3>Session Storage with Redis</h3>
<pre><code class="language-javascript">// middleware/session.js
const session = require('express-session');
const RedisStore = require('connect-redis').default;
const redis = require('../cache/redis');

const sessionMiddleware = session({
  store: new RedisStore({ client: redis }),
  secret: process.env.SESSION_SECRET,
  resave: false,
  saveUninitialized: false,
  cookie: {
    secure: process.env.NODE_ENV === 'production',
    httpOnly: true,
    maxAge: 24 * 60 * 60 * 1000 // 24 hours
  }
});

module.exports = sessionMiddleware;</code></pre>

                    <h3>Rate Limiting with Redis</h3>
<pre><code class="language-javascript">// middleware/rateLimiter.js
const redis = require('../cache/redis');

function rateLimiter({ windowMs = 60000, max = 100 }) {
  return async (req, res, next) => {
    const key = `ratelimit:${req.ip}`;
    
    const current = await redis.incr(key);
    
    if (current === 1) {
      await redis.pexpire(key, windowMs);
    }
    
    res.setHeader('X-RateLimit-Limit', max);
    res.setHeader('X-RateLimit-Remaining', Math.max(0, max - current));
    
    if (current > max) {
      const ttl = await redis.pttl(key);
      res.setHeader('Retry-After', Math.ceil(ttl / 1000));
      
      return res.status(429).json({
        type: 'https://api.example.com/errors/rate-limit',
        title: 'Too Many Requests',
        status: 429,
        detail: `Rate limit exceeded. Try again in ${Math.ceil(ttl / 1000)} seconds`
      });
    }
    
    next();
  };
}

// Usage
app.use('/api', rateLimiter({ windowMs: 60000, max: 100 }));</code></pre>

                    <h3 id="exercises">Practice Exercises</h3>
                    
                    <div class="experiment-card">
                        <h4><i class="fas fa-laptop-code me-2"></i>Exercise 1: Implement Repository Pattern</h4>
                        <div class="meta mb-2">
                            <span class="badge bg-teal">Beginner</span>
                            <span class="badge bg-navy">30 minutes</span>
                        </div>
                        <div class="content">
                            <p>Create a repository for a "Task" entity with:</p>
                            <ul>
                                <li>PostgreSQL implementation with proper connection pooling</li>
                                <li>CRUD operations with parameterized queries</li>
                                <li>Cursor-based pagination</li>
                                <li>Filtering by status and due date</li>
                            </ul>
                        </div>
                    </div>

                    <div class="experiment-card">
                        <h4><i class="fas fa-laptop-code me-2"></i>Exercise 2: Add Caching Layer</h4>
                        <div class="meta mb-2">
                            <span class="badge bg-teal">Intermediate</span>
                            <span class="badge bg-navy">45 minutes</span>
                        </div>
                        <div class="content">
                            <p>Add Redis caching to your Task repository:</p>
                            <ul>
                                <li>Cache individual tasks with cache-aside pattern</li>
                                <li>Cache task lists with proper invalidation</li>
                                <li>Implement cache warming on startup</li>
                                <li>Add cache hit/miss metrics</li>
                            </ul>
                        </div>
                    </div>

                    <div class="experiment-card">
                        <h4><i class="fas fa-laptop-code me-2"></i>Exercise 3: Build Event-Sourced Aggregate</h4>
                        <div class="meta mb-2">
                            <span class="badge bg-crimson">Advanced</span>
                            <span class="badge bg-navy">60 minutes</span>
                        </div>
                        <div class="content">
                            <p>Implement an event-sourced "Project" aggregate:</p>
                            <ul>
                                <li>Events: ProjectCreated, TaskAdded, TaskCompleted, ProjectArchived</li>
                                <li>Rebuild state from event stream</li>
                                <li>Create a read projection for fast queries</li>
                                <li>Implement a command handler</li>
                            </ul>
                        </div>
                    </div>

                    <div class="highlight-box highlight-navy">
                        <i class="fas fa-forward text-primary me-2"></i>
                        <strong>Next Steps:</strong> In <a href="api-dev-openapi-specification.html" style="color: var(--color-crimson);">Part 3: OpenAPI Specification</a>, we'll learn contract-first API design, defining your API's interface before writing code.
                    </div>

                    <!-- Related Posts -->
                    <div class="related-posts">
                        <h3><i class="fas fa-book-reader me-2"></i>Continue the Series</h3>
                        <div class="related-post-item">
                            <h5 class="mb-2">Part 1: Backend API Fundamentals</h5>
                            <p class="text-muted small mb-2">Master REST, HTTP methods, status codes, and backend architecture.</p>
                            <a href="api-dev-backend-fundamentals.html" class="text-decoration-none">Read Article <i class="fas fa-arrow-right ms-1"></i></a>
                        </div>
                        <div class="related-post-item">
                            <h5 class="mb-2">Part 3: OpenAPI Specification</h5>
                            <p class="text-muted small mb-2">Learn contract-first API design with OpenAPI 3.0/3.1.</p>
                            <a href="api-dev-openapi-specification.html" class="text-decoration-none">Read Article <i class="fas fa-arrow-right ms-1"></i></a>
                        </div>
                    </div>

                </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="social-media" class="bg-dark text-light py-5">
        <div class="container py-5">
            <div class="row mb-4">
                <div class="col-lg-6 mb-4 mb-lg-0">
                    <h5 class="fw-bold mb-3">Let's Connect</h5>
                    <p class="text-light">I'm always interested in sharing content about my interests on different topics. Read disclaimer and feel free to share further.</p>
                </div>
                <div class="col-lg-6">
                    <h5 class="fw-bold mb-3">Follow Me</h5>
                    <div class="social-links d-flex gap-2 flex-wrap">
                        <a href="https://www.facebook.com/wasil.zafar/" target="_blank" class="social-icon" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://twitter.com/wasilzafar" target="_blank" class="social-icon" title="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.linkedin.com/in/wasilzafar" target="_blank" class="social-icon" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.youtube.com/@wasilzafar" target="_blank" class="social-icon" title="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="https://www.instagram.com/itswzee/" target="_blank" class="social-icon" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://in.pinterest.com/wasilz/" target="_blank" class="social-icon" title="Pinterest"><i class="fab fa-pinterest-p"></i></a>
                        <a href="mailto:wasil.zafar@gmail.com" class="social-icon" title="Email"><i class="fas fa-envelope"></i></a>
                    </div>
                </div>
            </div>
            <hr class="bg-secondary">
            <div class="row mt-4">
                <div class="col-md-6">
                    <p class="small"><i class="fas fa-icons me-2"></i>Icons from <a href="https://www.flaticon.com/" target="_blank" class="text-light">Flaticon</a> &amp; <a href="https://fontawesome.com/" target="_blank" class="text-light">Font Awesome</a></p>
                    <p class="small mt-3"><a href="/" class="text-light text-decoration-none">Home</a> | <a href="/disclaimer.html" class="text-light text-decoration-none">Disclaimer</a> | <a href="/privacy-policy.html" class="text-light text-decoration-none">Privacy Policy</a></p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="small">Enjoying this content? â˜• <a href="https://buymeacoffee.com/itswzee" target="_blank" class="text-light" style="text-decoration: underline;">Keep me caffeinated</a> to keep the pixels flowing!</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <button id="scrollToTop" class="scroll-to-top" title="Back to Top"><i class="fas fa-arrow-up"></i></button>
    <div id="categoryIndicator" class="category-indicator" title="Current Section"><i class="fas fa-tag"></i><span id="categoryText">Technology</span></div>
    <script src="../../../js/cookie-consent.js"></script>
    <script src="../../../js/main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
</body>
</html>
