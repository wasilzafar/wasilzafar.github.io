<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="robots" content="index, archive" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Master multiplayer game development - client-server architecture, peer-to-peer, lag compensation, netcode, state synchronization, and matchmaking systems." />
    <meta name="author" content="Wasil Zafar" />
    <meta name="keywords" content="Multiplayer Games, Networking, Client-Server, P2P, Lag Compensation, Netcode, Matchmaking, State Sync" />
    <meta property="og:title" content="Game Development Series Part 11: Multiplayer & Networking" />
    <meta property="og:description" content="Master multiplayer - client-server, lag compensation, netcode, and matchmaking." />
    <meta property="og:type" content="article" />
    <meta property="article:published_time" content="2026-01-31" />
    <meta property="article:author" content="Wasil Zafar" />
    <meta property="article:section" content="Gaming" />
    
    <title>Game Development Series Part 11: Multiplayer & Networking - Wasil Zafar</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" />

    <!-- Prism.js Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" id="prism-theme" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" id="prism-default" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-dark.min.css" id="prism-dark" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-twilight.min.css" id="prism-twilight" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css" id="prism-okaidia" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-solarizedlight.min.css" id="prism-solarizedlight" disabled />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css" />

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="../../../images/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../images/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../images/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="../../../images/favicon_io/site.webmanifest">

    <!-- Google Consent Mode v2 -->
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('consent', 'default', {
            'ad_storage': 'denied', 'ad_user_data': 'denied', 'ad_personalization': 'denied', 'analytics_storage': 'denied',
            'region': ['AT','BE','BG','HR','CY','CZ','DK','EE','FI','FR','DE','GR','HU','IE','IT','LV','LT','LU','MT','NL','PL','PT','RO','SK','SI','ES','SE']
        });
        gtag('consent', 'default', { 'ad_storage': 'granted', 'ad_user_data': 'granted', 'ad_personalization': 'granted', 'analytics_storage': 'granted' });
        gtag('set', 'url_passthrough', true);
    </script>

    <!-- Google Tag Manager -->
    <script>
        (function(w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
            var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true; j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-PBS8M2JR');
    </script>
</head>
<body>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PBS8M2JR" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <!-- GDPR Cookie Consent Banner -->
    <div id="cookieBanner" class="light display-bottom" style="display: none;">
        <div id="closeIcon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"></path></svg></div>
        <div class="content-wrap">
            <div class="msg-wrap">
                <div class="title-wrap">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="20" height="20"><path fill="#3B9797" d="M510.52 255.82c-69.97-.85-126.47-57.69-126.47-127.86-70.17 0-127-56.49-127.86-126.45-27.26-4.14-55.13.3-79.72 12.82l-69.13 35.22a132.221 132.221 0 0 0-57.79 57.81l-35.1 68.88a132.645 132.645 0 0 0-12.82 80.95l12.08 76.27a132.521 132.521 0 0 0 37.16 70.37l54.64 54.64a132.036 132.036 0 0 0 70.37 37.16l76.27 12.15c27.51 4.36 55.7-.11 80.95-12.8l68.88-35.08a132.166 132.166 0 0 0 57.79-57.81l35.1-68.88c12.56-24.64 17.01-52.58 12.91-79.91zM176 368c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm32-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm160 128c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"></path></svg>
                    <h4 style="margin: 0; font-size: 18px; color: var(--color-navy); font-weight: 700;">Cookie Consent</h4>
                </div>
                <p style="font-size: 14px; line-height: 1.6; color: var(--color-navy); margin-bottom: 15px;">We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies. See our <a href="/privacy-policy.html" style="color: var(--color-teal); border-bottom: 1px dotted var(--color-teal);">Privacy Policy</a> for more information.</p>
                <div id="cookieSettings" style="display: none;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="14" height="14"><path fill="currentColor" d="M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"></path></svg><span style="margin-left: 5px; font-size: 12px; font-weight: 600; color: var(--color-navy);">Customize Settings</span></div>
                <div id="cookieTypes" style="display: none; margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(59, 151, 151, 0.2);">
                    <h5 style="font-size: 12px; font-weight: 700; color: var(--color-navy); margin-bottom: 10px; text-transform: uppercase;">Cookie Preferences</h5>
                    <div style="margin-bottom: 12px;"><label style="display: flex; align-items: start; cursor: pointer;"><input type="checkbox" checked disabled style="margin-top: 2px; margin-right: 8px; cursor: not-allowed;"><div><strong style="font-size: 13px; color: var(--color-navy); display: block; margin-bottom: 2px;">Essential Cookies (Required)</strong><span style="font-size: 12px; color: #666;">Necessary for the website to function properly.</span></div></label></div>
                    <div style="margin-bottom: 12px;"><label style="display: flex; align-items: start; cursor: pointer;"><input type="checkbox" id="analyticsCookies" checked style="margin-top: 2px; margin-right: 8px;"><div><strong style="font-size: 13px; color: var(--color-navy); display: block; margin-bottom: 2px;">Analytics Cookies</strong><span style="font-size: 12px; color: #666;">Help us understand how you interact with the website.</span></div></label></div>
                    <div style="margin-bottom: 12px;"><label style="display: flex; align-items: start; cursor: pointer;"><input type="checkbox" id="marketingCookies" style="margin-top: 2px; margin-right: 8px;"><div><strong style="font-size: 13px; color: var(--color-navy); display: block; margin-bottom: 2px;">Marketing Cookies</strong><span style="font-size: 12px; color: #666;">Used to deliver relevant advertisements.</span></div></label></div>
                </div>
            </div>
            <div class="btn-wrap">
                <button id="cookieAccept" style="background: var(--color-teal); color: white; font-weight: 600;">Accept All</button>
                <button id="cookieReject" style="background: transparent; color: var(--color-navy); border: 2px solid var(--color-teal); font-weight: 600;">Reject All</button>
                <button id="cookieSave" style="background: var(--color-blue); color: white; font-weight: 600; display: none;">Save Preferences</button>
            </div>
        </div>
    </div>

    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="/"><span class="gradient-text">Wasil Zafar</span></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#about">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#skills">Skills</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#certifications">Certifications</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#interests">Interests</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="blog-hero">
        <div class="container py-5">
            <div class="blog-header">
                <a href="../../categories/gaming.html" class="back-link"><i class="fas fa-arrow-left me-2"></i>Back to Gaming</a>
                <h1 class="display-4 fw-bold mb-3">Game Development Series Part 11: Multiplayer & Networking</h1>
                <div class="blog-meta">
                    <span><i class="fas fa-calendar me-2"></i>January 31, 2026</span>
                    <span><i class="fas fa-user me-2"></i>Wasil Zafar</span>
                    <span class="reading-time"><i class="fas fa-clock me-1"></i>28 min read</span>
                    <button onclick="window.print()" class="print-btn" title="Print this article"><i class="fas fa-print"></i> Print</button>
                </div>
                <p class="lead">Master multiplayer game development including client-server architecture, peer-to-peer, lag compensation, netcode, state synchronization, and matchmaking systems.</p>
            </div>
        </div>
    </section>

    <!-- Table of Contents Toggle Button -->
    <button class="toc-toggle-btn" onclick="openNav()" title="Table of Contents" aria-label="Open Table of Contents"><i class="fas fa-list"></i></button>

    <!-- Side Navigation TOC -->
    <div id="tocSidenav" class="sidenav-toc">
        <div class="toc-header"><h3><i class="fas fa-list me-2"></i>Table of Contents</h3><button class="closebtn" onclick="closeNav()" aria-label="Close Table of Contents">&times;</button></div>
        <ol>
            <li><a href="#architecture" onclick="closeNav()">Network Architecture</a></li>
            <li><a href="#protocols" onclick="closeNav()">TCP vs UDP</a></li>
            <li><a href="#lag" onclick="closeNav()">Lag Compensation</a></li>
            <li><a href="#sync" onclick="closeNav()">State Synchronization</a></li>
            <li><a href="#matchmaking" onclick="closeNav()">Matchmaking Systems</a></li>
            <li><a href="#security" onclick="closeNav()">Network Security</a></li>
        </ol>
    </div>
    <div id="tocOverlay" class="sidenav-overlay" onclick="closeNav()"></div>

    <!-- Main Content -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                <div class="blog-content">
                    
                    <div class="highlight-box"><i class="fas fa-info-circle me-2"></i><strong>Part 11 of 13:</strong> This guide covers multiplayer networking. See <a href="game-dev-ai-systems.html">Part 10: Game AI Systems</a> first.</div>

                    <!-- Series Navigation Card -->
                    <div class="experiment-card">
                        <h4><i class="fas fa-map-signs me-2"></i>Complete Series Navigation</h4>
                        <div class="meta mb-2">
                            <span class="badge bg-teal me-2">13-Part Series</span>
                            <span class="badge bg-crimson">Game Development</span>
                        </div>
                        <div class="content">
                            <ol>
                                <li><a href="game-dev-introduction.html">Introduction to Game Development</a></li>
                                <li><a href="game-dev-choosing-engine.html">Choosing a Game Engine</a></li>
                                <li><a href="game-dev-programming-basics.html">Programming Basics for Games</a></li>
                                <li><a href="game-dev-2d-development.html">2D Game Development</a></li>
                                <li><a href="game-dev-3d-development.html">3D Game Development</a></li>
                                <li><a href="game-dev-physics-collision.html">Physics & Collision Systems</a></li>
                                <li><a href="game-dev-audio-sound.html">Audio & Sound Design</a></li>
                                <li><a href="game-dev-publishing.html">Publishing Your Game</a></li>
                                <li><a href="game-dev-design-fundamentals.html">Game Design Fundamentals</a></li>
                                <li><a href="game-dev-ai-systems.html">AI in Games</a></li>
                                <li><strong>Multiplayer & Networking (This Guide)</strong></li>
                                <li><a href="game-dev-professional-workflow.html">Professional Game Dev Workflow</a></li>
                                <li><a href="game-dev-portfolio-building.html">Building a Portfolio</a></li>
                            </ol>
                        </div>
                    </div>

                    <h2 id="architecture"><i class="fas fa-network-wired me-2 text-teal"></i>Network Architecture</h2>
                    
                    <p>Choosing the right <strong>network architecture</strong> is one of the most important decisions in multiplayer game development. It affects gameplay feel, security, and scalability.</p>
                    
                    <h3>Architecture Types</h3>
                    
<pre><code class="language-text">Peer-to-Peer (P2P):                Dedicated Server:
    
    Player 1 ←───→ Player 2             ┌──────────┐
        ╲           ╱                   │  SERVER  │
         ╲         ╱                    │ (Source  │
          ╲       ╱                     │  of      │
           ╲     ╱                      │  Truth)  │
        Player 3                        └────┬─────┘
                                        ╱    │    ╲
Everyone talks to everyone           ╱       │      ╲
                                   P1       P2      P3
Pros:                           
• No server cost               Pros:
• Low latency (direct)         • Authoritative (anti-cheat)
• Works for small games        • Consistent for all players
                               • Scales to many players
Cons:                          
• Host advantage               Cons:
• Cheating is easy             • Server hosting cost
• Doesn't scale                • Single point of failure</code></pre>
                    
                    <h3>Client-Server Model</h3>
                    
<pre><code class="language-text">Authoritative Server Model:

Player Input → Server → Server Validates → Server Updates World → 
                                          ↓
                     ← All Clients Receive State ←

Timeline:
Client                    Server                    Other Clients
   │                        │                           │
   │── Input: "Move Right"──→│                           │
   │                        │ Validate (is move legal?) │
   │                        │ Update position           │
   │←── New Position ───────│───── New Position ───────→│
   │                        │                           │
   
The server is the SOURCE OF TRUTH.
Clients only display what the server tells them.</code></pre>
                    
                    <div class="highlight-box">
                        <i class="fas fa-lightbulb me-2"></i>
                        <strong>Golden Rule:</strong> Never trust the client! Clients can be modified, packets can be forged. Always validate everything on the server.
                    </div>
                    
                    <h2 id="protocols"><i class="fas fa-exchange-alt me-2 text-teal"></i>TCP vs UDP</h2>
                    
                    <p>Games use different network protocols depending on their needs. The two main choices are <strong>TCP</strong> (reliable) and <strong>UDP</strong> (fast).</p>
                    
                    <div class="table-responsive">
                        <table class="table table-bordered">
                            <thead class="table-dark">
                                <tr>
                                    <th>Aspect</th>
                                    <th>TCP</th>
                                    <th>UDP</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Reliability</strong></td>
                                    <td>Guaranteed delivery, ordered</td>
                                    <td>No guarantee, may arrive out of order</td>
                                </tr>
                                <tr>
                                    <td><strong>Speed</strong></td>
                                    <td>Slower (waits for acknowledgment)</td>
                                    <td>Faster (fire and forget)</td>
                                </tr>
                                <tr>
                                    <td><strong>Use Cases</strong></td>
                                    <td>Chat, login, purchases, turn-based</td>
                                    <td>Position updates, FPS, real-time action</td>
                                </tr>
                                <tr>
                                    <td><strong>Example Games</strong></td>
                                    <td>Card games, strategy, MMO chat</td>
                                    <td>FPS, racing, fighting games</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
<pre><code class="language-text">Why UDP for Real-Time Games?

TCP packet loss handling:
   Packet 1 ───→ ✓ Received
   Packet 2 ───→ ✓ Received
   Packet 3 ───→ ✗ LOST!
   Packet 4 ───→ (Waiting for 3...)
   Packet 5 ───→ (Waiting for 3...)
                 
   [STALL until Packet 3 is resent]  ← Head-of-line blocking!

UDP approach:
   Packet 1 ───→ ✓ Use it
   Packet 2 ───→ ✓ Use it
   Packet 3 ───→ ✗ Lost, who cares?
   Packet 4 ───→ ✓ Use it (newer data anyway!)
   
For position updates, old data is useless.
We want the LATEST state, not every state.</code></pre>
                    
                    <h2 id="lag"><i class="fas fa-clock me-2 text-teal"></i>Lag Compensation</h2>
                    
                    <p><strong>Lag</strong> (latency) is the delay between sending a message and receiving a response. Good netcode hides lag from players.</p>
                    
<pre><code class="language-text">The Lag Problem:

Player A (50ms ping)              Server              Player B (100ms ping)
     │                              │                       │
t=0  │── Shoots at B ─────────────→│                       │
     │                              │                       │
t=25 │                              │←─────────────────────│ B moved!
     │                              │                       │
t=50 │                              │ Server receives shot │
     │                              │ But B is no longer there!
     │                              │                       │
     │                              │ Shot misses? (feels unfair)

On Player A's screen, they clearly hit B.
But by the time the server processes it, B has moved.</code></pre>
                    
                    <h3>Lag Compensation Techniques</h3>
                    
<pre><code class="language-text">1. CLIENT-SIDE PREDICTION
   Client predicts result immediately, server corrects if wrong.
   
   Client: "I pressed right, I'll move right now"
   Server: "Okay, that was valid" or "No, wall there, snap back"

2. SERVER REWIND (Lag Compensation)
   Server "rewinds" to check what player saw when they shot.
   
   Server: "Player A shot at t=50, but has 50ms ping.
           Let me check where B was at t=0... HIT!"

3. INTERPOLATION
   Smooth movement between received positions.
   
   Received: Position at t=0, Position at t=100
   Display:  Smooth animation between them over 100ms

4. EXTRAPOLATION
   Predict future position based on velocity.
   
   Last known: Position=10, Velocity=5
   Predict:    Position ≈ 10 + 5*dt</code></pre>
                    
<pre><code class="language-csharp">// Client-Side Prediction
public class NetworkedPlayer : MonoBehaviour
{
    private Queue&lt;InputData&gt; pendingInputs = new Queue&lt;InputData&gt;();
    private Vector3 serverPosition;
    
    void Update()
    {
        // 1. Gather input
        InputData input = new InputData
        {
            timestamp = Time.time,
            movement = new Vector3(Input.GetAxis("Horizontal"), 0, Input.GetAxis("Vertical"))
        };
        
        // 2. Apply locally (prediction)
        ApplyInput(input);
        
        // 3. Send to server
        SendInputToServer(input);
        pendingInputs.Enqueue(input);
    }
    
    // Called when server sends authoritative position
    void OnServerUpdate(Vector3 serverPos, float serverTime)
    {
        serverPosition = serverPos;
        
        // Remove acknowledged inputs
        while (pendingInputs.Count > 0 && pendingInputs.Peek().timestamp &lt;= serverTime)
            pendingInputs.Dequeue();
        
        // Re-apply unacknowledged inputs
        transform.position = serverPosition;
        foreach (var input in pendingInputs)
            ApplyInput(input);
    }
}</code></pre>
                    
                    <h2 id="sync"><i class="fas fa-sync me-2 text-teal"></i>State Synchronization</h2>
                    
                    <p><strong>State synchronization</strong> keeps all players seeing (roughly) the same game world. There are different strategies depending on what needs to be synced.</p>
                    
<pre><code class="language-text">What to Synchronize:

Deterministic Lockstep:        State Sync:              Event-Based:
┌─────────────────────┐        ┌─────────────────┐      ┌─────────────────┐
│ Send: Inputs only   │        │ Send: Full state│      │ Send: Events    │
│ All simulate same   │        │ Client renders  │      │ Client plays    │
│ Perfect sync        │        │ Server trusts   │      │ animations      │
├─────────────────────┤        ├─────────────────┤      ├─────────────────┤
│ Used: RTS, fighting │        │ Used: FPS, MMO  │      │ Used: Effects   │
│ Pro: Low bandwidth  │        │ Pro: Simple     │      │ Pro: Very light │
│ Con: Needs identical│        │ Con: High       │      │ Con: Can desync │
│ simulation          │        │ bandwidth       │      │ animations      │
└─────────────────────┘        └─────────────────┘      └─────────────────┘</code></pre>
                    
<pre><code class="language-csharp">// State Synchronization (Simplified)
[System.Serializable]
public struct NetworkState
{
    public Vector3 position;
    public Quaternion rotation;
    public float health;
    public int ammo;
    public bool isCrouching;
}

public class StateSynchronizer : MonoBehaviour
{
    private NetworkState lastSentState;
    private float sendRate = 20f;  // 20 updates per second
    private float sendTimer;
    
    void Update()
    {
        sendTimer += Time.deltaTime;
        
        if (sendTimer >= 1f / sendRate)
        {
            NetworkState currentState = GetCurrentState();
            
            // Only send if changed (delta compression)
            if (StateChanged(currentState, lastSentState))
            {
                SendStateToServer(currentState);
                lastSentState = currentState;
            }
            
            sendTimer = 0f;
        }
    }
    
    bool StateChanged(NetworkState a, NetworkState b)
    {
        return Vector3.Distance(a.position, b.position) > 0.01f ||
               Quaternion.Angle(a.rotation, b.rotation) > 1f ||
               a.health != b.health ||
               a.ammo != b.ammo ||
               a.isCrouching != b.isCrouching;
    }
}</code></pre>
                    
                    <h2 id="matchmaking"><i class="fas fa-users me-2 text-teal"></i>Matchmaking Systems</h2>
                    
                    <p><strong>Matchmaking</strong> pairs players for fair, fun games. A good system considers skill, latency, wait time, and player preferences.</p>
                    
<pre><code class="language-text">Matchmaking Factors:

1. SKILL RATING (ELO, Glicko, TrueSkill)
   ┌─────────────────────────────────────────┐
   │ Players ranked 1800-1900                │
   │    ●●●●● (similar skill = fair match)   │
   └─────────────────────────────────────────┘

2. LATENCY (Ping-based regions)
   EU-West players → EU-West servers
   US-East players → US-East servers

3. QUEUE TIME (Loosen requirements over time)
   0-30s:   Search ±50 rating, &lt;50ms ping
   30-60s:  Search ±100 rating, &lt;80ms ping
   60s+:    Search ±200 rating, any ping

4. PARTY SIZE
   5-stack vs 5-stack (not 5 vs solo players)</code></pre>
                    
                    <h2 id="security"><i class="fas fa-shield-alt me-2 text-teal"></i>Network Security</h2>
                    
                    <p>Multiplayer games face constant cheating attempts. Security is essential for fair gameplay.</p>
                    
<pre><code class="language-text">Common Cheats and Defenses:

Cheat Type          How It Works              Defense
─────────────────────────────────────────────────────────────
Speed hacks         Modify local time/speed   Server validates movement
Aimbots            Auto-aim at enemies       Server-side hit detection
Wallhacks          See through walls         Don't send hidden positions
Item duplication   Forge inventory packets   Server tracks all items
Position teleport  Send fake coordinates     Server bounds checking
Packet injection   Send fake commands        Authentication + encryption

Server Authority Examples:
"Client says they killed enemy" → Server: "Was enemy in range? Line of sight? Cooldown?"
"Client says they have 999 gold" → Server: "I track gold. You have 50."
"Client says they moved 100 units" → Server: "Max is 10 units/tick. Rejected."</code></pre>
                    
<pre><code class="language-csharp">// Server-Side Validation
public class ServerValidation
{
    private const float MAX_SPEED = 10f;
    private const float MAX_TELEPORT_DISTANCE = 2f;
    
    public bool ValidateMove(Player player, Vector3 newPosition)
    {
        float distance = Vector3.Distance(player.Position, newPosition);
        float maxAllowed = MAX_SPEED * Time.fixedDeltaTime;
        
        // Check for speed hacks
        if (distance > maxAllowed * 1.5f)  // Small tolerance
        {
            LogSuspicious(player, "Speed hack suspected");
            return false;
        }
        
        // Check for teleporting
        if (distance > MAX_TELEPORT_DISTANCE)
        {
            LogSuspicious(player, "Teleport detected");
            return false;
        }
        
        // Check collision (can't walk through walls)
        if (Physics.Linecast(player.Position, newPosition, wallLayer))
        {
            LogSuspicious(player, "Noclip suspected");
            return false;
        }
        
        return true;
    }
    
    public bool ValidateShot(Player shooter, Player target, float timestamp)
    {
        // Rewind to when player shot
        Vector3 targetPosAtShot = RewindPosition(target, timestamp);
        
        // Check line of sight
        if (!HasLineOfSight(shooter.Position, targetPosAtShot))
            return false;
        
        // Check weapon range
        if (Vector3.Distance(shooter.Position, targetPosAtShot) > shooter.Weapon.Range)
            return false;
        
        return true;
    }
}</code></pre>
                    
                    <div class="experiment-card">
                        <h4><i class="fas fa-tasks me-2"></i>Exercise: Build a Simple Multiplayer Game</h4>
                        <div class="content">
                            <p><strong>Goal:</strong> Create a basic multiplayer game with client-server architecture.</p>
                            <ol>
                                <li>Set up a multiplayer framework (Unity Netcode, Photon, or Mirror)</li>
                                <li>Create a lobby system where players can host/join games</li>
                                <li>Implement player movement with client-side prediction</li>
                                <li>Add interpolation for smooth remote player movement</li>
                                <li>Implement a simple shooting/interaction system with server validation</li>
                                <li>Add a basic scoreboard synced across all clients</li>
                            </ol>
                            <p><strong>Bonus:</strong> Add voice chat or text chat functionality</p>
                        </div>
                        <div class="tags mt-3">
                            <span class="badge bg-teal">Hands-On</span>
                            <span class="badge bg-secondary">8-12 Hours</span>
                        </div>
                    </div>

                    <!-- Related Posts -->
                    <div class="related-posts">
                        <h3><i class="fas fa-book-reader me-2"></i>Continue the Series</h3>
                        <div class="related-post-item">
                            <h5 class="mb-2">Part 10: Game AI Systems</h5>
                            <p class="text-muted small mb-2">Learn pathfinding, state machines, behavior trees, and decision making.</p>
                            <a href="game-dev-ai-systems.html" class="text-decoration-none">Read Article <i class="fas fa-arrow-right ms-1"></i></a>
                        </div>
                        <div class="related-post-item">
                            <h5 class="mb-2">Part 12: Professional Workflow</h5>
                            <p class="text-muted small mb-2">Master Git for games, asset pipelines, and agile development practices.</p>
                            <a href="game-dev-professional-workflow.html" class="text-decoration-none">Read Article <i class="fas fa-arrow-right ms-1"></i></a>
                        </div>
                    </div>

                </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="social-media" class="bg-dark text-light py-5">
        <div class="container py-5">
            <div class="row mb-4">
                <div class="col-lg-6 mb-4 mb-lg-0">
                    <h5 class="fw-bold mb-3">Let's Connect</h5>
                    <p class="text-light">I'm always interested in sharing content about my interests on different topics. Read disclaimer and feel free to share further.</p>
                </div>
                <div class="col-lg-6">
                    <h5 class="fw-bold mb-3">Follow Me</h5>
                    <div class="social-links d-flex gap-2 flex-wrap">
                        <a href="https://www.facebook.com/wasil.zafar/" target="_blank" class="social-icon" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://twitter.com/wasilzafar" target="_blank" class="social-icon" title="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.linkedin.com/in/wasilzafar" target="_blank" class="social-icon" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.youtube.com/@wasilzafar" target="_blank" class="social-icon" title="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="https://www.instagram.com/itswzee/" target="_blank" class="social-icon" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://in.pinterest.com/wasilz/" target="_blank" class="social-icon" title="Pinterest"><i class="fab fa-pinterest-p"></i></a>
                        <a href="mailto:wasil.zafar@gmail.com" class="social-icon" title="Email"><i class="fas fa-envelope"></i></a>
                    </div>
                </div>
            </div>
            <hr class="bg-secondary">
            <div class="row mt-4">
                <div class="col-md-6">
                    <p class="small"><i class="fas fa-icons me-2"></i>Icons from <a href="https://www.flaticon.com/" target="_blank" class="text-light">Flaticon</a> &amp; <a href="https://fontawesome.com/" target="_blank" class="text-light">Font Awesome</a></p>
                    <p class="small mt-3"><a href="/" class="text-light text-decoration-none">Home</a> | <a href="/disclaimer.html" class="text-light text-decoration-none">Disclaimer</a> | <a href="/privacy-policy.html" class="text-light text-decoration-none">Privacy Policy</a></p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="small">Enjoying this content? ☕ <a href="https://buymeacoffee.com/itswzee" target="_blank" class="text-light" style="text-decoration: underline;">Keep me caffeinated</a> to keep the pixels flowing!</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <button id="scrollToTop" class="scroll-to-top" title="Back to Top"><i class="fas fa-arrow-up"></i></button>
    <div id="categoryIndicator" class="category-indicator" title="Current Section"><i class="fas fa-tag"></i><span id="categoryText">Gaming</span></div>
    <script src="../../../js/cookie-consent.js"></script>
    <script src="../../../js/main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-csharp.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
</body>
</html>
